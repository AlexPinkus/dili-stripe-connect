(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.6","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return on}),n.d(e,"b",function(){return Yu}),n.d(e,"c",function(){return Gu}),n.d(e,"d",function(){return zu}),n.d(e,"e",function(){return Bu}),n.d(e,"f",function(){return za}),n.d(e,"g",function(){return Ra}),n.d(e,"h",function(){return Xs}),n.d(e,"i",function(){return ua}),n.d(e,"j",function(){return _s}),n.d(e,"k",function(){return Ju}),n.d(e,"l",function(){return Cs}),n.d(e,"m",function(){return vr}),n.d(e,"n",function(){return Cu}),n.d(e,"o",function(){return Xi}),n.d(e,"p",function(){return In}),n.d(e,"q",function(){return k}),n.d(e,"r",function(){return rn}),n.d(e,"s",function(){return po}),n.d(e,"t",function(){return Bs}),n.d(e,"u",function(){return $s}),n.d(e,"v",function(){return Zu}),n.d(e,"w",function(){return au}),n.d(e,"x",function(){return Pa}),n.d(e,"y",function(){return uu}),n.d(e,"z",function(){return xa}),n.d(e,"A",function(){return la}),n.d(e,"B",function(){return Cn}),n.d(e,"C",function(){return Ku}),n.d(e,"D",function(){return Qu}),n.d(e,"E",function(){return xs}),n.d(e,"F",function(){return Ts}),n.d(e,"G",function(){return _r}),n.d(e,"H",function(){return js}),n.d(e,"I",function(){return fr}),n.d(e,"J",function(){return Sn}),n.d(e,"K",function(){return Ma}),n.d(e,"L",function(){return ru}),n.d(e,"M",function(){return va}),n.d(e,"N",function(){return sn}),n.d(e,"O",function(){return ks}),n.d(e,"P",function(){return Ns}),n.d(e,"Q",function(){return lu}),n.d(e,"R",function(){return M}),n.d(e,"S",function(){return Aa}),n.d(e,"T",function(){return Sa}),n.d(e,"U",function(){return w}),n.d(e,"V",function(){return Ca}),n.d(e,"W",function(){return qa}),n.d(e,"X",function(){return wa}),n.d(e,"Y",function(){return Xu}),n.d(e,"Z",function(){return Ji}),n.d(e,"ab",function(){return us}),n.d(e,"bb",function(){return lr}),n.d(e,"cb",function(){return Wn}),n.d(e,"db",function(){return Vn}),n.d(e,"eb",function(){return Mn}),n.d(e,"fb",function(){return Hn}),n.d(e,"gb",function(){return Fn}),n.d(e,"hb",function(){return Un}),n.d(e,"ib",function(){return qn}),n.d(e,"jb",function(){return rs}),n.d(e,"kb",function(){return Fa}),n.d(e,"lb",function(){return is}),n.d(e,"mb",function(){return os}),n.d(e,"nb",function(){return Ln}),n.d(e,"ob",function(){return z}),n.d(e,"pb",function(){return Eo}),n.d(e,"qb",function(){return Mo}),n.d(e,"rb",function(){return Vo}),n.d(e,"sb",function(){return Lo}),n.d(e,"tb",function(){return ns}),n.d(e,"ub",function(){return Nt}),n.d(e,"vb",function(){return v}),n.d(e,"wb",function(){return Pn}),n.d(e,"xb",function(){return yo}),n.d(e,"yb",function(){return Ct}),n.d(e,"zb",function(){return ms}),n.d(e,"Ab",function(){return ri}),n.d(e,"Bb",function(){return So}),n.d(e,"Cb",function(){return $o}),n.d(e,"Db",function(){return Mu}),n.d(e,"Eb",function(){return tt}),n.d(e,"Fb",function(){return ut}),n.d(e,"Gb",function(){return E}),n.d(e,"Hb",function(){return I}),n.d(e,"Ib",function(){return it}),n.d(e,"Jb",function(){return at}),n.d(e,"Kb",function(){return Ao}),n.d(e,"Lb",function(){return Do}),n.d(e,"Mb",function(){return Ro}),n.d(e,"Nb",function(){return ko}),n.d(e,"Ob",function(){return Po}),n.d(e,"Pb",function(){return Je}),n.d(e,"Qb",function(){return Zo}),n.d(e,"Rb",function(){return _n}),n.d(e,"Sb",function(){return tn}),n.d(e,"Tb",function(){return Hu}),n.d(e,"Ub",function(){return Uo}),n.d(e,"Vb",function(){return Uu}),n.d(e,"Wb",function(){return Ho}),n.d(e,"Xb",function(){return jo}),n.d(e,"Yb",function(){return Lu}),n.d(e,"Zb",function(){return xo}),n.d(e,"ac",function(){return Qt}),n.d(e,"bc",function(){return dr}),n.d(e,"cc",function(){return ot}),n.d(e,"dc",function(){return To}),n.d(e,"ec",function(){return qu}),n.d(e,"fc",function(){return Xo});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("7o/Q");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends u.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return a()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function v(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(v).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function m(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return v(this())},t}function _(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===w}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return S(t,x)||S(t,j)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(N))?t[A]:null}const x=g({"\u0275prov":g}),A=g({"\u0275inj":g}),j=g({ngInjectableDef:g}),N=g({ngInjectorDef:g});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let R;function D(t){const e=R;return R=t,e}function P(t,e,n){const r=C(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${v(t)}]`)}function V(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=U||H||F||q,B={},G=[],$=g({"\u0275cmp":g}),W=g({"\u0275dir":g}),Q=g({"\u0275pipe":g}),K=g({"\u0275mod":g}),Y=g({"\u0275loc":g}),X=g({"\u0275fac":g}),Z=g({__NG_ELEMENT_ID__:g});let J=0;function tt(t){return V(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[W]||null}(t)}function nt(t){return function(t){return t[Q]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&V(()=>{rt[t.id]=t.type}),e}function ot(t,e){return V(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ut=tt;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[$]||null}function lt(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${v(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function yt(t){return 2==(2&t.flags)}function vt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(X)?t[X]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function Et(t,e){const n=e?` in ${e}`:"";throw new wt("201",`No provider for ${Ot(t)} found${n}`)}class It{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ct(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),Tt}function Tt(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new It(a&&a.currentValue,e,s===B),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}let jt;function Nt(t){jt=t}function kt(t){return!!t.listen}Ct.ngInherit=!0;const Rt={createRenderer:(t,e)=>void 0!==jt?jt:"undefined"!=typeof document?document:void 0};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Pt(t,e){return Dt(e[t.index])}function Vt(t,e){return t.data[e]}function Lt(t,e){const n=e[t];return dt(n)?n:n[0]}function Mt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ut(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function qt(t,e){return null==e?null:t[e]}function Ht(t){t[18]=0}function zt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:le(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return Bt.bindingsEnabled}function $t(){return Bt.lFrame.lView}function Wt(){return Bt.lFrame.tView}function Qt(t){Bt.lFrame.contextLView=t}function Kt(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return Bt.lFrame.currentTNode}function Xt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return Bt.lFrame.isParent}function Jt(){return Bt.isInCheckNoChangesMode}function te(t){Bt.isInCheckNoChangesMode=t}function ee(){return Bt.lFrame.bindingIndex++}function ne(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,re(e)}function re(t){Bt.lFrame.currentDirectiveIndex=t}function ie(){return Bt.lFrame.currentQueryIndex}function oe(t){Bt.lFrame.currentQueryIndex=t}function se(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ue(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=se(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=ce();return r.currentTNode=e,r.lView=t,!0}function ae(t){const e=ce(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ce(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?le(t):e}function le(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function he(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fe=he;function de(){const t=he();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pe(){return Bt.lFrame.selectedIndex}function ge(t){Bt.lFrame.selectedIndex=t}function ye(){const t=Bt.lFrame;return Vt(t.tView,t.selectedIndex)}function ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function me(t,e,n){_e(t,e,3,n)}function be(t,e,n,r){(3&t[2])===n&&_e(t,e,n,r)}function we(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function _e(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[18]+=65536),(s<i||-1==i)&&(Oe(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Oe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ee=-1;class Ie{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ce(t,e,n){const r=kt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];Te(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function Se(t){return 3===t||4===t||6===t}function Te(t){return 64===t.charCodeAt(0)}function xe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ae(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ae(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function je(t){return t!==Ee}function Ne(t){return 32767&t}function ke(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function De(t){const e=Re;return Re=t,e}let Pe=0;function Ve(t,e){const n=Me(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=Ue(t,e),o=t.injectorIndex;if(je(i)){const t=Ne(i),n=ke(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Me(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ue(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ee;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ee}function Fe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=Pe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function qe(t,e,n){if(n&k.Optional)return t;Et(e,"NodeInjector")}function He(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&k.Optional):P(e,r,n&k.Optional)}finally{D(o)}}return qe(r,e,n)}function ze(t,e,n,r=k.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:Ge:e}(n);if("function"==typeof o){if(!ue(e,t,r))return r&k.Host?qe(i,n,r):He(e,n,r,i);try{const t=o();if(null!=t||r&k.Optional)return t;Et(n)}finally{fe()}}else if("number"==typeof o){let i=null,s=Me(t,e),u=Ee,a=r&k.Host?e[16][6]:null;for((-1===s||r&k.SkipSelf)&&(u=-1===s?Ue(t,e):e[s+8],u!==Ee&&Ye(r,!1)?(i=e[1],s=Ne(u),e=ke(u,e)):s=-1);-1!==s;){const t=e[1];if(Ke(o,s,t.data)){const t=$e(s,e,n,i,r,a);if(t!==Be)return t}u=e[s+8],u!==Ee&&Ye(r,e[1].data[s+8]===a)&&Ke(o,s,e)?(i=t,s=Ne(u),e=ke(u,e)):s=-1}}}return He(e,n,r,i)}const Be={};function Ge(){return new Xe(Kt(),$t())}function $e(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=We(u,s,n,null==r?yt(u)&&Re:r!=s&&0!=(3&u.type),i&k.Host&&o===u);return null!==a?Qe(e,s,a,u):Be}function We(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&mt(t)&&t.type===n)return a}return null}function Qe(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ie){const s=i;s.resolving&&function(t,e){throw new wt("200",`Circular dependency in DI detected for ${t}`)}(Ot(o[n]));const u=De(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?D(s.injectImpl):null;ue(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&D(a),De(u),s.resolving=!1,fe()}}return i}function Ke(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ye(t,e){return!(t&k.Self||t&k.Host&&e)}class Xe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}function Ze(t){const e=t;if(O(t))return()=>{const t=Ze(_(e));return t?t():null};let n=bt(e);if(null===n){const t=T(e);n=t&&t.factory}return n||null}function Je(t){return V(()=>{const e=t.prototype.constructor,n=e[X]||Ze(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||Ze(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function tn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Se(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const en="__parameters__";function nn(t,e,n){return V(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(en)?t[en]:Object.defineProperty(t,en,{value:[]})[en];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class rn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const on=new rn("AnalyzeForEntryComponents"),sn=Function;function un(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),un(r,e)):e!==t&&e.push(r)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function cn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ln(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hn(t,e,n){let r=dn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function fn(t,e){const n=dn(t,e);if(n>=0)return t[1|n]}function dn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const pn={},gn=/\n/gm,yn="__source",vn=g({provide:String,useValue:g});let mn;function bn(t){const e=mn;return mn=t,e}function wn(t,e=k.Default){if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?P(t,void 0,e):mn.get(t,e&k.Optional?null:void 0,e)}function _n(t,e=k.Default){return(R||wn)(_(t),e)}function On(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(_n(t,n))}else e.push(_n(r))}return e}function En(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const In=En(nn("Inject",t=>({token:t})),-1),Cn=En(nn("Optional"),8),Sn=En(nn("SkipSelf"),4);let Tn;function xn(t){var e;return(null===(e=function(){if(void 0===Tn&&(Tn=null,z.trustedTypes))try{Tn=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Tn}())||void 0===e?void 0:e.createHTML(t))||t}class An{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jn extends An{getTypeName(){return"HTML"}}class Nn extends An{getTypeName(){return"Style"}}class kn extends An{getTypeName(){return"Script"}}class Rn extends An{getTypeName(){return"URL"}}class Dn extends An{getTypeName(){return"ResourceURL"}}function Pn(t){return t instanceof An?t.changingThisBreaksApplicationSecurity:t}function Vn(t,e){const n=Ln(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Ln(t){return t instanceof An&&t.getTypeName()||null}function Mn(t){return new jn(t)}function Un(t){return new Nn(t)}function Fn(t){return new kn(t)}function qn(t){return new Rn(t)}function Hn(t){return new Dn(t)}class zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(xn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Bn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=xn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=xn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Gn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wn(t){return(t=String(t)).match(Gn)||t.match($n)?t:"unsafe:"+t}function Qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Kn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Yn=Qn("area,br,col,hr,img,wbr"),Xn=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zn=Qn("rp,rt"),Jn=Kn(Zn,Xn),tr=Kn(Yn,Kn(Xn,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kn(Zn,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn),er=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nr=Qn("srcset"),rr=Kn(er,nr,Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ir=Qn("script,style,template");class or{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!tr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ir.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!rr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;er[o]&&(s=Wn(s)),nr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Wn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ar(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();tr.hasOwnProperty(e)&&!Yn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ar(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const sr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ur=/([^\#-~ |!])/g;function ar(t){return t.replace(/&/g,"&amp;").replace(sr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ur,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cr;function lr(t,e){let n=null;try{cr=cr||function(t){const e=new Bn(t);return function(){try{return!!(new window.DOMParser).parseFromString(xn(""),"text/html")}catch(t){return!1}}()?new zn(e):e}(t);let r=e?String(e):"";n=cr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==o);return xn((new or).sanitizeChildren(hr(n)||n))}finally{if(n){const t=hr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function hr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var fr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function dr(t){const e=function(){const t=$t();return t&&t[12]}();return e?e.sanitize(fr.URL,t)||"":Vn(t,"URL")?Pn(t):Wn(_t(t))}function pr(t){return t.ngDebugContext}function gr(t){return t.ngOriginalError}function yr(t,...e){t.error(...e)}class vr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||yr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?pr(t)?pr(t):this._findContext(gr(t)):null}_findOriginalError(t){let e=gr(t);for(;e&&gr(e);)e=gr(e);return e}}function mr(t,e){t.__ngContext__=e}const br=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function wr(t){return t instanceof Function?t():t}var _r=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Or(t,e){return(void 0)(t,e)}function Er(t){const e=t[3];return pt(e)?e[3]:e}function Ir(t){return Sr(t[13])}function Cr(t){return Sr(t[4])}function Sr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Tr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const u=Dt(r);0===t&&null!==n?null==i?Dr(e,n,u):Rr(e,n,u,i||null,!0):1===t&&null!==n?Rr(e,n,u,i||null,!0):2===t?function(t,e,n){const r=Vr(t,e);r&&function(t,e,n,r){kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Dt(n)&&Tr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];qr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function xr(t,e,n){return kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ar(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,zt(i,-1)),n.splice(r,1)}function jr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ar(o,r),e>0&&(t[n-1][4]=r[4]);const s=ln(t,ft+e);qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Nr(t,e){if(!(256&e[2])){const n=e[11];kt(n)&&n.destroyNode&&qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return kr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&kr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&kr(e[1],e),n=e&&e[4]}e=n}}(e)}}function kr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ie)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Dt(e[t]),u=r[i=n[o+2]],a=n[o+3];"boolean"==typeof a?s.removeEventListener(n[o],u,a):a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&kt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Ar(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Rr(t,e,n,r,i){kt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Dr(t,e,n){kt(t)?t.appendChild(e,n):e.appendChild(n)}function Pr(t,e,n,r,i){null!==r?Rr(t,e,n,r,i):Dr(t,e,n)}function Vr(t,e){return kt(t)?t.parentNode(e):e.parentNode}function Lr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Pt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Pt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Pr(o,i,n[u],s,!1);else Pr(o,i,n,s,!1)}function Mr(t,e){if(null!==e){const n=e.type;if(3&n)return Pt(e,t);if(4&n)return Ur(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Mr(t,n);{const n=t[e.index];return pt(n)?Ur(-1,n):Dt(n)}}if(32&n)return Or(e,t)()||Dt(t[e.index]);{const n=t[16],r=n[6],i=Er(n),o=r.projection[e.projection];return null!=o?Mr(i,o):Mr(t,e.next)}}return null}function Ur(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Mr(t,r)}return e[7]}function Fr(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;if(s&&0===e&&(u&&mr(Dt(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)Fr(t,e,n.child,r,i,o,!1),Tr(e,t,i,u,o);else if(32&a){const s=Or(n,r);let a;for(;a=s();)Tr(e,t,i,a,o);Tr(e,t,i,u,o)}else 16&a?Hr(t,e,r,n,i,o):Tr(e,t,i,u,o);n=s?n.projectionNext:n.next}}function qr(t,e,n,r,i,o){Fr(n,r,t.firstChild,e,i,o,!1)}function Hr(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)Tr(e,t,i,u[a],o);else Fr(t,e,u,s[3],i,o,!0)}function zr(t,e,n){kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Br(t,e,n){kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Gr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const $r="ng-template";function Wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Gr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Qr(t){return 4===t.type&&t.value!==$r}function Kr(t,e,n){return e===(4!==t.type||n?t.value:$r)}function Yr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!Kr(t,a,n)||""===a&&1===e.length){if(Xr(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!Wr(t.attrs,c,n)){if(Xr(r))return!1;s=!0}continue}const l=Zr(8&r?"class":a,i,Qr(t),n);if(-1===l){if(Xr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Gr(e,c,0)||2&r&&c!==t){if(Xr(r))return!1;s=!0}}}}else{if(!s&&!Xr(r)&&!Xr(a))return!1;if(s&&Xr(a))continue;s=!1,r=a|1&r}}return Xr(r)||s}function Xr(t){return 0==(1&t)}function Zr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Jr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Yr(t,e[r],n))return!0;return!1}function ti(t,e){return t?":not("+e.trim()+")":e}function ei(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Xr(s)||(e+=ti(o,i),i=""),r=s,o=o||!Xr(r);n++}return""!==i&&(e+=ti(o,i)),e}const ni={};function ri(t){ii(Wt(),$t(),pe()+t,Jt())}function ii(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&me(e,r,n)}else{const r=t.preOrderHooks;null!==r&&be(e,r,0,n)}ge(n)}function oi(t,e){return t<<17|e<<2}function si(t){return t>>17&32767}function ui(t){return 2|t}function ai(t){return(131068&t)>>2}function ci(t,e){return-131069&t|e<<2}function li(t){return 1|t}function hi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];oe(i),n.contentQueries(2,e[o],o)}}}function fi(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ht(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function di(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Yt(),s=Zt(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),Bt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Xt(o,!0),o}function pi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gi(t,e,n){ae(e);try{const r=t.viewQuery;null!==r&&Bi(1,r,n);const i=t.template;null!==i&&mi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&hi(t,e),t.staticViewQueries&&Bi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ui(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,de()}}function yi(t,e,n,r){const i=e[2];if(256==(256&i))return;ae(e);const o=Jt();try{Ht(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&mi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&me(e,n,null)}else{const n=t.preOrderHooks;null!==n&&be(e,n,0,null),we(e,0)}if(function(t){for(let e=Ir(t);null!==e;e=Cr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&zt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ir(t);null!==e;e=Cr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&yi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&hi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&me(e,n)}else{const n=t.contentHooks;null!==n&&be(e,n,1),we(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ge(~r);else{const i=r,o=n[++t],s=n[++t];ne(o,i),s(2,e[i])}}}finally{ge(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)Li(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&Bi(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&me(e,n)}else{const n=t.viewHooks;null!==n&&be(e,n,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,zt(e[3],-1))}finally{de()}}function vi(t,e,n,r){const i=e[10],o=!Jt(),s=Ut(e);try{o&&!s&&i.begin&&i.begin(),s&&gi(t,e,r),yi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function mi(t,e,n,r,i){const o=pe();try{ge(-1),2&r&&e.length>ht&&ii(t,e,ht,Jt()),n(r,i)}finally{ge(o)}}function bi(t,e,n){Gt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ve(n,e),mr(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=mt(r);o&&Ri(e,n,r);const a=Qe(e,t,u,n);mr(a,e),null!==s&&Di(0,u-i,a,r,0,s),o&&(Lt(n.index,e)[8]=a)}}(t,e,n,Pt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Bt.lFrame.currentDirectiveIndex;try{ge(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];re(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||xi(r,i)}}finally{ge(-1),re(s)}}(t,e,n))}function wi(t,e,n=Pt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function _i(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Oi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Oi(t,e,n,r,i,o,s,u,a,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ni);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function Ei(t,e,n,r){const i=$i(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Wi(t).push(r,i.length-1))}function Ii(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ci(t,e,n,r,i,o,s,u){const a=Pt(e,n);let c,l=e.inputs;!u&&null!=l&&(c=l[r])?(Ki(t,n,c,r,i),yt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,kt(o)?o.setProperty(a,r,i):Te(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function Si(t,e,n,r){let i=!1;if(Gt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Jr(n,s.selectors,!1)&&(i||(i=[]),Fe(Ve(n,e),t,s.type),mt(s)?(Ai(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ni(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,u=!1,a=pi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=xe(n.mergedAttrs,c.hostAttrs),ki(t,n,e,a,c),ji(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||Qr(e)?null:Pi(n,i);o.push(c),s=Ii(n,a,s),u=Ii(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=xe(n.mergedAttrs,n.attrs),i}function Ti(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function xi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ai(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ji(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function Ni(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ki(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Ie(o,mt(i),null);t.blueprint[r]=s,n[r]=s,Ti(t,e,0,r,pi(t,n,i.hostVars,ni),i)}function Ri(t,e,n){const r=Pt(e,t),i=_i(n),o=t[10],s=Fi(t,fi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Di(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function Pi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Vi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Li(t,e){const n=Lt(e,t);if(Ft(n)){const t=n[1];80&n[2]?yi(t,n,t.template,n[8]):n[5]>0&&Mi(n)}}function Mi(t){for(let n=Ir(t);null!==n;n=Cr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];yi(t,e,t.template,e[8])}else e[5]>0&&Mi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);Ft(r)&&r[5]>0&&Mi(r)}}function Ui(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),gi(r,n,n[8])}function Fi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function qi(t){for(;t;){t[2]|=64;const e=Er(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Hi(t,e,n){const r=e[10];r.begin&&r.begin();try{yi(t,e,t.template,n)}catch(i){throw Qi(e,i),i}finally{r.end&&r.end()}}function zi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mt(n),i=r[1];vi(i,r,i.template,n)}}(t[8])}function Bi(t,e,n){oe(0),e(t,n)}const Gi=(()=>Promise.resolve(null))();function $i(t){return t[7]||(t[7]=[])}function Wi(t){return t.cleanup||(t.cleanup=[])}function Qi(t,e){const n=t[9],r=n?n.get(vr,null):null;r&&r.handleError(e)}function Ki(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function Yi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=m(i,t):2==o&&(r=m(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Xi=new rn("INJECTOR",-1);class Zi{get(t,e=pn){if(e===pn){const e=new Error(`NullInjectorError: No provider for ${v(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ji=new rn("Set Injector scope."),to={},eo={},no=[];let ro;function io(){return void 0===ro&&(ro=new Zi),ro}function oo(t,e=null,n=null,r){return new so(t,n,e||io(),r)}class so{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],i)),this.records.set(Xi,co(void 0,this));const o=this.records.get(Ji);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:v(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=pn,n=k.Default){this.assertNotDestroyed();const r=bn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof rn)&&C(t);e=n&&this.injectableDefInScope(n)?co(uo(t),to):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?io():this.parent).get(t,e=n&k.Optional&&e===pn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(v(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[yn]&&i.unshift(e[yn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=v(e);if(Array.isArray(e))i=e.map(v).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):v(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{bn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(v(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{an(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];an(r,t=>this.processProvider(t,n,r||no))}}this.injectorDefTypes.add(o),this.records.set(o,co(r.factory,to));const u=r.providers;if(null!=u&&!s){const e=t;an(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ho(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return lo(t)?co(void 0,t.useValue):co(ao(t),to)}(t);if(ho(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=co(void 0,to,!0),e.factory=()=>On(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===to&&(e.value=eo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function uo(t){const e=C(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof rn)throw new Error(`Token ${v(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${v(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ao(t,e,n){let r;if(ho(t)){const e=_(t);return bt(e)||uo(e)}if(lo(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...On(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>_n(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||uo(e);r=()=>new e(...On(t.deps))}var i;return r}function co(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function lo(t){return null!==t&&"object"==typeof t&&vn in t}function ho(t){return"function"==typeof t}const fo=function(t,e,n){return function(t,e=null,n=null,r){const i=oo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let po=(()=>{class t{static create(t,e){return Array.isArray(t)?fo(t,e,""):fo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=pn,t.NULL=new Zi,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>_n(Xi)}),t.__NG_ELEMENT_ID__=-1,t})();function go(t,e){ve(Mt(t)[1],Kt())}function yo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=vo(t.inputs),e.declaredInputs=vo(t.declaredInputs),e.outputs=vo(t.outputs);const n=i.hostBindings;n&&wo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&mo(t,o),s&&bo(t,s),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===yo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xe(i.hostAttrs,n=xe(n,i.hostAttrs))}}(r)}function vo(t){return t===B?{}:t===G?[]:t}function mo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function bo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function wo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let _o=null;function Oo(){if(!_o){const t=z.Symbol;if(t&&t.iterator)_o=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_o=n)}}}return _o}function Eo(t){return!!Io(t)&&(Array.isArray(t)||!(t instanceof Map)&&Oo()in t)}function Io(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Co(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function So(t,e,n,r){const i=$t();return Co(i,ee(),e)&&(Wt(),function(t,e,n,r,i,o){const s=Pt(t,e);!function(t,e,n,r,i,o,s){if(null==o)kt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const u=null==s?_t(o):s(o,r||"",i);kt(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}(e[11],s,o,t.value,n,r,i)}(ye(),i,t,e,n,r)),So}function To(t,e,n,r,i,o,s,u){const a=$t(),c=Wt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=di(e,t,4,s||null,qt(c,u));Si(e,n,l,qt(c,a)),ve(e,l);const h=l.tViews=Oi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];Xt(h,!1);const f=a[11].createComment("");Lr(c,a,f,h),mr(f,a),Fi(a,a[l]=Vi(f,a,f,h)),vt(h)&&bi(c,a,h),null!=s&&wi(a,h,u)}function xo(t){return function(t,e){return t[e]}(Bt.lFrame.contextLView,ht+t)}function Ao(t,e=k.Default){const n=$t();return null===n?_n(t,e):ze(Kt(),n,_(t),e)}function jo(t,e,n){const r=$t();return Co(r,ee(),e)&&Ci(Wt(),ye(),r,t,e,r[11],n,!1),jo}function No(t,e,n,r,i){const o=i?"class":"style";Ki(t,n,e.inputs[o],o,r)}function ko(t,e,n,r){const i=$t(),o=Wt(),s=ht+t,u=i[11],a=i[s]=xr(u,e,Bt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=di(e,t,2,i,qt(u,o));return Si(e,n,a,qt(u,s)),null!==a.attrs&&Yi(a,a.attrs,!1),null!==a.mergedAttrs&&Yi(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];Xt(c,!0);const l=c.mergedAttrs;null!==l&&Ce(u,a,l);const h=c.classes;null!==h&&Br(u,a,h);const f=c.styles;null!==f&&zr(u,a,f),64!=(64&c.flags)&&Lr(o,i,a,c),0===Bt.lFrame.elementDepthCount&&mr(a,i),Bt.lFrame.elementDepthCount++,vt(c)&&(bi(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&wi(i,c)}function Ro(){let t=Kt();Zt()?Bt.lFrame.isParent=!1:(t=t.parent,Xt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Wt();n.firstCreatePass&&(ve(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&No(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&No(n,e,$t(),e.stylesWithoutHost,!1)}function Do(t,e,n,r){ko(t,e,n,r),Ro()}function Po(){return $t()}function Vo(t){return!!t&&"function"==typeof t.then}function Lo(t){return!!t&&"function"==typeof t.subscribe}const Mo=Lo;function Uo(t,e,n=!1,r){const i=$t(),o=Wt(),s=Kt();return function(t,e,n,r,i,o,s=!1,u){const a=vt(r),c=t.firstCreatePass&&Wi(t),l=$i(e);let h=!0;if(3&r.type){const f=Pt(r,e),d=u?u(f):B,p=d.target||f,g=l.length,y=u?t=>u(Dt(t[r.index])).target:r.index;if(kt(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=qo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,y,g,g+1)}}else o=qo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,g,s)}else o=qo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Uo}function Fo(t,e,n){try{return!1!==e(n)}catch(r){return Qi(t,r),!1}}function qo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&qi(s);let u=Fo(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=Fo(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Ho(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}const zo=[];function Bo(t,e,n,r,i){const o=t[n+1],s=null===e;let u=r?si(o):ai(o),a=!1;for(;0!==u&&(!1===a||s);){const n=t[u+1];Go(t[u],e)&&(a=!0,t[u+1]=r?li(n):ui(n)),u=r?si(n):ai(n)}a&&(t[n+1]=r?ui(o):li(o))}function Go(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&dn(t,e)>=0}function $o(t,e){return function(t,e,n,r){const i=$t(),o=Wt(),s=function(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[pe()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Qo(n=Wo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Wo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==ai(r))return t[si(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Wo(null,t,e,n[1],r),n=Qo(n,e.attrs,r),function(t,e,n,r){t[si(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Qo(r,t[o].hostAttrs,true);return Qo(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,u=si(s),a=ai(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||dn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){const e=si(t[u+1]);t[r+1]=oi(e,u),0!==e&&(t[e+1]=ci(t[e+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=oi(u,0),0!==u&&(t[u+1]=ci(t[u+1],r)),u=r;else t[r+1]=oi(a,0),0===u?u=r:t[a+1]=ci(t[a+1],r),a=r;l&&(t[r+1]=ui(t[r+1])),Bo(t,c,r,!0),Bo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&dn(o,e)>=0&&(n[r+1]=li(n[r+1]))}(e,c,t,r),s=oi(u,a),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==ni&&Co(i,s,e)&&function(t,e,n,r,i,o,s,u){if(!(3&e.type))return;const a=t.data,c=a[u+1];Yo(1==(1&c)?Ko(a,e,n,i,ai(c),s):void 0)||(Yo(o)||function(t){return 2==(2&t)}(c)&&(o=Ko(a,null,n,i,u,s)),function(t,e,n,r,i){const o=kt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,function(t,e){return Dt(e[t])}(pe(),n),i,o))}(o,o.data[pe()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=v(Pn(t))),t}(e),true,s)}(t,e),$o}function Wo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(o=e[u],r=Qo(r,o.hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function Qo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Ko(t,e,n,r,i,o){const s=null===e;let u;for(;i>0;){const e=t[i],o=Array.isArray(e),a=o?e[1]:e,c=null===a;let l=n[i+1];l===ni&&(l=c?zo:void 0);let h=c?fn(l,r):a===r?l:void 0;if(o&&!Yo(h)&&(h=fn(e,r)),Yo(h)&&(u=h,s))return u;const f=t[i+1];i=s?si(f):ai(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(u=fn(t,r))}return u}function Yo(t){return void 0!==t}function Xo(t,e=""){const n=$t(),r=Wt(),i=t+ht,o=r.firstCreatePass?di(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return kt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Lr(r,n,s,o),Xt(o,!1)}function Zo(t,e,n){const r=$t();return Co(r,ee(),e)&&Ci(Wt(),ye(),r,t,e,r[11],n,!0),Zo}const Jo=void 0;var ts=["en",[["a","p"],["AM","PM"],Jo],[["AM","PM"],Jo,Jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jo,"{1} 'at' {0}",Jo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let es={};function ns(t,e,n){"string"!=typeof e&&(n=e,e=t[us.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),es[e]=t,n&&(es[e][us.ExtraData]=n)}function rs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ss(e);if(n)return n;const r=e.split("-")[0];if(n=ss(r),n)return n;if("en"===r)return ts;throw new Error(`Missing locale data for the locale "${t}".`)}function is(t){return rs(t)[us.CurrencyCode]||null}function os(t){return rs(t)[us.PluralCase]}function ss(t){return t in es||(es[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),es[t]}var us=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const as="en-US";let cs=as;function ls(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(cs=t.toLowerCase().replace(/_/g,"-"))}function hs(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)hs(t[o],e,n,r,i);else{const o=Wt(),s=$t();let u=ho(t)?t:_(t.provide),a=ao(t);const c=Kt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(ho(t)||!t.multi){const r=new Ie(a,i,Ao),d=ps(u,e,i?l:l+f,h);-1===d?(Fe(Ve(c,s),o,u),fs(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ps(u,e,l+f,h),p=ps(u,e,l,l+f),g=d>=0&&n[d],y=p>=0&&n[p];if(i&&!y||!i&&!g){Fe(Ve(c,s),o,u);const l=function(t,e,n,r,i){const o=new Ie(t,n,Ao);return o.multi=[],o.index=e,o.componentProviders=0,ds(o,i,r&&!n),o}(i?ys:gs,n.length,i,r,a);!i&&y&&(n[p].providerFactory=l),fs(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else fs(o,t,d>-1?d:p,ds(n[i?p:d],a,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function fs(t,e,n,r){const i=ho(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ds(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ps(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function gs(t,e,n,r){return vs(this.multi,[])}function ys(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Qe(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),vs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],vs(i,o);return o}function vs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ms(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Wt();if(r.firstCreatePass){const i=mt(t);hs(n,r.data,r.blueprint,i,!0),hs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class bs{}class ws{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${v(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let _s=(()=>{class t{}return t.NULL=new ws,t})();function Os(...t){}function Es(t,e){return new Cs(Pt(t,e))}const Is=function(){return Es(Kt(),$t())};let Cs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Is,t})();function Ss(t){return t instanceof Cs?t.nativeElement:t}class Ts{}let xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>As(),t})();const As=function(){const t=$t(),e=Lt(Kt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let js=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class Ns{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ks=new Ns("11.1.2");class Rs{constructor(){}supports(t){return Eo(t)}create(t){return new Ps(t)}}const Ds=(t,e)=>e;class Ps{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ds}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Us(n,r,i)?e:n,s=Us(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Eo(t))throw new Error(`Error trying to diff '${v(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Oo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Vs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ms),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ms),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Vs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ls{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ms{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ls,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Us(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Fs{constructor(){}supports(t){return t instanceof Map||Io(t)}create(){return new qs}}class qs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Io(t)))throw new Error(`Error trying to diff '${v(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Hs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Hs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zs(){return new Bs([new Rs])}let Bs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||zs()),deps:[[t,new Sn,new Cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:zs}),t})();function Gs(){return new $s([new Fs])}let $s=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Gs()),deps:[[t,new Sn,new Cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:Gs}),t})();function Ws(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Dt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ws(e[1],e,n,r)}const s=n.type;if(8&s)Ws(t,e,n.child,r);else if(32&s){const t=Or(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Er(t);Ws(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Qs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ws(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(jr(t,n),ln(e,n))}this._attachedToViewContainer=!1}Nr(this._lView[1],this._lView)}onDestroy(t){Ei(this._lView[1],this._lView,null,t)}markForCheck(){qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){te(!0);try{Hi(t,e,n)}finally{te(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ks extends Qs{constructor(t){super(t),this._view=t}detectChanges(){zi(this._view)}checkNoChanges(){!function(t){te(!0);try{zi(t)}finally{te(!1)}}(this._view)}get context(){return null}}const Ys=Zs;let Xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ys,t.__ChangeDetectorRef__=!0,t})();function Zs(t=!1){return function(t,e,n){if(!n&&yt(t)){const n=Lt(t.index,e);return new Qs(n,n)}return 47&t.type?new Qs(e[16],e):null}(Kt(),$t(),t)}const Js=[new Fs],tu=new Bs([new Rs]),eu=new $s(Js),nu=function(){return su(Kt(),$t())};let ru=(()=>{class t{}return t.__NG_ELEMENT_ID__=nu,t})();const iu=ru,ou=class extends iu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=fi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),gi(e,n,t),new Qs(n)}};function su(t,e){return 4&t.type?new ou(e,t,Es(t,e)):null}class uu{}class au{}const cu=function(){return gu(Kt(),$t())};let lu=(()=>{class t{}return t.__NG_ELEMENT_ID__=cu,t})();const hu=lu,fu=class extends hu{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Es(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ue(this._hostTNode,this._hostLView);if(je(t)){const e=ke(t,this._hostLView),n=Ne(t);return new Xe(e[1].data[n+8],e)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=du(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(uu,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new fu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],cn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=Ur(i,o),u=n[11],a=Vr(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,qr(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(),cn(pu(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=du(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=jr(this._lContainer,e);n&&(ln(pu(this._lContainer),e),Nr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=jr(this._lContainer,e);return n&&null!=ln(pu(this._lContainer),e)?new Qs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function du(t){return t[8]}function pu(t){return t[8]||(t[8]=[])}function gu(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const n=e[11];i=n.createComment("");const r=Pt(t,e);Rr(n,Vr(n,r),i,function(t,e){return kt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Vi(r,e,i,t),Fi(e,n)}return new fu(n,t,e)}const yu={};class vu extends _s{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new wu(e,this.ngModule)}}function mu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const bu=new rn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>br});class wu extends bs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ei).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return mu(this.componentDef.inputs)}get outputs(){return mu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,yu,i);return o!==yu||r===yu?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ts,Rt),s=i.get(js,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(kt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):xr(o.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:br,clean:Gi,playerHandler:null,flags:0},f=Oi(0,null,null,1,0,null,null,null,null,null),d=fi(null,f,h,l,null,null,o,u,s,i);let p,g;ae(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=di(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(Yi(u,a,!0),null!==t&&(Ce(i,t,a),null!==u.classes&&Br(i,t,u.classes),null!==u.styles&&zr(i,t,u.styles)));const c=r.createRenderer(t,e),l=fi(n,_i(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(Fe(Ve(u,n),s,e.type),Ai(s,u),Ni(u,n.length,1)),Fi(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)Ce(u,c,["ng-version",ks.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Xr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ce(u,c,t),e&&e.length>0&&Br(u,c,e.join(" "))}if(g=Vt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ki(t,r,e,pi(t,e,1,null),n));const i=Qe(e,t,r.directiveStart,r);mr(i,e);const o=Pt(r,e);return o&&mr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Kt();e.contentQueries(1,s,t.directiveStart)}const u=Kt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ge(u.index),Ti(n[1],u,0,u.directiveStart,u.directiveEnd,e),xi(e,s)),s}(t,this.componentDef,d,h,[go]),gi(f,d,null)}finally{de()}return new _u(this.componentType,p,Es(g,d),d,g)}}class _u extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ks(r),this.componentType=t}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ou=new Map;class Eu extends uu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vu(this);const n=lt(t),r=t[Y]||null;r&&ls(r),this._bootstrapComponents=wr(n.bootstrap),this._r3Injector=oo(t,e,[{provide:uu,useValue:this},{provide:_s,useValue:this.componentFactoryResolver}],v(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=po.THROW_IF_NOT_FOUND,n=k.Default){return t===po||t===uu||t===Xi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Iu extends au{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${v(e)} vs ${v(e.name)}`)}(i,Ou.get(i),n),Ou.set(i,n));const o=wr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Eu(this.moduleType,t)}}const Cu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function Su(){return this._results[Oo()]()}class Tu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Oo(),n=Tu.prototype;n[e]||(n[e]=Su)}get changes(){return this._changes||(this._changes=new Cu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=un(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class xu{constructor(t){this.queryList=t,this.matches=null}clone(){return new xu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Au{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Au(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Fu(t,e).matches&&this.queries[e].setDirty()}}class ju{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Nu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Nu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ku{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ku(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ru(e,i)),this.matchTNodeWithReadOption(t,e,We(e,t,i,!1,!1))}else n===ru?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,We(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Cs||r===lu||r===ru&&4&e.type)this.addMatch(e.index,-2);else{const n=We(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ru(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Du(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Es(t,e):4&t.type?su(t,e):null}(e,t):-2===n?function(t,e,n){return n===Cs?Es(e,t):n===ru?su(e,t):n===lu?gu(e,t):void 0}(t,e,r):Qe(t,t[1],n,e)}function Pu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Du(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Vu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Pu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&Vu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Vu(n[1],n,i,r)}}}}}return r}function Lu(t){const e=$t(),n=Wt(),r=ie();oe(r+1);const i=Fu(n,r);if(t.dirty&&Ut(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Vu(n,e,r,[]):Pu(n,e,i,r);t.reset(o,Ss),t.notifyOnChanges()}return!0}return!1}function Mu(t,e,n,r){const i=Wt();if(i.firstCreatePass){const o=Kt();(function(t,e,n){null===t.queries&&(t.queries=new Nu),t.queries.track(new ku(e,n))})(i,new ju(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new Tu(4==(4&n));Ei(t,e,r,r.destroy),null===e[19]&&(e[19]=new Au),e[19].queries.push(new xu(r))}(i,$t(),n)}function Uu(){return t=$t(),e=ie(),t[19].queries[e].queryList;var t,e}function Fu(t,e){return t.queries.getByIndex(e)}function qu(t,e){return su(t,e)}function Hu(t=k.Default){const e=Zs(!0);if(null!=e||t&k.Optional)return e;Et("ChangeDetectorRef")}const zu=new rn("Application Initializer");let Bu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Os,this.reject=Os,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Vo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(_n(zu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Gu=new rn("AppId"),$u={provide:Gu,useFactory:function(){return`${Wu()}${Wu()}${Wu()}`},deps:[]};function Wu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qu=new rn("Platform Initializer"),Ku=new rn("Platform ID"),Yu=new rn("appBootstrapListener");let Xu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Zu=new rn("LocaleId"),Ju=new rn("DefaultCurrencyCode");class ta{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ea=function(t){return new Iu(t)},na=ea,ra=function(t){return Promise.resolve(ea(t))},ia=function(t){const e=ea(t),n=wr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new wu(n)),t},[]);return new ta(e,n)},oa=ia,sa=function(t){return Promise.resolve(ia(t))};let ua=(()=>{class t{constructor(){this.compileModuleSync=na,this.compileModuleAsync=ra,this.compileModuleAndAllComponentsSync=oa,this.compileModuleAndAllComponentsAsync=sa}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const aa=(()=>Promise.resolve(0))();function ca(t){"undefined"==typeof Zone?aa.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class la{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cu(!1),this.onMicrotaskEmpty=new Cu(!1),this.onStable=new Cu(!1),this.onError=new Cu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,da(t),fa(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),da(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,u)=>{try{return pa(t),n.invokeTask(i,o,s,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ga(t)}},onInvoke:(n,r,i,o,s,u,a)=>{try{return pa(t),n.invoke(i,o,s,u,a)}finally{t.shouldCoalesceRunChangeDetection&&e(),ga(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,da(t),fa(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!la.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(la.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ha,Os,Os);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ha={};function fa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function da(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function pa(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ga(t){t._nesting--,fa(t)}class ya{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cu,this.onMicrotaskEmpty=new Cu,this.onStable=new Cu,this.onError=new Cu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let va=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{la.assertNotInAngularZone(),ca(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ca(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(_n(la))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),ma=(()=>{class t{constructor(){this._applications=new Map,Oa.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Oa.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class ba{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function wa(t){Oa=t}let _a,Oa=new ba,Ea=!0,Ia=!1;function Ca(){return Ia=!0,Ea}function Sa(){if(Ia)throw new Error("Cannot enable prod mode after platform setup.");Ea=!1}const Ta=new rn("AllowMultipleToken");class xa{constructor(t,e){this.name=t,this.token=e}}function Aa(t,e,n=[]){const r=`Platform: ${e}`,i=new rn(r);return(e=[])=>{let o=ja();if(!o||o.injector.get(Ta,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ji,useValue:"platform"});!function(t){if(_a&&!_a.destroyed&&!_a.injector.get(Ta,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_a=t.get(Na);const e=t.get(Qu,null);e&&e.forEach(t=>t())}(po.create({providers:t,name:r}))}return function(t){const e=ja();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ja(){return _a&&!_a.destroyed?_a:null}let Na=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ya:("zone.js"===t?void 0:t)||new la({enableLongStackTrace:Ca(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:la,useValue:n}];return n.run(()=>{const e=po.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(vr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Da(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Vo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Bu);return t.runInitializers(),t.donePromise.then(()=>(ls(i.injector.get(Zu,as)||as),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ka({},e);return function(t,e,n){const r=new Iu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ra);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${v(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(_n(po))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function ka(t,e){return Array.isArray(e)?e.reduce(ka,t):Object.assign(Object.assign({},t),e)}let Ra=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{la.assertNotInAngularZone(),ca(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{la.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof bs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(uu),i=n.create(po.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(va,null),u=s&&i.injector.get(ma);return s&&u&&u.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Da(this.components,i),u&&u.unregisterApplication(o)}),this._loadComponent(i),Ca()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Da(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Yu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(_n(la),_n(Xu),_n(po),_n(vr),_n(_s),_n(Bu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Da(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Pa{}class Va{}const La={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ma=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||La}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Ua(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ua(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(_n(ua),_n(Va,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Ua(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Fa=function(t){return null},qa=Aa(null,"core",[{provide:Ku,useValue:"unknown"},{provide:Na,deps:[po]},{provide:ma,deps:[]},{provide:Xu,deps:[]}]),Ha=[{provide:Ra,useClass:Ra,deps:[la,Xu,po,vr,_s,Bu]},{provide:bu,deps:[la],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Bu,useClass:Bu,deps:[[new Cn,zu]]},{provide:ua,useClass:ua,deps:[]},$u,{provide:Bs,useFactory:function(){return tu},deps:[]},{provide:$s,useFactory:function(){return eu},deps:[]},{provide:Zu,useFactory:function(t){return ls(t=t||"undefined"!=typeof $localize&&$localize.locale||as),t},deps:[[new In(Zu),new Cn,new Sn]]},{provide:Ju,useValue:"USD"}];let za=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(_n(Ra))},providers:Ha}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let u=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(u.createNext(t))}_error(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return a}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new y(i,u,r);return a},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i),a=u},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:u,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?a(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return y}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const g=["ngOnDestroy"],y=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new a.r("angularfire2.app.options"),b=new a.r("angularfire2.app.nameOrConfig"),w=new a.P("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(a.V)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:_,deps:[m,a.A,[new a.B,b]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)(a.Rb(a.C))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function y(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return a},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(a.join(" "))}c(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(u){var a,c,h=u.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===u.type?r[h]:null;if(n.set(h,u),"PUBLIC"===u.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==u.serviceProps&&Object(s.f)(f,u.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,u.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(u)}catch(y){a={error:y}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(a)throw a.error}}return"PUBLIC"===u.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.14",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:a,token:t,providedIn:"platform"}),t})();function a(){return Object(r.Rb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=Object(r.Gb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Rb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Rb)(s).location;return new b(Object(r.Rb)(u),e&&e.origin||"")}const m=new r.r("appBaseHref");let b=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u),r.Rb(m,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u),r.Rb(m,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(y),r.Rb(u))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Gb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new _(Object(r.Rb)(y),Object(r.Rb)(u))}function E(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.mb;class S{}let T=(()=>{class t extends S{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.v))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new A,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){j("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){j("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class A{constructor(){this.$implicit=null,this.ngIf=null}}function j(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let N=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:S,useClass:T}]}),t})();function k(t){return"server"===t}let R=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new D(Object(r.Rb)(s),window)}),t})();class D{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=P(this.window.history)||P(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function P(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class V extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new V,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=M||(M=document.querySelector("base"),M)?M.getAttribute("href"):null;return null==e?null:(n=e,L||(L=document.createElement("a")),L.setAttribute("href",n),"/"===L.pathname.charAt(0)?L.pathname:"/"+L.pathname);var n}resetBaseElement(){M=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let L,M=null;const U=new r.r("TRANSITION_ID"),F=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[U,s,r.s],multi:!0}];class q{static init(){Object(r.X)(new q)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const H=new r.r("EventManagerPlugins");let z=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(H),r.Rb(r.A))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class B{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let G=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),$=(()=>{class t extends G{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const W={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Q=/%COMP%/g;function K(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?K(t,i,n):(i=i.replace(Q,t),n.push(i))}return n}function Y(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let X=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Z(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new J(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new tt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=K(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(z),r.Rb($),r.Rb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Z{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(W[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=W[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=W[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Y(n)):this.eventManager.addEventListener(t,e,Y(n))}}class J extends Z{constructor(t,e,n,r){super(t),this.component=n;const i=K(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Q,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Q,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class tt extends Z{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=K(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let et=(()=>{class t extends B{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const nt=["alt","control","meta","shift"],rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},it={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ot={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let st=(()=>{class t extends B{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(nt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&it.hasOwnProperty(e)&&(e=it[e]))}return rt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),nt.forEach(r=>{r!=n&&(0,ot[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ut=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){V.makeCurrent(),q.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],at=Object(r.S)(r.W,"browser",ut),ct=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:H,useClass:et,multi:!0,deps:[s,r.A,r.C]},{provide:H,useClass:st,multi:!0,deps:[s]},[],{provide:X,useClass:X,deps:[z,$,r.c]},{provide:r.F,useExisting:X},{provide:G,useExisting:$},{provide:$,useClass:$,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:z,useClass:z,deps:[H,r.A]},[]];let lt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:U,useExisting:r.c},F]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(t,12))},providers:ct,imports:[N,r.f]}),t})();"undefined"!=typeof window&&window;var ht=n("spgP"),ft=n("LRne"),dt=n("Cfvw"),pt=n("pxpQ"),gt=n("lJxs"),yt=n("zx2A");function vt(t,e){return"function"==typeof e?n=>n.pipe(vt((n,r)=>Object(dt.a)(t(n,r)).pipe(Object(gt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new mt(t))}class mt{constructor(t){this.project=t}call(t,e){return e.subscribe(new bt(t,this.project))}}class bt extends yt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new yt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(yt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var wt=n("XNiG"),_t=n("qgXg"),Ot=n("quSY"),Et=n("9ppp"),It=n("Ylt2");class Ct extends wt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new St(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Et.a;if(this.isStopped||this.hasError?o=Ot.a.EMPTY:(this.observers.push(t),o=new It.a(this,t)),r&&t.add(t=new pt.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||_t.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class St{constructor(t,e){this.time=t,this.value=e}}function Tt(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){let l;s++,!i||u?(u=!1,i=new Ct(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const xt=new r.r("angularfire2.functions.origin"),At=new r.r("angularfire2.functions.region"),jt=new r.r("angularfire2.functions.new-origin-behavior"),Nt=new r.r("angularfire2.functions.use-emulator");let kt=(()=>{class t{constructor(t,e,r,i,o,s,u){const a=new ht.d(r),c=u,l=Object(ft.a)(void 0).pipe(Object(pt.b)(a.outsideAngular),vt(()=>n.e(5).then(n.bind(null,"iTTW"))),Object(gt.a)(()=>Object(ht.g)(t,r,e)),Object(gt.a)(t=>Object(ht.f)(`${t.name}.functions.${i||o}`,"AngularFireFunctions",t,()=>{let e;if(s){if(i&&o)throw new Error("REGION and ORIGIN can't be used at the same time.");e=t.functions(i||o||void 0)}else e=t.functions(i||void 0);return s||c||!o||e.useFunctionsEmulator(o),c&&e.useEmulator(...c),e},[i,o,c])),Tt({bufferSize:1,refCount:!1}));return this.httpsCallable=(t,e)=>n=>Object(dt.a)(l).pipe(Object(pt.b)(a.insideAngular),vt(r=>r.httpsCallable(t,e)(n)),Object(gt.a)(t=>t.data)),Object(ht.i)(this,l,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ht.c),r.Rb(ht.b,8),r.Rb(r.A),r.Rb(At,8),r.Rb(xt,8),r.Rb(jt,8),r.Rb(Nt,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(ht.c),Object(r.Rb)(ht.b,8),Object(r.Rb)(r.A),Object(r.Rb)(At,8),Object(r.Rb)(xt,8),Object(r.Rb)(jt,8),Object(r.Rb)(Nt,8))},token:t,providedIn:"any"}),t})();Object(ht.e)(kt,[{useEmulator:null,useFunctionsEmulator:null,httpsCallable:null}]);let Rt=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[kt]}),t})();var Dt=n("HDdC"),Pt=n("DH7j"),Vt=n("XoHu");function Lt(t,e){return new Dt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let u=0;u<r;u++){const a=Object(dt.a)(t[u]);let c=!1;n.add(a.subscribe({next:t=>{c||(c=!0,s++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Mt=new r.r("NgValueAccessor"),Ut={provide:Mt,useExisting:Object(r.U)(()=>Ft),multi:!0};let Ft=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.zb([Ut])]}),t})();const qt={provide:Mt,useExisting:Object(r.U)(()=>zt),multi:!0},Ht=new r.r("CompositionEventMode");let zt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(Ht,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([qt])]}),t})();function Bt(t){return null==t||0===t.length}function Gt(t){return null!=t&&"number"==typeof t.length}const $t=new r.r("NgValidators"),Wt=new r.r("NgAsyncValidators"),Qt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Kt{static min(t){return e=>{if(Bt(e.value)||Bt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Bt(e.value)||Bt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Bt(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Bt(t.value)||Qt.test(t.value)?null:{email:!0}}static minLength(t){return e=>Bt(e.value)||!Gt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Gt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Kt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Bt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Yt);return 0==e.length?null:function(t){return Zt(Jt(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Yt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Pt.a)(e))return Lt(e,null);if(Object(Vt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Lt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Lt(t=1===t.length&&Object(Pt.a)(t[0])?t[0]:t,null).pipe(Object(gt.a)(t=>e(...t)))}return Lt(t,null)}(Jt(t,e).map(Xt)).pipe(Object(gt.a)(Zt))}}}function Yt(t){return null!=t}function Xt(t){const e=Object(r.rb)(t)?Object(dt.a)(t):t;return Object(r.qb)(e),e}function Zt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Jt(t,e){return e.map(e=>e(t))}function te(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function ee(t){return null!=t?Kt.compose(te(t)):null}function ne(t){return null!=t?Kt.composeAsync(te(t)):null}function re(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ie(t){return t._rawValidators}function oe(t){return t._rawAsyncValidators}let se=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ee(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),ue=(()=>{class t extends se{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ae(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})();const ae=r.Pb(ue);class ce extends se{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class le{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let he=(()=>{class t extends le{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ce,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})(),fe=(()=>{class t extends le{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ue,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})();const de={provide:Mt,useExisting:Object(r.U)(()=>pe),multi:!0};let pe=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([de])]}),t})();const ge={provide:Mt,useExisting:Object(r.U)(()=>ve),multi:!0};let ye=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),ve=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(ce),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(ye),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([ge])]}),t})();const me={provide:Mt,useExisting:Object(r.U)(()=>be),multi:!0};let be=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([me])]}),t})();const we={provide:Mt,useExisting:Object(r.U)(()=>_e),multi:!0};let _e=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([we])]}),t})();const Oe={provide:Mt,useExisting:Object(r.U)(()=>Ee),multi:!0};let Ee=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([Oe])]}),t})();function Ie(t,e){Te(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ae(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ae(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Ce(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),xe(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Se(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Te(t,e,n){const r=ie(t);null!==e.validator?t.setValidators(re(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=oe(t);if(null!==e.asyncValidator?t.setAsyncValidators(re(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Se(e._rawValidators,n),Se(e._rawAsyncValidators,n)}}function xe(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=ie(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=oe(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};Se(e._rawValidators,t),Se(e._rawAsyncValidators,t)}return r}function Ae(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const je=[Ft,be,pe,_e,Ee,ve];function Ne(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ke="VALID",Re="INVALID",De="PENDING",Pe="DISABLED";function Ve(t){return(Fe(t)?t.validators:t)||null}function Le(t){return Array.isArray(t)?ee(t):t||null}function Me(t,e){return(Fe(e)?e.asyncValidators:t)||null}function Ue(t){return Array.isArray(t)?ne(t):t||null}function Fe(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class qe{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Le(this._rawValidators),this._composedAsyncValidatorFn=Ue(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ke}get invalid(){return this.status===Re}get pending(){return this.status==De}get disabled(){return this.status===Pe}get enabled(){return this.status!==Pe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Le(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ue(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=De,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Pe,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ke,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ke&&this.status!==De||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pe:ke}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=De,this._hasOwnPendingAsyncValidator=!0;const e=Xt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ze?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Be&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Pe:this.errors?Re:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(De)?De:this._anyControlsHaveStatus(Re)?Re:ke}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Fe(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class He extends qe{constructor(t=null,e,n){super(Ve(e),Me(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ne(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ne(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ze extends qe{constructor(t,e,n){super(Ve(e),Me(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof He?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Be extends qe{constructor(t,e,n){super(Ve(e),Me(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof He?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Ge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const $e=new r.r("NgModelWithFormControlWarning"),We={provide:ue,useExisting:Object(r.U)(()=>Qe)};let Qe=(()=>{class t extends ue{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xe(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Ie(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Ce(t.control||null,t,!1),Ne(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(Ce(t.control||null,t),e&&Ie(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){Te(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return xe(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Te(this.form,this,!1),this._oldForm&&xe(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb($t,10),r.Kb(Wt,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Ub("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([We]),r.xb,r.yb]}),t})();const Ke={provide:ce,useExisting:Object(r.U)(()=>Ye)};let Ye=(()=>{class t extends ce{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===zt?n=t:(e=t,je.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ue,13),r.Kb($t,10),r.Kb(Wt,10),r.Kb(Mt,10),r.Kb($e,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([Ke]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})();const Xe={provide:$t,useExisting:Object(r.U)(()=>Ze),multi:!0};let Ze=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?Kt.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("required",e.required?"":null)},inputs:{required:"required"},features:[r.zb([Xe])]}),t})(),Je=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),tn=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new ze(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new He(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Be(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof He||t instanceof ze||t instanceof Be?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),en=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[ye],imports:[Je]}),t})(),nn=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:$e,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[tn,ye],imports:[Je]}),t})();const rn={apiKey:"AIzaSyAFB9fzPn-j1GXVeZjB2sW8DiMj6hpwHLU",authDomain:"dilitest-94b7c.firebaseapp.com",projectId:"dilitest-94b7c",storageBucket:"dilitest-94b7c.appspot.com",messagingSenderId:"1090067483152",appId:"1:1090067483152:web:0a5ee9f5af44dfe4801895",measurementId:"G-J9LRW6GQJS"};class on extends wt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Et.a;return this._value}next(t){super.next(this._value=t)}}var sn=n("z+Ro"),un=n("7o/Q");class an extends un.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class cn extends un.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ln=n("SeVD");function hn(t,e,n,r,i=new cn(t,n,r)){if(!i.closed)return e instanceof Dt.a?e.subscribe(i):Object(ln.a)(e)(i)}var fn=n("yCtX");const dn={};class pn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new gn(t,this.resultSelector))}}class gn extends an{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(dn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(hn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===dn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const yn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var vn=n("bHdf");function mn(...t){return Object(vn.a)(1)(Object(ft.a)(...t))}var bn=n("EY2u");function wn(t){return new Dt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(dt.a)(n):Object(bn.b)()).subscribe(e)})}const _n=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function On(t){return e=>0===t?Object(bn.b)():e.lift(new En(t))}class En{constructor(t){if(this.total=t,this.total<0)throw new _n}call(t,e){return e.subscribe(new In(t,this.total))}}class In extends un.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Cn(...t){const e=t[t.length-1];return Object(sn.a)(e)?(t.pop(),n=>mn(t,n,e)):e=>mn(t,e)}function Sn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Tn(t,e,n))}}class Tn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new xn(t,this.accumulator,this.seed,this.hasSeed))}}class xn extends un.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function An(t,e){return function(n){return n.lift(new jn(t,e))}}class jn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Nn(t,this.predicate,this.thisArg))}}class Nn extends un.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function kn(t){return function(e){const n=new Rn(t),r=e.lift(n);return n.caught=r}}class Rn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Dn(t,this.selector,this.caught))}}class Dn extends yt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new yt.a(this);this.add(r);const i=Object(yt.c)(n,r);i!==r&&this.add(i)}}}var Pn=n("5+tZ");function Vn(t,e){return Object(Pn.a)(t,e,1)}function Ln(t){return function(e){return 0===t?Object(bn.b)():e.lift(new Mn(t))}}class Mn{constructor(t){if(this.total=t,this.total<0)throw new _n}call(t,e){return e.subscribe(new Un(t,this.total))}}class Un extends un.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Fn(t=zn){return e=>e.lift(new qn(t))}class qn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Hn(t,this.errorFactory))}}class Hn extends un.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Iw){t=Iw}this.destination.error(t)}}}function zn(){return new yn}function Bn(t=null){return e=>e.lift(new Gn(t))}class Gn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new $n(t,this.defaultValue))}}class $n extends un.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Wn=n("SpAZ");function Qn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?An((e,n)=>t(e,n,r)):Wn.a,On(1),n?Bn(e):Fn(()=>new yn))}var Kn=n("vkgz");class Yn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Xn(t,this.callback))}}class Xn extends un.a{constructor(t,e){super(t),this.add(new Ot.a(e))}}class Zn{constructor(t,e){this.id=t,this.url=e}}class Jn extends Zn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tr extends Zn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class er extends Zn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nr extends Zn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rr extends Zn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir extends Zn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class or extends Zn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sr extends Zn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ur extends Zn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gr="primary";class yr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function vr(t){return new yr(t)}function mr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function br(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function wr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!_r(t[i],e[i]))return!1;return!0}function _r(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Or(t){return Array.prototype.concat.apply([],t)}function Er(t){return t.length>0?t[t.length-1]:null}function Ir(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Cr(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(dt.a)(Promise.resolve(t)):Object(ft.a)(t)}function Sr(t,e,n){return n?function(t,e){return wr(t,e)}(t.queryParams,e.queryParams)&&Tr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_r(t[n],e[n]))}(t.queryParams,e.queryParams)&&xr(t.root,e.root)}function Tr(t,e){if(!Rr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Tr(t.children[n],e.children[n]))return!1}return!0}function xr(t,e){return Ar(t,e,e.segments)}function Ar(t,e,n){if(t.segments.length>n.length)return!!Rr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Rr(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!xr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Rr(t.segments,r)&&!!t.children.primary&&Ar(t.children.primary,e,i)}}class jr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vr(this.queryParams)),this._queryParamMap}toString(){return Vr.serialize(this)}}class Nr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ir(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lr(this)}}class kr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=vr(this.parameters)),this._parameterMap}toString(){return Br(this)}}function Rr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Dr{}class Pr{parse(t){const e=new Kr(t);return new jr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Mr(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Fr(e)}=${Fr(t)}`).join("&"):`${Fr(e)}=${Fr(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Vr=new Pr;function Lr(t){return t.segments.map(t=>Br(t)).join("/")}function Mr(t,e){if(!t.hasChildren())return Lr(t);if(e){const e=t.children.primary?Mr(t.children.primary,!1):"",n=[];return Ir(t.children,(t,e)=>{e!==gr&&n.push(`${e}:${Mr(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ir(t.children,(t,r)=>{r===gr&&(n=n.concat(e(t,r)))}),Ir(t.children,(t,r)=>{r!==gr&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===gr?[Mr(t.children.primary,!1)]:[`${n}:${Mr(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Lr(t)}/${e[0]}`:`${Lr(t)}/(${e.join("//")})`}}function Ur(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fr(t){return Ur(t).replace(/%3B/gi,";")}function qr(t){return Ur(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hr(t){return decodeURIComponent(t)}function zr(t){return Hr(t.replace(/\+/g,"%20"))}function Br(t){return`${qr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${qr(t)}=${qr(e[t])}`).join("")}`;var e}const Gr=/^[^\/()?;=#]+/;function $r(t){const e=t.match(Gr);return e?e[0]:""}const Wr=/^[^=?&#]+/,Qr=/^[^?&#]+/;class Kr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nr([],{}):new Nr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Nr(t,e)),n}parseSegment(){const t=$r(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new kr(Hr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=$r(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=$r(this.remaining);t&&(n=t,this.capture(n))}t[Hr(e)]=Hr(n)}parseQueryParam(t){const e=function(t){const e=t.match(Wr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Qr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=zr(e),i=zr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=$r(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=gr);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Nr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Yr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Xr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Zr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Zr(t,this._root).map(t=>t.value)}}function Xr(t,e){if(t===e.value)return e;for(const n of e.children){const e=Xr(t,n);if(e)return e}return null}function Zr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Zr(t,n);if(r.length)return r.unshift(e),r}return[]}class Jr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ti(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ei extends Yr{constructor(t,e){super(t),this.snapshot=e,ui(this,t)}toString(){return this.snapshot.toString()}}function ni(t,e){const n=function(t,e){const n=new oi([],{},{},"",{},gr,e,null,t.root,-1,{});return new si("",new Jr(n,[]))}(t,e),r=new on([new kr("",{})]),i=new on({}),o=new on({}),s=new on({}),u=new on(""),a=new ri(r,i,s,u,o,gr,e,n.root);return a.snapshot=n.root,new ei(new Jr(a,[]),n)}class ri{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(gt.a)(t=>vr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(gt.a)(t=>vr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ii(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class oi{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class si extends Yr{constructor(t,e){super(e),this.url=t,ui(this,e)}toString(){return ai(this._root)}}function ui(t,e){e.value._routerState=t,e.children.forEach(e=>ui(t,e))}function ai(t){const e=t.children.length>0?` { ${t.children.map(ai).join(", ")} } `:"";return`${t.value}${e}`}function ci(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),wr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),wr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function li(t,e){return wr(t.params,e.params)&&function(t,e){return Rr(t,e)&&t.every((t,n)=>wr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||li(t.parent,e.parent))}function hi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return hi(t,e,r);return hi(t,e)})}(t,e,n);return new Jr(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return fi(e,t),t}{const n=new ri(new on((r=e.value).url),new on(r.params),new on(r.queryParams),new on(r.fragment),new on(r.data),r.outlet,r.component,r),i=e.children.map(e=>hi(t,e));return new Jr(n,i)}}var r}function fi(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)fi(t.children[n],e.children[n])}function di(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function pi(t){return"object"==typeof t&&null!=t&&t.outlets}function gi(t,e,n,r,i){let o={};return r&&Ir(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new jr(n.root===t?e:yi(n.root,t,e),o,i)}function yi(t,e,n){const r={};return Ir(t.children,(t,i)=>{r[i]=t===e?n:yi(t,e,n)}),new Nr(t.segments,r)}class vi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&di(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(pi);if(r&&r!==Er(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function bi(t,e,n){if(t||(t=new Nr([],{})),0===t.segments.length&&t.hasChildren())return wi(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(pi(s))break;const u=`${s}`,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!Ii(u,a,e))return o;r+=2}else{if(!Ii(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Nr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Nr(t.segments.slice(r.pathIndex),t.children),wi(e,0,i)}return r.match&&0===i.length?new Nr(t.segments,{}):r.match&&!t.hasChildren()?_i(t,e,n):r.match?wi(t,0,i):_i(t,e,n)}function wi(t,e,n){if(0===n.length)return new Nr(t.segments,{});{const r=function(t){return pi(t[0])?t[0].outlets:{[gr]:t}}(n),i={};return Ir(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=bi(t.children[r],e,n))}),Ir(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Nr(t.segments,i)}}function _i(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(pi(o)){const t=Oi(o.outlets);return new Nr(r,t)}if(0===i&&di(n[0])){r.push(new kr(t.segments[e].path,Ei(n[0]))),i++;continue}const s=pi(o)?o.outlets.primary:`${o}`,u=i<n.length-1?n[i+1]:null;s&&u&&di(u)?(r.push(new kr(s,Ei(u))),i+=2):(r.push(new kr(s,{})),i++)}return new Nr(r,{})}function Oi(t){const e={};return Ir(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=_i(new Nr([],{}),0,t))}),e}function Ei(t){const e={};return Ir(t,(t,n)=>e[n]=`${t}`),e}function Ii(t,e,n){return t==n.path&&wr(e,n.parameters)}class Ci{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ci(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ti(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ir(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=ti(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=ti(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new dr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new hr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ci(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Si(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Si(t){ci(t.value),t.children.forEach(Si)}class Ti{constructor(t,e){this.routes=t,this.module=e}}function xi(t){return"function"==typeof t}function Ai(t){return t instanceof jr}const ji=Symbol("INITIAL_VALUE");function Ni(){return vt(t=>function(...t){let e,n;return Object(sn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Pt.a)(t[0])&&(t=t[0]),Object(fn.a)(t,n).lift(new pn(e))}(t.map(t=>t.pipe(On(1),Cn(ji)))).pipe(Sn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ji)return t;if(r===ji&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ai(r))return r}return t},t)},ji),An(t=>t!==ji),Object(gt.a)(t=>Ai(t)?t:!0===t),On(1)))}let ki=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[Io]},encapsulation:2}),t})();function Ri(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Di(r,Pi(e,r))}}function Di(t,e){t.children&&Ri(t.children,e)}function Pi(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Vi(t){const e=t.children&&t.children.map(Vi),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==gr&&(n.component=ki),n}function Li(t){return t.outlet||gr}function Mi(t,e){const n=t.filter(t=>Li(t)===e);return n.push(...t.filter(t=>Li(t)!==e)),n}const Ui={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Fi(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ui):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||br)(n,t,e);if(!i)return Object.assign({},Ui);const o={};Ir(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function qi(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Hi(t,e,n)&&Li(n)!==gr)}(t,n,r)){const i=new Nr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Li(o)!==gr){const n=new Nr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Li(o)]=n}return i}(t,e,r,new Nr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Hi(t,e,n))}(t,n,r)){const o=new Nr(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(Hi(t,n,u)&&!i[Li(u)]){const n=new Nr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Li(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Nr(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Hi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function zi(t,e,n,r){return!!(Li(t)===r||r!==gr&&Hi(e,n,t))&&("**"===t.path||Fi(e,t,n).matched)}function Bi(t,e,n){return 0===e.length&&!t.children[n]}class Gi{constructor(t){this.segmentGroup=t||null}}class $i{constructor(t){this.urlTree=t}}function Wi(t){return new Dt.a(e=>e.error(new Gi(t)))}function Qi(t){return new Dt.a(e=>e.error(new $i(t)))}function Ki(t){return new Dt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Yi{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=qi(this.urlTree.root,[],[],this.config).segmentGroup,e=new Nr(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,gr).pipe(Object(gt.a)(t=>this.createUrlTree(Xi(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(kn(t=>{if(t instanceof $i)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Gi)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,gr).pipe(Object(gt.a)(e=>this.createUrlTree(Xi(e),t.queryParams,t.fragment))).pipe(kn(t=>{if(t instanceof Gi)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Nr([],{[gr]:t}):t;return new jr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(gt.a)(t=>new Nr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(dt.a)(r).pipe(Vn(r=>{const i=n.children[r],o=Mi(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(gt.a)(t=>({segment:t,outlet:r})))}),Sn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?An((e,n)=>t(e,n,r)):Wn.a,Ln(1),n?Bn(e):Fn(()=>new yn))}())}expandSegment(t,e,n,r,i,o){return Object(dt.a)(n).pipe(Vn(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(kn(t=>{if(t instanceof Gi)return Object(ft.a)(null);throw t}))),Qn(t=>!!t),kn((t,n)=>{if(t instanceof yn||"EmptyError"===t.name){if(Bi(e,r,i))return Object(ft.a)(new Nr([],{}));throw new Gi(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return zi(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Wi(e):Wi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Qi(i):this.lineralizeSegments(n,i).pipe(Object(Pn.a)(n=>{const i=new Nr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=Fi(e,r,i);if(!s)return Wi(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?Qi(l):this.lineralizeSegments(r,l).pipe(Object(Pn.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(gt.a)(t=>(n._loadedConfig=t,new Nr(r,{})))):Object(ft.a)(new Nr(r,{}));const{matched:o,consumedSegments:s,lastChild:u}=Fi(e,n,r);if(!o)return Wi(e);const a=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(Pn.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:u,slicedSegments:c}=qi(e,s,a,o),l=new Nr(u.segments,u.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(gt.a)(t=>new Nr(s,t)));if(0===o.length&&0===c.length)return Object(ft.a)(new Nr(s,{}));const h=Li(n)===i;return this.expandSegment(r,l,o,c,h?gr:i,!0).pipe(Object(gt.a)(t=>new Nr(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ft.a)(new Ti(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ft.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Pn.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(gt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Dt.a(e=>e.error(mr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ft.a)(new Ti([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(ft.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&xi(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!xi(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Cr(o)});return Object(ft.a)(i).pipe(Ni(),Object(Kn.a)(t=>{if(!Ai(t))return;const e=mr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(gt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ft.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ki(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new jr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ir(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Ir(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Nr(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Xi(t){const e={};for(const n of Object.keys(t.children)){const r=Xi(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Nr(t.segments.concat(e.segments),e.children)}return t}(new Nr(t.segments,e))}class Zi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ji{constructor(t,e){this.component=t,this.route=e}}function to(t,e,n){const r=t._root;return no(r,e?e._root:null,n,[r.value])}function eo(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function no(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ti(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Rr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Rr(t.url,e.url)||!wr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!li(t,e)||!wr(t.queryParams,e.queryParams);case"paramsChange":default:return!li(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new Zi(r)):(o.data=s.data,o._resolvedData=s._resolvedData),no(t,e,o.component?u?u.children:null:n,r,i),a&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Ji(u.outlet.component,s))}else s&&ro(e,u,i),i.canActivateChecks.push(new Zi(r)),no(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Ir(o,(t,e)=>ro(t,n.getContext(e),i)),i}function ro(t,e,n){const r=ti(t),i=t.value;Ir(r,(t,r)=>{ro(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ji(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class io{}function oo(t){return new Dt.a(e=>e.error(t))}class so{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=qi(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,gr);if(null===e)return null;const n=new oi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},gr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Jr(n,e),i=new si(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ii(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Mi(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!uo(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===gr?-1:e.value.outlet===gr?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Bi(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!zi(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Er(n).parameters:{};i=new oi(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lo(t),Li(t),t.component,t,ao(e),co(e)+n.length,ho(t))}else{const r=Fi(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new oi(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lo(t),Li(t),t.component,t,ao(e),co(e)+o.length,ho(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=qi(e,o,s,u.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return null===t?null:[new Jr(i,t)]}if(0===u.length&&0===c.length)return[new Jr(i,[])];const l=Li(t)===r,h=this.processSegment(u,a,c,l?gr:r);return null===h?null:[new Jr(i,h)]}}function uo(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ao(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function co(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function lo(t){return t.data||{}}function ho(t){return t.resolve||{}}function fo(t){return vt(e=>{const n=t(e);return n?Object(dt.a)(n).pipe(Object(gt.a)(()=>e)):Object(ft.a)(e)})}class po extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const go=new r.r("ROUTES");class yo{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(gt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Ti(Or(i.injector.get(go,void 0,r.q.Self|r.q.Optional)).map(Vi),i)}))}loadModuleFactory(t){return"string"==typeof t?Object(dt.a)(this.loader.load(t)):Cr(t()).pipe(Object(Pn.a)(t=>t instanceof r.w?Object(ft.a)(t):Object(dt.a)(this.compiler.compileModuleAsync(t))))}}class vo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new mo,this.attachRef=null}}class mo{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new vo,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class bo{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function wo(t){throw t}function _o(t,e,n){return e.parse("/")}function Oo(t,e){return Object(ft.a)(null)}let Eo=(()=>{class t{constructor(t,e,n,i,o,s,u,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new wt.a,this.errorHandler=wo,this.malformedUriErrorHandler=_o,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Oo,afterPreactivation:Oo},this.urlHandlingStrategy=new bo,this.routeReuseStrategy=new po,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new jr(new Nr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yo(s,u,t=>this.triggerEvent(new ar(t)),t=>this.triggerEvent(new cr(t))),this.routerState=ni(this.currentUrlTree,this.rootComponentType),this.transitions=new on({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(An(t=>0!==t.id),Object(gt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),vt(t=>{let n=!1,r=!1;return Object(ft.a)(t).pipe(Object(Kn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),vt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ft.a)(t).pipe(vt(t=>{const n=this.transitions.getValue();return e.next(new Jn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?bn.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,vt(t=>function(t,e,n,r,i){return new Yi(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(gt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Kn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Pn.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new so(t,e,n,r,i,o).recognize();return null===s?oo(new io):Object(ft.a)(s)}catch(Iw){return oo(Iw)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(gt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Kn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new rr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,u=new Jn(n,this.serializeUrl(r),i,o);e.next(u);const a=ni(r,this.rootComponentType).snapshot;return Object(ft.a)(Object.assign(Object.assign({},t),{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),bn.a}),fo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Kn.a)(t=>{const e=new ir(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(gt.a)(t=>Object.assign(Object.assign({},t),{guards:to(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Pn.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(ft.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(dt.a)(t).pipe(Object(Pn.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(ft.a)(!0);const s=o.map(o=>{const s=eo(o,e,i);let u;if(function(t){return t&&xi(t.canDeactivate)}(s))u=Cr(s.canDeactivate(t,e,n,r));else{if(!xi(s))throw new Error("Invalid CanDeactivate guard");u=Cr(s(t,e,n,r))}return u.pipe(Qn())});return Object(ft.a)(s).pipe(Ni())}(t.component,t.route,n,e,r)),Qn(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Pn.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(dt.a)(e).pipe(Vn(e=>mn(function(t,e){return null!==t&&e&&e(new lr(t)),Object(ft.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new fr(t)),Object(ft.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>wn(()=>{const i=e.guards.map(i=>{const o=eo(i,e.node,n);let s;if(function(t){return t&&xi(t.canActivateChild)}(o))s=Cr(o.canActivateChild(r,t));else{if(!xi(o))throw new Error("Invalid CanActivateChild guard");s=Cr(o(r,t))}return s.pipe(Qn())});return Object(ft.a)(i).pipe(Ni())}));return Object(ft.a)(i).pipe(Ni())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(ft.a)(!0);const i=r.map(r=>wn(()=>{const i=eo(r,e,n);let o;if(function(t){return t&&xi(t.canActivate)}(i))o=Cr(i.canActivate(e,t));else{if(!xi(i))throw new Error("Invalid CanActivate guard");o=Cr(i(e,t))}return o.pipe(Qn())}));return Object(ft.a)(i).pipe(Ni())}(t,e.route,n))),Qn(t=>!0!==t,!0))}(r,o,t,e):Object(ft.a)(n)),Object(gt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Kn.a)(t=>{if(Ai(t.guardsResult)){const e=mr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new or(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),An(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new er(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),fo(t=>{if(t.guards.canActivateChecks.length)return Object(ft.a)(t).pipe(Object(Kn.a)(t=>{const e=new sr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),vt(t=>{let n=!1;return Object(ft.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Pn.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(ft.a)(t);let o=0;return Object(dt.a)(n).pipe(Vn(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(ft.a)({});const o={};return Object(dt.a)(i).pipe(Object(Pn.a)(i=>function(t,e,n,r){const i=eo(t,e,r);return Cr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Kn.a)(t=>{o[i]=t}))),Ln(1),Object(Pn.a)(()=>Object.keys(o).length===i.length?Object(ft.a)(o):bn.a))}(t._resolve,t,e,r).pipe(Object(gt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ii(t,n).resolve),null)))}(t.route,e,r,i)),Object(Kn.a)(()=>o++),Ln(1),Object(Pn.a)(e=>o===n.length?Object(ft.a)(t):bn.a))})),Object(Kn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new er(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Kn.a)(t=>{const e=new ur(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),fo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(gt.a)(t=>{const e=function(t,e,n){const r=hi(t,e._root,n?n._root:void 0);return new ei(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Kn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,u=t=>this.triggerEvent(t),Object(gt.a)(t=>(new Ci(s,t.targetRouterState,t.currentRouterState,u).activate(o),t))),Object(Kn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new er(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Yn(i))),kn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ai(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new er(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new nr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch($h){t.reject($h)}}var i;return bn.a}));var i,o,s,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ri(t),this.config=t.map(Vi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,u=n||this.routerState.root,a=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return gi(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new vi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ir(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new vi(n,e,r)}(n);if(o.toRoot())return gi(e.root,new Nr([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new mi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new mi(t,t===e.root,0)}const r=di(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new mi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?wi(s.segmentGroup,s.index,o.commands):bi(s.segmentGroup,s.index,o.commands);return gi(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ai(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Iw){e=this.malformedUriErrorHandler(Iw,this.urlSerializer,t)}return e}isActive(t,e){if(Ai(t))return Sr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Sr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new tr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N),r.Rb(Dr),r.Rb(mo),r.Rb(_),r.Rb(r.s),r.Rb(r.x),r.Rb(r.i),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Io=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||gr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Co(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(mo),r.Kb(r.Q),r.Kb(r.j),r.Sb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Co{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ri?this.route:t===mo?this.childContexts:this.parent.get(t,e)}}class So{}class To{preload(t,e){return Object(ft.a)(null)}}let xo=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new yo(e,n,e=>t.triggerEvent(new ar(e)),e=>t.triggerEvent(new cr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(An(t=>t instanceof tr),Vn(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(dt.a)(n).pipe(Object(vn.a)(),Object(gt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Pn.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Eo),r.Rb(r.x),r.Rb(r.i),r.Rb(r.s),r.Rb(So))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Ao=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new pr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Eo),r.Rb(R),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const jo=new r.r("ROUTER_CONFIGURATION"),No=new r.r("ROUTER_FORROOT_GUARD"),ko=[_,{provide:Dr,useClass:Pr},{provide:Eo,useFactory:function(t,e,n,r,i,s,u,a={},c,l){const h=new Eo(null,t,e,n,r,i,s,Or(u));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Dr,mo,_,r.s,r.x,r.i,go,jo,[class{},new r.B],[class{},new r.B]]},mo,{provide:ri,useFactory:function(t){return t.routerState.root},deps:[Eo]},{provide:r.x,useClass:r.K},xo,To,class{preload(t,e){return e().pipe(kn(()=>Object(ft.a)(null)))}},{provide:jo,useValue:{enableTracing:!1}}];function Ro(){return new r.z("Router",Eo)}let Do=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ko,Mo(e),{provide:No,useFactory:Lo,deps:[[Eo,new r.B,new r.J]]},{provide:jo,useValue:n||{}},{provide:y,useFactory:Vo,deps:[u,[new r.p(m),new r.B],jo]},{provide:Ao,useFactory:Po,deps:[Eo,R,jo]},{provide:So,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:To},{provide:r.z,multi:!0,useFactory:Ro},[Uo,{provide:r.d,multi:!0,useFactory:Fo,deps:[Uo]},{provide:Ho,useFactory:qo,deps:[Uo]},{provide:r.b,multi:!0,useExisting:Ho}]]}}static forChild(e){return{ngModule:t,providers:[Mo(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(No,8),r.Rb(Eo,8))}}),t})();function Po(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ao(t,e,n)}function Vo(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function Lo(t){return"guarded"}function Mo(t){return[{provide:r.a,multi:!0,useValue:t},{provide:go,multi:!0,useValue:t}]}let Uo=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new wt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Eo),r=this.injector.get(jo);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(ft.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(jo),n=this.injector.get(xo),i=this.injector.get(Ao),o=this.injector.get(Eo),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function Fo(t){return t.appInitializer.bind(t)}function qo(t){return t.bootstrapListener.bind(t)}const Ho=new r.r("Router Initializer");function zo(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(Iw){o(Iw)}}function u(t){try{a(r.throw(t))}catch(Iw){o(Iw)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}var Bo=n("VRyK");function Go(t,e){return e?vt(()=>t,e):vt(()=>t)}var $o=n("tf+s");const Wo=new r.r("angularfire2.auth.use-emulator"),Qo=new r.r("angularfire2.auth.settings"),Ko=new r.r("angularfire2.auth.tenant-id"),Yo=new r.r("angularfire2.auth.langugage-code"),Xo=new r.r("angularfire2.auth.use-device-language"),Zo=new r.r("angularfire.auth.persistence");let Jo=(()=>{class t{constructor(t,e,r,i,o,s,u,a,c,l){const h=new ht.d(i),f=Object(ht.h)(h),d=new wt.a,p=Object(ft.a)(void 0).pipe(Object(pt.b)(h.outsideAngular),vt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(gt.a)(()=>Object(ht.g)(t,i,e)),Object(gt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(ht.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),u&&(r.tenantId=u),r.languageCode=a,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,u,a,c,n,l])})),Tt({bufferSize:1,refCount:!1}));if(k(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(ft.a)(null);else{p.pipe(Qn()).subscribe();const t=p.pipe(vt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Tt({bufferSize:1,refCount:!1})),e=t=>new Dt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(vt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(vt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Go(n),Object($o.a)(h.outsideAngular),Object(pt.b)(h.insideAngular)),this.user=t.pipe(Go(r),Object($o.a)(h.outsideAngular),Object(pt.b)(h.insideAngular)),this.idToken=this.user.pipe(vt(t=>t?Object(dt.a)(t.getIdToken()):Object(ft.a)(null))),this.idTokenResult=this.user.pipe(vt(t=>t?Object(dt.a)(t.getIdTokenResult()):Object(ft.a)(null))),this.credential=Object(Bo.a)(t,d,this.authState.pipe(An(t=>!t))).pipe(Object(gt.a)(t=>(null==t?void 0:t.user)?t:null),Object($o.a)(h.outsideAngular),Object(pt.b)(h.insideAngular))}return Object(ht.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ht.c),r.Rb(ht.b,8),r.Rb(r.C),r.Rb(r.A),r.Rb(Wo,8),r.Rb(Qo,8),r.Rb(Ko,8),r.Rb(Yo,8),r.Rb(Xo,8),r.Rb(Zo,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(ht.c),Object(r.Rb)(ht.b,8),Object(r.Rb)(r.C),Object(r.Rb)(r.A),Object(r.Rb)(Wo,8),Object(r.Rb)(Qo,8),Object(r.Rb)(Ko,8),Object(r.Rb)(Yo,8),Object(r.Rb)(Xo,8),Object(r.Rb)(Zo,8))},token:t,providedIn:"any"}),t})();Object(ht.e)(Jo,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var ts=n("D0XW");function es(){return t=>t.lift(new ns)}class ns{call(t,e){return e.subscribe(new rs(t))}}class rs extends un.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class is{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new os(t,this.compare,this.keySelector))}}class os extends un.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var ss=n("Jgta"),us=n("zIRd"),as=n("q/0M"),cs=n("qOnz"),ls=function(t,e){return(ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function hs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var fs,ds="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ps=ps||{},gs=ds||self;function ys(){}function vs(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ms(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var bs="closure_uid_"+(1e9*Math.random()>>>0),ws=0;function _s(t,e,n){return t.call.apply(t.bind,arguments)}function Os(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Es(t,e,n){return(Es=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_s:Os).apply(null,arguments)}function Is(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Cs(){return Date.now()}function Ss(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ts(){this.j=this.j,this.i=this.i}Ts.prototype.j=!1,Ts.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,bs)&&t[bs]||(t[bs]=++ws)}(this)},Ts.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var xs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},As=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function js(t){return Array.prototype.concat.apply([],arguments)}function Ns(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ks(t){return/^[\s\xa0]*$/.test(t)}var Rs,Ds=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ps(t,e){return-1!=t.indexOf(e)}function Vs(t,e){return t<e?-1:t>e?1:0}t:{var Ls=gs.navigator;if(Ls){var Ms=Ls.userAgent;if(Ms){Rs=Ms;break t}}Rs=""}function Us(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Fs(t){var e={};for(var n in t)e[n]=t[n];return e}var qs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hs(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<qs.length;o++)n=qs[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zs(t){return zs[" "](t),t}zs[" "]=ys;var Bs,Gs,$s=Ps(Rs,"Opera"),Ws=Ps(Rs,"Trident")||Ps(Rs,"MSIE"),Qs=Ps(Rs,"Edge"),Ks=Qs||Ws,Ys=Ps(Rs,"Gecko")&&!(Ps(Rs.toLowerCase(),"webkit")&&!Ps(Rs,"Edge"))&&!(Ps(Rs,"Trident")||Ps(Rs,"MSIE"))&&!Ps(Rs,"Edge"),Xs=Ps(Rs.toLowerCase(),"webkit")&&!Ps(Rs,"Edge");function Zs(){var t=gs.document;return t?t.documentMode:void 0}t:{var Js="",tu=(Gs=Rs,Ys?/rv:([^\);]+)(\)|;)/.exec(Gs):Qs?/Edge\/([\d\.]+)/.exec(Gs):Ws?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gs):Xs?/WebKit\/(\S+)/.exec(Gs):$s?/(?:Version)[ \/]?(\S+)/.exec(Gs):void 0);if(tu&&(Js=tu?tu[1]:""),Ws){var eu=Zs();if(null!=eu&&eu>parseFloat(Js)){Bs=String(eu);break t}}Bs=Js}var nu={};function ru(t){return function(t,e){var n=nu;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ds(String(Bs)).split("."),r=Ds(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=Vs(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Vs(0==s[2].length,0==u[2].length)||Vs(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var iu=gs.document&&Ws&&(Zs()||parseInt(Bs,10))||void 0,ou=!Ws||9<=Number(iu),su=Ws&&!ru("9"),uu=function(){if(!gs.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{gs.addEventListener("test",ys,e),gs.removeEventListener("test",ys,e)}catch(n){}return t}();function au(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function cu(t,e){if(au.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ys){t:{try{zs(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:lu[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}au.prototype.b=function(){this.defaultPrevented=!0},Ss(cu,au);var lu={2:"touch",3:"pen",4:"mouse"};cu.prototype.b=function(){cu.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,su)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var hu="closure_listenable_"+(1e6*Math.random()|0),fu=0;function du(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++fu,this.Y=this.Z=!1}function pu(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function gu(t){this.src=t,this.a={},this.b=0}function yu(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=xs(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(pu(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function vu(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}gu.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=vu(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new du(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var mu="closure_lm_"+(1e6*Math.random()|0),bu={};function wu(t,e,n,r,i){if(r&&r.once)return Ou(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)wu(t,e[o],n,r,i);return null}return n=ju(n),t&&t[hu]?t.va(e,n,ms(r)?!!r.capture:!!r,i):_u(t,e,n,!1,r,i)}function _u(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ms(i)?!!i.capture:!!i;if(s&&!ou)return null;var u=xu(t);if(u||(t[mu]=u=new gu(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Tu,e=ou?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uu||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Cu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ou(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ou(t,e[o],n,r,i);return null}return n=ju(n),t&&t[hu]?t.wa(e,n,ms(r)?!!r.capture:!!r,i):_u(t,e,n,!0,r,i)}function Eu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Eu(t,e[o],n,r,i);else r=ms(r)?!!r.capture:!!r,n=ju(n),t&&t[hu]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=vu(o=t.a[e],n,r,i))&&(pu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=xu(t))&&(e=t.a[e.toString()],t=-1,e&&(t=vu(e,n,r,i)),(n=-1<t?e[t]:null)&&Iu(n))}function Iu(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[hu])yu(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Cu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xu(e))?(yu(n,t),0==n.b&&(n.src=null,e[mu]=null)):pu(t)}}}function Cu(t){return t in bu?bu[t]:bu[t]="on"+t}function Su(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Iu(t),n.call(r,e)}function Tu(t,e){if(t.Y)return!0;if(!ou){if(!e)t:{e=["window","event"];for(var n=gs,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Su(t,e=new cu(e,this))}return Su(t,new cu(e,this))}function xu(t){return(t=t[mu])instanceof gu?t:null}var Au="__closure_events_fn_"+(1e9*Math.random()>>>0);function ju(t){return"function"==typeof t?t:(t[Au]||(t[Au]=function(e){return t.handleEvent(e)}),t[Au])}function Nu(){Ts.call(this),this.c=new gu(this),this.J=this,this.C=null}function ku(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new au(e,t);else if(e instanceof au)e.target=e.target||t;else{var i=e;Hs(e=new au(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ru(s,r,!0,e)&&i}if(i=Ru(s=e.a=t,r,!0,e)&&i,i=Ru(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ru(s=e.a=n[o],r,!1,e)&&i}function Ru(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&yu(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}Ss(Nu,Ts),Nu.prototype[hu]=!0,(fs=Nu.prototype).addEventListener=function(t,e,n,r){wu(this,t,e,n,r)},fs.removeEventListener=function(t,e,n,r){Eu(this,t,e,n,r)},fs.G=function(){if(Nu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)pu(n[r]);delete e.a[t],e.b--}}this.C=null},fs.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},fs.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Du=gs.JSON.stringify;function Pu(){this.b=this.a=null}var Vu,Lu=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Uu},function(t){t.reset()});function Mu(){var t=zu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Uu(){this.next=this.b=this.a=null}function Fu(t){gs.setTimeout(function(){throw t},0)}function qu(t,e){Vu||function(){var t=gs.Promise.resolve(void 0);Vu=function(){t.then(Bu)}}(),Hu||(Vu(),Hu=!0),zu.add(t,e)}Pu.prototype.add=function(t,e){var n=Lu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Uu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Uu.prototype.reset=function(){this.next=this.b=this.a=null};var Hu=!1,zu=new Pu;function Bu(){for(var t;t=Mu();){try{t.a.call(t.b)}catch(n){Fu(n)}var e=Lu;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Hu=!1}function Gu(t,e){Nu.call(this),this.b=t||1,this.a=e||gs,this.f=Es(this.Za,this),this.g=Cs()}function $u(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Wu(t,e,n){if("function"==typeof t)n&&(t=Es(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Es(t.handleEvent,t)}return 2147483647<Number(e)?-1:gs.setTimeout(t,e||0)}function Qu(t){t.a=Wu(function(){t.a=null,t.c&&(t.c=!1,Qu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ss(Gu,Nu),(fs=Gu.prototype).aa=!1,fs.M=null,fs.Za=function(){if(this.aa){var t=Cs()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ku(this,"tick"),this.aa&&($u(this),this.start()))}},fs.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Cs())},fs.G=function(){Gu.X.G.call(this),$u(this),delete this.a};var Ku=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ls(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Qu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(gs.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ts);function Yu(t){Ts.call(this),this.b=t,this.a={}}Ss(Yu,Ts);var Xu=[];function Zu(t,e,n,r){Array.isArray(n)||(n&&(Xu[0]=n.toString()),n=Xu);for(var i=0;i<n.length;i++){var o=wu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ju(t){Us(t.a,function(t,e){this.a.hasOwnProperty(e)&&Iu(t)},t),t.a={}}function ta(){this.a=!0}function ea(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Du(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}Yu.prototype.G=function(){Yu.X.G.call(this),Ju(this)},Yu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ta.prototype.info=function(){};var na={},ra=null;function ia(){return ra=ra||new Nu}function oa(t){au.call(this,na.Fa,t)}function sa(t){var e=ia();ku(e,new oa(e,t))}function ua(t,e){au.call(this,na.STAT_EVENT,t),this.stat=e}function aa(t){var e=ia();ku(e,new ua(e,t))}function ca(t){au.call(this,na.Ga,t)}function la(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return gs.setTimeout(function(){t()},e)}na.Fa="serverreachability",Ss(oa,au),na.STAT_EVENT="statevent",Ss(ua,au),na.Ga="timingevent",Ss(ca,au);var ha={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},fa={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function da(){}function pa(){}da.prototype.a=null;var ga,ya={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function va(){au.call(this,"d")}function ma(){au.call(this,"c")}function ba(){}function wa(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Yu(this),this.P=_a,this.R=new Gu(t=Ks?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ss(va,au),Ss(ma,au),Ss(ba,da),ga=new ba;var _a=45e3,Oa={},Ea={};function Ia(t,e,n){t.H=1,t.i=$a(Fa(e)),t.j=n,t.I=!0,Ca(t,null)}function Ca(t,e){t.u=Cs(),xa(t),t.l=Fa(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),oc(n.b,"t",r),t.D=0,t.a=Jc(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ku(Es(t.Ca,t,t.a),t.O)),Zu(t.J,t.a,"readystatechange",t.Xa),e=t.B?Fs(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),sa(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Sa(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ta(t,n);if(i==Ea){4==e&&(t.h=4,aa(14),r=!1),ea(t.c,t.f,null,"[Incomplete Response]");break}if(i==Oa){t.h=4,aa(15),ea(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ea(t.c,t.f,i,null),Ra(t,i)}4==e&&0==n.length&&(t.h=1,aa(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gc(e),e.F=!0,aa(11))):(ea(t.c,t.f,n,"[Invalid Chunked Response]"),ka(t),Na(t))}function Ta(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ea:(n=Number(e.substring(n,r)),isNaN(n)?Oa:(r+=1)+n>e.length?Ea:(e=e.substr(r,n),t.D=r+n,e))}function xa(t){t.T=Cs()+t.P,Aa(t,t.P)}function Aa(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=la(Es(t.Va,t),e)}function ja(t){t.o&&(gs.clearTimeout(t.o),t.o=null)}function Na(t){0==t.g.v||t.A||Qc(t.g,t)}function ka(t){ja(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,$u(t.R),Ju(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ra(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||fc(n.b,t)))if(n.I=t.N,!t.C&&fc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Lb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Wc(n),Vc(n)}Bc(n),aa(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=la(Es(n.Sa,n),6e3));if(1>=hc(n.b)&&n.ea){try{n.ea()}catch(Lb){}n.ea=void 0}}else Yc(n,11)}else if((t.C||n.a==t)&&Wc(n),!ks(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(Ps(l,"spdy")||Ps(l,"quic")||Ps(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(dc(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,Ga(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Cs()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=Zc(a,a.C?a.ga:null,a.fa),d.C){pc(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&(ja(p),xa(p)),a.a=d}else zc(a);0<n.g.length&&Uc(n)}else"stop"!=i[0]&&"close"!=i[0]||Yc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Yc(n,7):Pc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);sa(4)}catch(Lb){}}function Da(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(vs(t)||"string"==typeof t)As(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(vs(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(vs(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Pa(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pa)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Va(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];La(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)La(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function La(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(fs=wa.prototype).setTimeout=function(t){this.P=t},fs.Xa=function(t){t=t.target;var e=this.F;e&&3==Nc(t)?e.f():this.Ca(t)},fs.Ca=function(t){try{if(t==this.a)t:{var e=Nc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ks&&!this.a.$())){this.A||4!=e||7==n||sa(8==n||0>=r?3:2),ja(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ks(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,aa(12),ka(this),Na(this);break t}ea(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ra(this,a)}this.I?(Sa(this,e,o),Ks&&this.b&&3==e&&(Zu(this.J,this.R,"tick",this.Wa),this.R.start())):(ea(this.c,this.f,o,null),Ra(this,o)),4==e&&ka(this),this.b&&!this.A&&(4==e?Qc(this.g,this):(this.b=!1,xa(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,aa(12)):(this.h=0,aa(13)),ka(this),Na(this)}}}catch(c){}},fs.Wa=function(){if(this.a){var t=Nc(this.a),e=this.a.$();this.D<e.length&&(ja(this),Sa(this,t,e),this.b&&4!=t&&xa(this))}},fs.cancel=function(){this.A=!0,ka(this)},fs.Va=function(){this.o=null;var t=Cs();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(sa(3),aa(17)),ka(this),this.h=2,Na(this)):Aa(this,this.T-t)},(fs=Pa.prototype).K=function(){Va(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},fs.L=function(){return Va(this),this.a.concat()},fs.get=function(t,e){return La(this.b,t)?this.b[t]:e},fs.set=function(t,e){La(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},fs.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ma=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ua(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ua){this.a=void 0!==e?e:t.a,qa(this,t.f),this.j=t.j,Ha(this,t.c),za(this,t.h),this.g=t.g,e=t.b;var n=new ec;n.c=e.c,e.a&&(n.a=new Pa(e.a),n.b=e.b),Ba(this,n),this.i=t.i}else t&&(n=String(t).match(Ma))?(this.a=!!e,qa(this,n[1]||"",!0),this.j=Wa(n[2]||""),Ha(this,n[3]||"",!0),za(this,n[4]),this.g=Wa(n[5]||"",!0),Ba(this,n[6]||"",!0),this.i=Wa(n[7]||"")):(this.a=!!e,this.b=new ec(null,this.a))}function Fa(t){return new Ua(t)}function qa(t,e,n){t.f=n?Wa(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ha(t,e,n){t.c=n?Wa(e,!0):e}function za(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ba(t,e,n){e instanceof ec?(t.b=e,function(t,e){e&&!t.f&&(nc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(rc(this,e),oc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Qa(e,Ja)),t.b=new ec(e,t.a))}function Ga(t,e,n){t.b.set(e,n)}function $a(t){return Ga(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Cs()).toString(36)),t}function Wa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ka),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ka(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ua.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Qa(e,Ya,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Qa(e,Ya,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Qa(n,"/"==n.charAt(0)?Za:Xa,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Qa(n,tc)),t.join("")};var Ya=/[#\/\?@]/g,Xa=/[#\?:]/g,Za=/[#\?]/g,Ja=/[#\?@]/g,tc=/#/g;function ec(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function nc(t){t.a||(t.a=new Pa,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function rc(t,e){nc(t),e=sc(t,e),La(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,La((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Va(t)))}function ic(t,e){return nc(t),e=sc(t,e),La(t.a.b,e)}function oc(t,e,n){rc(t,e),0<n.length&&(t.c=null,t.a.set(sc(t,e),Ns(n)),t.b+=n.length)}function sc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(fs=ec.prototype).add=function(t,e){nc(this),this.c=null,t=sc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},fs.forEach=function(t,e){nc(this),this.a.forEach(function(n,r){As(n,function(n){t.call(e,n,r,this)},this)},this)},fs.L=function(){nc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},fs.K=function(t){nc(this);var e=[];if("string"==typeof t)ic(this,t)&&(e=js(e,this.a.get(sc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=js(e,t[n])}return e},fs.set=function(t,e){return nc(this),this.c=null,ic(this,t=sc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},fs.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},fs.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var uc=function(){return function(t,e){this.b=t,this.a=e}}();function ac(t){this.g=t||cc,t=gs.PerformanceNavigationTiming?0<(t=gs.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(gs.ia&&gs.ia.ya&&gs.ia.ya()&&gs.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var cc=10;function lc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function hc(t){return t.b?1:t.a?t.a.size:0}function fc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function dc(t,e){t.a?t.a.add(e):t.b=e}function pc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function gc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=hs(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ns(t.c)}function yc(){}function vc(){this.a=new yc}function mc(t,e,n){var r=n||"";try{Da(t,function(t,n){var i=t;ms(t)&&(i=Du(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Iw){throw e.push(r+"type="+encodeURIComponent("_badmap")),Iw}}function bc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ac.prototype.cancel=function(){var t,e;if(this.c=gc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=hs(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},yc.prototype.stringify=function(t){return gs.JSON.stringify(t,void 0)},yc.prototype.parse=function(t){return gs.JSON.parse(t,void 0)};var wc=gs.JSON.parse;function _c(t){Nu.call(this),this.headers=new Pa,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Oc,this.D=this.F=!1}Ss(_c,Nu);var Oc="",Ec=/^https?$/i,Ic=["POST","PUT"];function Cc(t){return"content-type"==t.toLowerCase()}function Sc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Tc(t),Ac(t)}function Tc(t){t.u||(t.u=!0,ku(t,"complete"),ku(t,"error"))}function xc(t){if(t.b&&void 0!==ps&&(!t.s[1]||4!=Nc(t)||2!=t.W()))if(t.l&&4==Nc(t))Wu(t.za,0,t);else if(ku(t,"readystatechange"),4==Nc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ma)[1]||null;if(!o&&gs.self&&gs.self.location){var s=gs.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ec.test(o?o.toLowerCase():"")}e=i}if(e)ku(t,"complete"),ku(t,"success");else{t.h=6;try{var u=2<Nc(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",Tc(t)}}finally{Ac(t)}}}function Ac(t,e){if(t.a){jc(t);var n=t.a,r=t.s[0]?ys:null;t.a=null,t.s=null,e||ku(t,"ready");try{n.onreadystatechange=r}catch(Iw){}}}function jc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(gs.clearTimeout(t.m),t.m=null)}function Nc(t){return t.a?t.a.readyState:0}function kc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Us(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ga(t,e,n))}function Rc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Dc(t){this.pa=0,this.g=[],this.c=new ta,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Rc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Rc("baseRetryDelayMs",5e3,t),this.Ra=Rc("retryDelaySeedMs",1e4,t),this.Ma=Rc("forwardChannelMaxRetries",2,t),this.ma=Rc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ac(t&&t.concurrentRequestLimit),this.ka=new vc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Pc(t){if(Lc(t),3==t.v){var e=t.R++,n=Fa(t.B);Ga(n,"SID",t.J),Ga(n,"RID",e),Ga(n,"TYPE","terminate"),qc(t,n),(e=new wa(t,t.c,e,void 0)).H=2,e.i=$a(Fa(n)),n=!1,gs.navigator&&gs.navigator.sendBeacon&&(n=gs.navigator.sendBeacon(e.i.toString(),"")),!n&&gs.Image&&((new Image).src=e.i,n=!0),n||(e.a=Jc(e.g,null),e.a.ba(e.i)),e.u=Cs(),xa(e)}Xc(t)}function Vc(t){t.a&&(Gc(t),t.a.cancel(),t.a=null)}function Lc(t){Vc(t),t.j&&(gs.clearTimeout(t.j),t.j=null),Wc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&gs.clearTimeout(t.h),t.h=null)}function Mc(t,e){t.g.push(new uc(t.Oa++,e)),3==t.v&&Uc(t)}function Uc(t){lc(t.b)||t.h||(t.h=!0,qu(t.Ba,t),t.u=0)}function Fc(t,e){var n;n=e?e.f:t.R++;var r=Fa(t.B);Ga(r,"SID",t.J),Ga(r,"RID",n),Ga(r,"AID",t.P),qc(t,r),t.i&&t.l&&kc(r,t.i,t.l),n=new wa(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Hc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),dc(t.b,n),Ia(n,r,e)}function qc(t,e){t.f&&Da({},function(t,n){Ga(e,n,t)})}function Hc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Es(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{mc(l,s,"req"+c+"_")}catch(Pl){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function zc(t){t.a||t.j||(t.T=1,qu(t.Aa,t),t.o=0)}function Bc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=la(Es(t.Aa,t),Kc(t,t.o)),t.o++,0))}function Gc(t){null!=t.s&&(gs.clearTimeout(t.s),t.s=null)}function $c(t){t.a=new wa(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Fa(t.la);Ga(e,"RID","rpc"),Ga(e,"SID",t.J),Ga(e,"CI",t.H?"0":"1"),Ga(e,"AID",t.P),qc(t,e),Ga(e,"TYPE","xmlhttp"),t.i&&t.l&&kc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=$a(Fa(e)),n.j=null,n.I=!0,Ca(n,t)}function Wc(t){null!=t.m&&(gs.clearTimeout(t.m),t.m=null)}function Qc(t,e){var n=null;if(t.a==e){Wc(t),Gc(t),t.a=null;var r=2}else{if(!fc(t.b,e))return;n=e.s,pc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Cs()-e.u;var i=t.u;ku(r=ia(),new ca(r,n,e,i)),Uc(t)}else zc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(hc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=la(Es(t.Ba,t,e),Kc(t,t.u)),t.u++,0)))}(t,e)||2==r&&Bc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Yc(t,5);break;case 4:Yc(t,10);break;case 3:Yc(t,6);break;default:Yc(t,2)}}function Kc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Yc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Es(t.Ya,t);n||(n=new Ua("//www.google.com/images/cleardot.gif"),gs.location&&"http"==gs.location.protocol||qa(n,"https"),$a(n)),function(t,e){var n=new ta;if(gs.Image){var r=new Image;r.onload=Is(bc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Is(bc,n,r,"TestLoadImage: error",!1,e),r.onabort=Is(bc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Is(bc,n,r,"TestLoadImage: timeout",!1,e),gs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else aa(2);t.v=0,t.f&&t.f.ra(e),Xc(t),Lc(t)}function Xc(t){t.v=0,t.I=-1,t.f&&(0==gc(t.b).length&&0==t.g.length||(t.b.c.length=0,Ns(t.g),t.g.length=0),t.f.qa())}function Zc(t,e,n){var r=function(t){return t instanceof Ua?Fa(t):new Ua(t,void 0)}(n);if(""!=r.c)e&&Ha(r,e+"."+r.c),za(r,r.h);else{var i=gs.location;r=function(t,e,n,r){var i=new Ua(null,void 0);return t&&qa(i,t),e&&Ha(i,e),n&&za(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Us(t.V,function(t,e){Ga(r,e,t)}),n=t.na,(e=t.A)&&n&&Ga(r,e,n),Ga(r,"VER",t.ha),qc(t,r),r}function Jc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _c(t.Na)).F=t.C,e}function tl(){}function el(){if(Ws&&!(10<=Number(iu)))throw Error("Environmental error: no available transport.")}function nl(t,e){Nu.call(this),this.a=new Dc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ks(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ks(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ol(this)}function rl(t){va.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function il(){ma.call(this),this.status=1}function ol(t){this.a=t}(fs=_c.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ga),this.a.onreadystatechange=Es(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Sc(this,o)}t=n||"";var i=new Pa(this.headers);r&&Da(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Cc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=gs.FormData&&t instanceof gs.FormData,!(0<=xs(Ic,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{jc(this),0<this.o&&((this.D=function(t){return Ws&&ru(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Es(this.xa,this)):this.m=Wu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Sc(this,o)}},fs.xa=function(){void 0!==ps&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ku(this,"timeout"),this.abort(8))},fs.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ku(this,"complete"),ku(this,"abort"),Ac(this))},fs.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ac(this,!0)),_c.X.G.call(this)},fs.za=function(){this.j||(this.A||this.l||this.g?xc(this):this.Ua())},fs.Ua=function(){xc(this)},fs.W=function(){try{return 2<Nc(this)?this.a.status:-1}catch(Gs){return-1}},fs.$=function(){try{return this.a?this.a.responseText:""}catch(Gs){return""}},fs.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wc(e)}},fs.ua=function(){return this.h},fs.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(fs=Dc.prototype).ha=8,fs.v=1,fs.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new wa(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Hs(r=Fs(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Hc(this,n,e),Ga(i=Fa(this.B),"RID",t),Ga(i,"CVER",22),this.A&&Ga(i,"X-HTTP-Session-Id",this.A),qc(this,i),this.i&&r&&kc(i,this.i,r),dc(this.b,n),this.Ia&&Ga(i,"TYPE","init"),this.da?(Ga(i,"$req",e),Ga(i,"SID","null"),n.U=!0,Ia(n,i,null)):Ia(n,i,e),this.v=2}}else 3==this.v&&(t?Fc(this,t):0==this.g.length||lc(this.b)||Fc(this))},fs.Aa=function(){if(this.j=null,$c(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=la(Es(this.Ta,this),t)}},fs.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,aa(10),Vc(this),$c(this))},fs.Sa=function(){null!=this.m&&(this.m=null,Vc(this),Bc(this),aa(19))},fs.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),aa(2)):(this.c.info("Failed to ping google.com"),aa(1))},(fs=tl.prototype).ta=function(){},fs.sa=function(){},fs.ra=function(){},fs.qa=function(){},fs.Ja=function(){},el.prototype.a=function(t,e){return new nl(t,e)},Ss(nl,Nu),nl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;aa(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Zc(t,null,t.fa),Uc(t)},nl.prototype.close=function(){Pc(this.a)},nl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Mc(this.a,e)}else this.l?((e={}).__data__=Du(t),Mc(this.a,e)):Mc(this.a,t)},nl.prototype.G=function(){this.a.f=null,delete this.f,Pc(this.a),delete this.a,nl.X.G.call(this)},Ss(rl,va),Ss(il,ma),Ss(ol,tl),ol.prototype.ta=function(){ku(this.a,"a")},ol.prototype.sa=function(t){ku(this.a,new rl(t))},ol.prototype.ra=function(t){ku(this.a,new il(t))},ol.prototype.qa=function(){ku(this.a,"b")},el.prototype.createWebChannel=el.prototype.a,nl.prototype.send=nl.prototype.h,nl.prototype.open=nl.prototype.g,nl.prototype.close=nl.prototype.close,ha.NO_ERROR=0,ha.TIMEOUT=8,ha.HTTP_ERROR=6,fa.COMPLETE="complete",pa.EventType=ya,ya.OPEN="a",ya.CLOSE="b",ya.ERROR="c",ya.MESSAGE="d",Nu.prototype.listen=Nu.prototype.va,_c.prototype.listenOnce=_c.prototype.wa,_c.prototype.getLastError=_c.prototype.Qa,_c.prototype.getLastErrorCode=_c.prototype.ua,_c.prototype.getStatus=_c.prototype.W,_c.prototype.getResponseJson=_c.prototype.Pa,_c.prototype.getResponseText=_c.prototype.$,_c.prototype.send=_c.prototype.ba;var sl=ha,ul=fa,al=na,cl=pa,ll=_c,hl=n("30Go"),fl=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},dl=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),pl=new as.b("@firebase/firestore");function gl(){return pl.logLevel}function yl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pl.logLevel<=as.a.DEBUG){var r=e.map(bl);pl.debug.apply(pl,Object(hl.g)(["Firestore (8.2.6): "+t],r))}}function vl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pl.logLevel<=as.a.ERROR){var r=e.map(bl);pl.error.apply(pl,Object(hl.g)(["Firestore (8.2.6): "+t],r))}}function ml(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pl.logLevel<=as.a.WARN){var r=e.map(bl);pl.warn.apply(pl,Object(hl.g)(["Firestore (8.2.6): "+t],r))}}function bl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Iw){return t}}function wl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.6) INTERNAL ASSERTION FAILED: "+t;throw vl(e),new Error(e)}function _l(t,e){t||wl()}function Ol(t,e){return t}function El(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Il=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=El(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Cl(t,e){return t<e?-1:t>e?1:0}function Sl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Tl(t){return t+"\0"}var xl=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Cl(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();xl.T=new xl("");var Al={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(hl.c)(e,t),e}(Error),Nl=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(xl.fromBase64String(e))}catch(e){throw new jl(Al.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(xl.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),kl=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();kl.UNAUTHENTICATED=new kl(null),kl.R=new kl("google-credentials-uid"),kl.P=new kl("first-party-uid");var Rl=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Dl=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(kl.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),Pl=function(){function t(t){var e=this;this.D=null,this.currentUser=kl.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.F(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(yl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(_l("string"==typeof n.accessToken),new Rl(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return _l(null===t||"string"==typeof t),new kl(t)},t}(),Vl=function(){function t(t,e){this.O=t,this.k=e,this.type="FirstParty",this.user=kl.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.O.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ll=function(){function t(t,e){this.O=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new Vl(this.O,this.k))},t.prototype.v=function(t){t(kl.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),Ml=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.M=function(t){return n.L(t)},this.$=function(t){return e.B(t)})}return t.prototype.L=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.$&&this.$(t),t},t}();Ml.q=-1;var Ul=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new jl(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new jl(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new jl(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jl(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Cl(this.nanoseconds,t.nanoseconds):Cl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Fl=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new Ul(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),ql=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&wl(),void 0===n?n=t.length-e:n>t.length-e&&wl(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Hl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hl.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new jl(Al.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(ql),zl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hl.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return zl.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new jl(Al.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new jl(Al.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new jl(Al.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new jl(Al.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(ql),Gl=function(){function t(t){this.path=t}return t._t=function(e){return new t(Hl.ot(e))},t.ft=function(e){return new t(Hl.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Hl.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return Hl.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new Hl(e.slice()))},t}();function $l(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ql(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Kl=function(){function t(t){this.fields=t,t.sort(Bl.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Sl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Yl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xl(t){if(_l(!!t),"string"==typeof t){var e=0,n=Yl.exec(t);if(_l(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zl(t.seconds),nanos:Zl(t.nanos)}}function Zl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Jl(t){return"string"==typeof t?xl.fromBase64String(t):xl.fromUint8Array(t)}function th(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function eh(t){var e=t.mapValue.fields.__previous_value__;return th(e)?eh(e):e}function nh(t){var e=Xl(t.mapValue.fields.__local_write_time__.timestampValue);return new Ul(e.seconds,e.nanos)}function rh(t){return null==t}function ih(t){return 0===t&&1/t==-1/0}function oh(t){return"number"==typeof t&&Number.isInteger(t)&&!ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function sh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?th(t)?4:10:wl()}function uh(t,e){var n=sh(t);if(n!==sh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nh(t).isEqual(nh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Xl(t.timestampValue),r=Xl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Jl(t.bytesValue).isEqual(Jl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Zl(t.geoPointValue.latitude)===Zl(e.geoPointValue.latitude)&&Zl(t.geoPointValue.longitude)===Zl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Zl(t.integerValue)===Zl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Zl(t.doubleValue),r=Zl(e.doubleValue);return n===r?ih(n)===ih(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Sl(t.arrayValue.values||[],e.arrayValue.values||[],uh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if($l(n)!==$l(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!uh(n[i],r[i])))return!1;return!0}(t,e);default:return wl()}}function ah(t,e){return void 0!==(t.values||[]).find(function(t){return uh(t,e)})}function ch(t,e){var n=sh(t),r=sh(e);if(n!==r)return Cl(n,r);switch(n){case 0:return 0;case 1:return Cl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Zl(t.integerValue||t.doubleValue),r=Zl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return lh(t.timestampValue,e.timestampValue);case 4:return lh(nh(t),nh(e));case 5:return Cl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Jl(t),r=Jl(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Cl(n[i],r[i]);if(0!==o)return o}return Cl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Cl(Zl(t.latitude),Zl(e.latitude));return 0!==n?n:Cl(Zl(t.longitude),Zl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ch(n[i],r[i]);if(o)return o}return Cl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=Cl(r[s],o[s]);if(0!==u)return u;var a=ch(n[r[s]],i[o[s]]);if(0!==a)return a}return Cl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw wl()}}function lh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Cl(t,e);var n=Xl(t),r=Xl(e),i=Cl(n.seconds,r.seconds);return 0!==i?i:Cl(n.nanos,r.nanos)}function hh(t){return fh(t)}function fh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Xl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jl(t.bytesValue).toBase64():"referenceValue"in t?Gl.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=fh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+fh(t.fields[o])}return e+"}"}(t.mapValue):wl();var e}function dh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function ph(t){return!!t&&"integerValue"in t}function gh(t){return!!t&&"arrayValue"in t}function yh(t){return!!t&&"nullValue"in t}function vh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}var bh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!mh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return uh(this.proto,t.proto)},t}(),wh=function(){function t(t){void 0===t&&(t=bh.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===sh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(Bl.ct(),this.At);return null!=t?new bh(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=mh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function _h(t){var e=[];return Wl(t.fields||{},function(t,n){var r=new Bl([t]);if(mh(n)){var i=_h(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Kl(e)}var Oh=function(t,e){this.key=t,this.version=e},Eh=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(hl.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Oh),Ih=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(hl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Oh),Ch=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Oh),Sh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Th(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Sh(t,e,n,r,i,o,s)}function xh(t){var e=Ol(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+hh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=qh(e.startAt)),e.endAt&&(n+="|ub:",n+=qh(e.endAt)),e.vt=n}return e.vt}function Ah(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!zh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!uh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gh(t.startAt,e.startAt)&&Gh(t.endAt,e.endAt)}function jh(t){return Gl.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Nh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(hl.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new kh(t,n,r):"array-contains"===n?new Vh(t,r):"in"===n?new Lh(t,r):"not-in"===n?new Mh(t,r):"array-contains-any"===n?new Uh(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Rh(t,n):new Dh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(ch(e,this.value)):null!==e&&sh(this.value)===sh(e)&&this.Dt(ch(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return wl()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),kh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Gl.ft(r.referenceValue),i}return Object(hl.c)(e,t),e.prototype.matches=function(t){var e=Gl.H(t.key,this.key);return this.Dt(e)},e}(Nh),Rh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ph(0,n),r}return Object(hl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Nh),Dh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ph(0,n),r}return Object(hl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Nh);function Ph(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Gl.ft(t.referenceValue)})}var Vh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(hl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return gh(e)&&ah(e.arrayValue,this.value)},e}(Nh),Lh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(hl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ah(this.value.arrayValue,e)},e}(Nh),Mh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(hl.c)(e,t),e.prototype.matches=function(t){if(ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ah(this.value.arrayValue,e)},e}(Nh),Uh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(hl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!gh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ah(e.value.arrayValue,t)})},e}(Nh),Fh=function(t,e){this.position=t,this.before=e};function qh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return hh(t)}).join(",")}var Hh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function zh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Bh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?Gl.H(Gl.ft(s.referenceValue),n.key):ch(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Gh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!uh(t.position[n],e.position[n]))return!1;return!0}var $h=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Nt=null,this.Ft=null};function Wh(t,e,n,r,i,o,s,u){return new $h(t,e,n,r,i,o,s,u)}function Qh(t){return new $h(t)}function Kh(t){return!rh(t.limit)&&"F"===t.limitType}function Yh(t){return!rh(t.limit)&&"L"===t.limitType}function Xh(t){return t.xt.length>0?t.xt[0].field:null}function Zh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function Jh(t){return null!==t.collectionGroup}function tf(t){var e=Ol(t);if(null===e.Nt){e.Nt=[];var n=Zh(e),r=Xh(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new Hh(n)),e.Nt.push(new Hh(Bl.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var u=s[o];e.Nt.push(u),u.field.ut()&&(i=!0)}if(!i){var a=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Hh(Bl.ht(),a))}}}return e.Nt}function ef(t){var e=Ol(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Th(e.path,e.collectionGroup,tf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=tf(e);r<i.length;r++){var o=i[r];n.push(new Hh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Fh(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Fh(e.startAt.position,!e.startAt.before):null;e.Ft=Th(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ft}function nf(t,e,n){return new $h(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rf(t,e){return Ah(ef(t),ef(e))&&t.limitType===e.limitType}function of(t){return xh(ef(t))+"|lt:"+t.limitType}function sf(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+hh(e.value);var e}).join(", ")+"]"),rh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+qh(t.startAt)),t.endAt&&(e+=", endAt: "+qh(t.endAt)),"Target("+e+")"}(ef(t))+"; limitType="+t.limitType+")"}function uf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):Gl.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Bh(t.startAt,tf(t),e)||t.endAt&&Bh(t.endAt,tf(t),e))}(t,e)}function af(t){return function(e,n){for(var r=!1,i=0,o=tf(t);i<o.length;i++){var s=o[i],u=cf(s,e,n);if(0!==u)return u;r=r||s.field.ut()}return 0}}function cf(t,e,n){var r=t.field.ut()?Gl.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ch(r,i):wl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wl()}}var lf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Fl.min()),void 0===o&&(o=Fl.min()),void 0===s&&(s=xl.T),this.target=t,this.targetId=e,this.Ot=n,this.sequenceNumber=r,this.kt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Mt=function(e){return new t(this.target,this.targetId,this.Ot,e,this.kt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Lt=function(e,n){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.$t=function(e){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,this.kt,e,this.resumeToken)},t}();function hf(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function ff(t){return{integerValue:""+t}}function df(t,e){return oh(e)?ff(e):hf(t,e)}var pf=function(){this.qt=void 0};function gf(t,e,n){return t instanceof mf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof bf?wf(t,e):t instanceof _f?Of(t,e):function(t,e){var n=vf(t,e),r=If(n)+If(t.Ut);return ph(n)&&ph(t.Ut)?ff(r):hf(t.Qt,r)}(t,e)}function yf(t,e,n){return t instanceof bf?wf(t,e):t instanceof _f?Of(t,e):n}function vf(t,e){return t instanceof Ef?ph(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var mf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hl.c)(e,t),e}(pf),bf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(hl.c)(e,t),e}(pf);function wf(t,e){for(var n=Cf(e),r=function(t){n.some(function(e){return uh(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _f=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(hl.c)(e,t),e}(pf);function Of(t,e){for(var n=Cf(e),r=function(t){n=n.filter(function(e){return!uh(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ef=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(hl.c)(e,t),e}(pf);function If(t){return Zl(t.integerValue||t.doubleValue)}function Cf(t){return gh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Sf=function(t,e){this.field=t,this.transform=e},Tf=function(t,e){this.version=t,this.transformResults=e},xf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Af(t,e){return void 0!==t.updateTime?e instanceof Eh&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Eh}var jf=function(){};function Nf(t,e,n){return t instanceof Vf?function(t,e,n){var r=t.value;if(n.transformResults){var i=Uf(t.fieldTransforms,e,n.transformResults);r=qf(t.fieldTransforms,r,i)}return new Eh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Lf?function(t,e,n){if(!Af(t.jt,e))return new Ch(t.key,n.version);var r=Mf(t,e,n.transformResults?Uf(t.fieldTransforms,e,n.transformResults):[]);return new Eh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ih(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function kf(t,e,n){return t instanceof Vf?function(t,e,n){if(!Af(t.jt,e))return e;var r=t.value,i=Ff(t.fieldTransforms,n,e);r=qf(t.fieldTransforms,r,i);var o=Pf(e);return new Eh(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof Lf?function(t,e,n){if(!Af(t.jt,e))return e;var r=Pf(e),i=Mf(t,e,Ff(t.fieldTransforms,n,e));return new Eh(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Af(t.jt,e)?new Ih(t.key,Fl.min()):e}(t,e)}function Rf(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Eh?e.field(o.field):void 0,u=vf(o.transform,s||null);null!=u&&(n=null==n?(new wh).set(o.field,u):n.set(o.field,u))}return n?n.Pt():null}(t.fieldTransforms,e)}function Df(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Sl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof bf&&e instanceof bf||t instanceof _f&&e instanceof _f?Sl(t.elements,e.elements,uh):t instanceof Ef&&e instanceof Ef?uh(t.Ut,e.Ut):t instanceof mf&&e instanceof mf}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function Pf(t){return t instanceof Eh?t.version:Fl.min()}var Vf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(hl.c)(e,t),e}(jf),Lf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(hl.c)(e,t),e}(jf);function Mf(t,e,n){var r;return r=function(t,e){var n=new wh(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof Eh?e.data():bh.empty()),qf(t.fieldTransforms,r,n)}function Uf(t,e,n){var r=[];_l(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof Eh&&(u=e.field(o.field)),r.push(yf(s,u,n[i]))}return r}function Ff(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],u=s.transform,a=null;n instanceof Eh&&(a=n.field(s.field)),r.push(gf(u,a,e))}return r}function qf(t,e,n){for(var r=new wh(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var Hf,zf,Bf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(hl.c)(e,t),e}(jf),Gf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(hl.c)(e,t),e}(jf),$f=function(t){this.count=t};function Wf(t){switch(t){case Al.OK:return wl();case Al.CANCELLED:case Al.UNKNOWN:case Al.DEADLINE_EXCEEDED:case Al.RESOURCE_EXHAUSTED:case Al.INTERNAL:case Al.UNAVAILABLE:case Al.UNAUTHENTICATED:return!1;case Al.INVALID_ARGUMENT:case Al.NOT_FOUND:case Al.ALREADY_EXISTS:case Al.PERMISSION_DENIED:case Al.FAILED_PRECONDITION:case Al.ABORTED:case Al.OUT_OF_RANGE:case Al.UNIMPLEMENTED:case Al.DATA_LOSS:return!0;default:return wl()}}function Qf(t){if(void 0===t)return vl("GRPC error has no .code"),Al.UNKNOWN;switch(t){case Hf.OK:return Al.OK;case Hf.CANCELLED:return Al.CANCELLED;case Hf.UNKNOWN:return Al.UNKNOWN;case Hf.DEADLINE_EXCEEDED:return Al.DEADLINE_EXCEEDED;case Hf.RESOURCE_EXHAUSTED:return Al.RESOURCE_EXHAUSTED;case Hf.INTERNAL:return Al.INTERNAL;case Hf.UNAVAILABLE:return Al.UNAVAILABLE;case Hf.UNAUTHENTICATED:return Al.UNAUTHENTICATED;case Hf.INVALID_ARGUMENT:return Al.INVALID_ARGUMENT;case Hf.NOT_FOUND:return Al.NOT_FOUND;case Hf.ALREADY_EXISTS:return Al.ALREADY_EXISTS;case Hf.PERMISSION_DENIED:return Al.PERMISSION_DENIED;case Hf.FAILED_PRECONDITION:return Al.FAILED_PRECONDITION;case Hf.ABORTED:return Al.ABORTED;case Hf.OUT_OF_RANGE:return Al.OUT_OF_RANGE;case Hf.UNIMPLEMENTED:return Al.UNIMPLEMENTED;case Hf.DATA_LOSS:return Al.DATA_LOSS;default:return wl()}}(zf=Hf||(Hf={}))[zf.OK=0]="OK",zf[zf.CANCELLED=1]="CANCELLED",zf[zf.UNKNOWN=2]="UNKNOWN",zf[zf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zf[zf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zf[zf.NOT_FOUND=5]="NOT_FOUND",zf[zf.ALREADY_EXISTS=6]="ALREADY_EXISTS",zf[zf.PERMISSION_DENIED=7]="PERMISSION_DENIED",zf[zf.UNAUTHENTICATED=16]="UNAUTHENTICATED",zf[zf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zf[zf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zf[zf.ABORTED=10]="ABORTED",zf[zf.OUT_OF_RANGE=11]="OUT_OF_RANGE",zf[zf.UNIMPLEMENTED=12]="UNIMPLEMENTED",zf[zf.INTERNAL=13]="INTERNAL",zf[zf.UNAVAILABLE=14]="UNAVAILABLE",zf[zf.DATA_LOSS=15]="DATA_LOSS";var Kf=function(){function t(t,e){this.H=t,this.root=e||Xf.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,Xf.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,Xf.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new Yf(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new Yf(this.root,t,this.H,!1)},t.prototype.ne=function(){return new Yf(this.root,null,this.H,!0)},t.prototype.se=function(t){return new Yf(this.root,t,this.H,!0)},t}(),Yf=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),Xf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw wl();if(this.right.le())throw wl();var t=this.left.Ie();if(t!==this.right.Ie())throw wl();return t+(this.le()?0:1)},t}();Xf.EMPTY=null,Xf.RED=!0,Xf.Ht=!1,Xf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw wl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw wl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw wl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw wl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw wl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new Xf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var Zf=function(){function t(t){this.H=t,this.data=new Kf(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new Jf(this.data.te())},t.prototype.ee=function(t){return new Jf(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),Jf=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),td=new Kf(Gl.H);function ed(){return td}function nd(){return ed()}var rd=new Kf(Gl.H);function id(){return rd}var od=new Kf(Gl.H);function sd(){return od}var ud=new Zf(Gl.H);function ad(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ud,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var cd=new Zf(Cl);function ld(){return cd}var hd=function(){function t(t){this.H=t?function(e,n){return t(e,n)||Gl.H(e.key,n.key)}:function(t,e){return Gl.H(t.key,e.key)},this.ge=id(),this.Ve=new Kf(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),fd=function(){function t(){this.be=new Kf(Gl.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):wl():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),dd=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=u}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,hd.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&rf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),pd=function(){function t(t,e,n,r,i){this.kt=t,this.Fe=e,this.Oe=n,this.ke=r,this.Me=i}return t.Le=function(e,n){var r=new Map;return r.set(e,gd.$e(e,n)),new t(Fl.min(),r,ld(),ed(),ad())},t}(),gd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.$e=function(e,n){return new t(xl.T,n,ad(),ad(),ad())},t}(),yd=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},vd=function(t,e){this.targetId=t,this.je=e},md=function(t,e,n,r){void 0===n&&(n=xl.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},bd=function(){function t(){this.Ge=0,this.ze=Od(),this.He=xl.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=ad(),e=ad(),n=ad();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:wl()}}),new gd(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Od()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),wd=function(){function t(t){this.un=t,this.hn=new Map,this.ln=ed(),this._n=_d(),this.fn=new Zf(Cl)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Eh?this.wn(r,t.We):t.We instanceof Ih&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:wl()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(jh(i))if(0===n){var o=new Gl(i.path);this.En(e,o,new Ih(o,Fl.min()))}else _l(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&jh(o.target)){var s=new Gl(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new Ih(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=ad();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ot||(i=!1,!1)}),i&&(r=r.add(t))});var i=new pd(t,n,this.fn,this.ln,r);return this.ln=ed(),this._n=_d(),this.fn=new Zf(Cl),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new bd,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new Zf(Cl),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||yl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new bd),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function _d(){return new Kf(Gl.H)}function Od(){return new Kf(Gl.H)}var Ed={asc:"ASCENDING",desc:"DESCENDING"},Id={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cd=function(t,e){this.t=t,this.Bt=e};function Sd(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Td(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function xd(t,e){return Sd(t,e.j())}function Ad(t){return _l(!!t),Fl.K(function(t){var e=Xl(t);return new Ul(e.seconds,e.nanos)}(t))}function jd(t,e){return function(t){return new Hl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Nd(t){var e=Hl.ot(t);return _l(ep(e)),e}function kd(t,e){return jd(t.t,e.path)}function Rd(t,e){var n=Nd(e);if(n.get(1)!==t.t.projectId)throw new jl(Al.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new jl(Al.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Gl(Ld(n))}function Dd(t,e){return jd(t.t,e)}function Pd(t){var e=Nd(t);return 4===e.length?Hl.ct():Ld(e)}function Vd(t){return new Hl(["projects",t.t.projectId,"databases",t.t.database]).rt()}function Ld(t){return _l(t.length>4&&"documents"===t.get(4)),t.Y(5)}function Md(t,e,n){return{name:kd(t,e),fields:n.proto.mapValue.fields}}function Ud(t,e,n){var r=Rd(t,e.name),i=Ad(e.updateTime),o=new bh({mapValue:{fields:e.fields}});return new Eh(r,i,o,{hasCommittedMutations:!!n})}function Fd(t,e){var n;if(e instanceof Vf)n={update:Md(t,e.key,e.value)};else if(e instanceof Bf)n={delete:kd(t,e.key)};else if(e instanceof Lf)n={update:Md(t,e.key,e.data),updateMask:tp(e.Gt)};else{if(!(e instanceof Gf))return wl();n={verify:kd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof mf)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof bf)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof _f)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Ef)return{fieldPath:e.field.rt(),increment:n.Ut};throw wl()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:xd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:wl()}(t,e.jt)),n}function qd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?xf.updateTime(Ad(t.updateTime)):void 0!==t.exists?xf.exists(t.exists):xf.Kt()}(e.currentDocument):xf.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(_l("REQUEST_TIME"===e.setToServerValue),n=new mf):"appendMissingElements"in e?n=new bf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new _f(e.removeAllFromArray.values||[]):"increment"in e?n=new Ef(t,e.increment):wl();var r=Bl.lt(e.fieldPath);return new Sf(r,n)}(t,e)}):[];if(e.update){var i=Rd(t,e.update.name),o=new bh({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Kl((t.fieldPaths||[]).map(function(t){return Bl.lt(t)}))}(e.updateMask);return new Lf(i,o,s,n,r)}return new Vf(i,o,n,r)}if(e.delete){var u=Rd(t,e.delete);return new Bf(u,n)}if(e.verify){var a=Rd(t,e.verify);return new Gf(a,n)}return wl()}function Hd(t,e){return{documents:[Dd(t,e.path)]}}function zd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Dd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Dd(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(vh(t.value))return{unaryFilter:{field:Yd(t.field),op:"IS_NAN"}};if(yh(t.value))return{unaryFilter:{field:Yd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(vh(t.value))return{unaryFilter:{field:Yd(t.field),op:"IS_NOT_NAN"}};if(yh(t.value))return{unaryFilter:{field:Yd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yd(t.field),op:Kd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Yd(t.field),direction:Qd(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||rh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=$d(e.startAt)),e.endAt&&(n.structuredQuery.endAt=$d(e.endAt)),n}function Bd(t){var e=Pd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_l(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Gd(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new Hh(Xd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return rh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Wd(n.startAt));var l=null;return n.endAt&&(l=Wd(n.endAt)),Wh(e,i,u,s,a,"F",c,l)}function Gd(t){return t?void 0!==t.unaryFilter?[Jd(t)]:void 0!==t.fieldFilter?[Zd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Gd(t)}).reduce(function(t,e){return t.concat(e)}):wl():[]}function $d(t){return{before:t.before,values:t.position}}function Wd(t){return new Fh(t.values||[],!!t.before)}function Qd(t){return Ed[t]}function Kd(t){return Id[t]}function Yd(t){return{fieldPath:t.rt()}}function Xd(t){return Bl.lt(t.fieldPath)}function Zd(t){return Nh.create(Xd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return wl()}}(t.fieldFilter.op),t.fieldFilter.value)}function Jd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Xd(t.unaryFilter.field);return Nh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Xd(t.unaryFilter.field);return Nh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xd(t.unaryFilter.field);return Nh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xd(t.unaryFilter.field);return Nh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return wl()}}function tp(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function ep(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var np=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},rp=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&wl(),this.Nn=!0,this.xn?this.error?this.Fn(n,this.error):this.On(e,this.result):new t(function(t,i){r.Dn=function(n){r.On(e,n).next(t,i)},r.Cn=function(e){r.Fn(n,e).next(t,i)}})},t.prototype.kn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Mn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.On=function(e,n){return e?this.Mn(function(){return e(n)}):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Mn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Ln=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.$n=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Ln(r)},t}(),ip=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new np,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new up(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=fp(e.target.error);n.Bn.reject(new up(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new up(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(yl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new cp(e)},t}(),op=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(cs.g)())&&vl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return yl("SimpleDb","Removing database:",t),lp(window.indexedDB.deleteDatabase(t)).kn()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(cs.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(hl.b)(this,void 0,void 0,function(){var e,n=this;return Object(hl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(yl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new up(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new jl(Al.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new up(t,n))},i.onupgradeneeded=function(t){yl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){yl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(hl.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(hl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(hl.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Hn(t)];case 2:return u.db=h.sent(),e=ip.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),rp.reject(t)}).kn(),a={},s.catch(function(){}),[4,e.qn];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return yl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),sp=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return lp(this.Zn.delete())},t}(),up=function(t){function e(e,n){var r=this;return(r=t.call(this,Al.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(hl.c)(e,t),e}(jl);function ap(t){return"IndexedDbTransactionError"===t.name}var cp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(yl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(yl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),lp(n)},t.prototype.add=function(t){return yl("SimpleDb","ADD",this.store.name,t,t),lp(this.store.add(t))},t.prototype.get=function(t){var e=this;return lp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),yl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return yl("SimpleDb","DELETE",this.store.name,t),lp(this.store.delete(t))},t.prototype.count=function(){return yl("SimpleDb","COUNT",this.store.name),lp(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){yl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new rp(function(n,r){e.onerror=function(t){var e=fp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new rp(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new sp(i),s=e(i.primaryKey,i.value,o);if(s instanceof rp){var u=s.catch(function(t){return o.done(),rp.reject(t)});n.push(u)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return rp.Ln(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function lp(t){return new rp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=fp(t.target.error);n(e)}})}var hp=!1;function fp(t){var e=op.Qn(Object(cs.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new jl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hp||(hp=!0,setTimeout(function(){throw r},0)),r}}return t}var dp=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new np,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new jl(Al.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function pp(t,e){if(vl("AsyncQueue",e+": "+t),ap(t))return new jl(Al.UNAVAILABLE,e+": "+t);throw t}var gp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yp=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function vp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=bp(e)),e=mp(t.get(n),e);return bp(e)}function mp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function bp(t){return t+"\x01\x01"}function wp(t){var e=t.length;if(_l(e>=2),2===e)return _l("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Hl.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&wl(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:wl()}o=s+2}return new Hl(r)}var _p=function(t,e){this.seconds=t,this.nanoseconds=e},Op=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Op.store="owner",Op.key="owner";var Ep=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ep.store="mutationQueues",Ep.keyPath="userId";var Ip=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ip.store="mutations",Ip.keyPath="batchId",Ip.userMutationsIndex="userMutationsIndex",Ip.userMutationsKeyPath=["userId","batchId"];var Cp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vp(e)]},t.key=function(t,e,n){return[t,vp(e),n]},t}();Cp.store="documentMutations",Cp.PLACEHOLDER=new Cp;var Sp=function(t,e){this.path=t,this.readTime=e},Tp=function(t,e){this.path=t,this.version=e},xp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};xp.store="remoteDocuments",xp.readTimeIndex="readTimeIndex",xp.readTimeIndexPath="readTime",xp.collectionReadTimeIndex="collectionReadTimeIndex",xp.collectionReadTimeIndexPath=["parentPath","readTime"];var Ap=function(t){this.byteSize=t};Ap.store="remoteDocumentGlobal",Ap.key="remoteDocumentGlobalKey";var jp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};jp.store="targets",jp.keyPath="targetId",jp.queryTargetsIndexName="queryTargetsIndex",jp.queryTargetsKeyPath=["canonicalId","targetId"];var Np=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Np.store="targetDocuments",Np.keyPath=["targetId","path"],Np.documentTargetsIndex="documentTargetsIndex",Np.documentTargetsKeyPath=["path","targetId"];var kp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};kp.key="targetGlobalKey",kp.store="targetGlobal";var Rp=function(t,e){this.collectionId=t,this.parent=e};Rp.store="collectionParents",Rp.keyPath=["collectionId","parent"];var Dp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Dp.store="clientMetadata",Dp.keyPath="clientId";var Pp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Pp.store="bundles",Pp.keyPath="bundleId";var Vp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Vp.store="namedQueries",Vp.keyPath="name";var Lp=Object(hl.g)(Object(hl.g)(Object(hl.g)(Object(hl.g)([Ep.store,Ip.store,Cp.store,xp.store,jp.store,Op.store,kp.store,Np.store],[Dp.store]),[Ap.store]),[Rp.store]),[Pp.store,Vp.store]),Mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(hl.c)(e,t),e}(yp);function Up(t,e){var n=Ol(t);return op.zn(n.ps,e)}var Fp=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Nf(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=kf(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=kf(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},ad())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Sl(this.mutations,t.mutations,function(t,e){return Df(t,e)})&&Sl(this.baseMutations,t.baseMutations,function(t,e){return Df(t,e)})},t}(),qp=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.Fs=r}return t.from=function(e,n,r){_l(e.mutations.length===r.length);for(var i=sd(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Hp=function(t){this.Os=t};function zp(t,e){if(e.document)return Ud(t.Os,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Gl.Et(e.noDocument.path),r=Qp(e.noDocument.readTime);return new Ih(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Gl.Et(e.unknownDocument.path);return r=Qp(e.unknownDocument.version),new Ch(i,r)}return wl()}function Bp(t,e,n){var r=Gp(n),i=e.key.path.X().it();if(e instanceof Eh){var o=function(t,e){return{name:kd(t,e.key),fields:e.bt().mapValue.fields,updateTime:Sd(t,e.version.j())}}(t.Os,e),s=e.hasCommittedMutations;return new xp(null,null,o,s,r,i)}if(e instanceof Ih){var u=e.key.path.it(),a=Wp(e.version);return s=e.hasCommittedMutations,new xp(null,new Sp(u,a),null,s,r,i)}if(e instanceof Ch){var c=e.key.path.it(),l=Wp(e.version);return new xp(new Tp(c,l),null,null,!0,r,i)}return wl()}function Gp(t){var e=t.j();return[e.seconds,e.nanoseconds]}function $p(t){var e=new Ul(t[0],t[1]);return Fl.K(e)}function Wp(t){var e=t.j();return new _p(e.seconds,e.nanoseconds)}function Qp(t){var e=new Ul(t.seconds,t.nanoseconds);return Fl.K(e)}function Kp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return qd(t.Os,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return qd(t.Os,e)}),o=Ul.fromMillis(e.localWriteTimeMs);return new Fp(e.batchId,o,n,i)}function Yp(t){var e,n,r=Qp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Qp(t.lastLimboFreeSnapshotVersion):Fl.min();return void 0!==t.query.documents?(_l(1===(n=t.query).documents.length),e=ef(Qh(Pd(n.documents[0])))):e=function(t){return ef(Bd(t))}(t.query),new lf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,xl.fromBase64String(t.resumeToken))}function Xp(t,e){var n,r=Wp(e.kt),i=Wp(e.lastLimboFreeSnapshotVersion);n=jh(e.target)?Hd(t.Os,e.target):zd(t.Os,e.target);var o=e.resumeToken.toBase64();return new jp(e.targetId,xh(e.target),r,o,e.sequenceNumber,i,n)}function Zp(t){var e=Bd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?nf(e,e.limit,"L"):e}var Jp=function(){function t(){}return t.prototype.ks=function(t,e){return tg(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Qp(e.createTime),version:e.version};var e})},t.prototype.Ms=function(t,e){return tg(t).put({bundleId:(n=e).id,createTime:Wp(Ad(n.createTime)),version:n.version});var n},t.prototype.Ls=function(t,e){return eg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Zp(e.bundledQuery),readTime:Qp(e.readTime)};var e})},t.prototype.$s=function(t,e){return eg(t).put(function(t){return{name:t.name,readTime:Wp(Ad(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function tg(t){return Up(t,Pp.store)}function eg(t){return Up(t,Vp.store)}var ng=function(){function t(){this.Bs=new rg}return t.prototype.qs=function(t,e){return this.Bs.add(e),rp.resolve()},t.prototype.Us=function(t,e){return rp.resolve(this.Bs.getEntries(e))},t}(),rg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new Zf(Hl.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Zf(Hl.H)).it()},t}(),ig=function(){function t(){this.Qs=new rg}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:vp(i)};return og(t).put(o)}return rp.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Tl(e),""],!1,!0);return og(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(wp(o.parent))}return n})},t}();function og(t){return Up(t,Rp.store)}var sg={Ks:!1,Ws:0,js:0,Gs:0},ug=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function ag(t){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(e){if(t.code!==Al.FAILED_PRECONDITION||t.message!==gp)throw t;return yl("LocalStore","Unexpectedly lost primary lease"),[2]})})}ug.Xs=10,ug.Zs=1e3,ug.ti=new ug(41943040,ug.Xs,ug.Zs),ug.ei=new ug(-1,0,0);var cg=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Wl(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return Ql(this.ii)},t}(),lg=function(){function t(){this.ri=new cg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:Fl.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?rp.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function hg(t,e,n){var r=t.store(Ip.store),i=t.store(Cp.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.hs({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){_l(1===u)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Cp.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return rp.Ln(o).next(function(){return c})}function fg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw wl();e=t.noDocument}return JSON.stringify(e).length}var dg=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return _l(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gg(t).hs({index:Ip.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=yg(t),s=gg(t);return s.add({}).next(function(u){_l("number"==typeof u);for(var a=new Fp(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Fd(t.Os,e)}),i=n.mutations.map(function(e){return Fd(t.Os,e)});return new Ip(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,a),l=[],h=new Zf(function(t,e){return Cl(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Cp.key(i.userId,p.key.path,u);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,Cp.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[u]=a.keys()}),rp.Ln(l).next(function(){return a})})},t.prototype.Pi=function(t,e){var n=this;return gg(t).get(e).next(function(t){return t?(_l(t.userId===n.userId),Kp(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?rp.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return gg(t).hs({index:Ip.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(_l(e.batchId>=r),o=Kp(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gg(t).hs({index:Ip.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gg(t).rs(Ip.userMutationsIndex,n).next(function(t){return t.map(function(t){return Kp(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=Cp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return yg(t).hs({range:i},function(r,i,s){var u=r[0],a=r[2],c=wp(r[1]);if(u===n.userId&&e.path.isEqual(c))return gg(t).get(a).next(function(t){if(!t)throw wl();_l(t.userId===n.userId),o.push(Kp(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new Zf(Cl),i=[];return e.forEach(function(e){var o=Cp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=yg(t).hs({range:s},function(t,i,o){var s=t[0],u=t[2],a=wp(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),rp.Ln(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=Cp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Zf(Cl);return yg(t).hs({range:s},function(t,e,o){var s=t[0],a=t[2],c=wp(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.Si(t,u)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(gg(t).get(e).next(function(t){if(null===t)throw wl();_l(t.userId===n.userId),r.push(Kp(n.Qt,t))}))}),rp.Ln(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return hg(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),rp.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.Fi=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return rp.resolve();var r=IDBKeyRange.lowerBound(Cp.prefixForUser(e.userId)),i=[];return yg(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=wp(t[1]);i.push(o)}else r.done()}).next(function(){_l(0===i.length)})})},t.prototype.Oi=function(t,e){return pg(t,this.userId,e)},t.prototype.ki=function(t){var e=this;return vg(t).get(this.userId).next(function(t){return t||new Ep(e.userId,-1,"")})},t}();function pg(t,e,n){var r=Cp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return yg(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function gg(t){return Up(t,Ip.store)}function yg(t){return Up(t,Cp.store)}function vg(t){return Up(t,Ep.store)}var mg=function(){function t(t){this.Mi=t}return t.prototype.next=function(){return this.Mi+=2,this.Mi},t.Li=function(){return new t(0)},t.$i=function(){return new t(-1)},t}(),bg=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new mg(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return Fl.K(new Ul(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return wg(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return _l(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return wg(t).hs(function(s,u){var a=Yp(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Ji(t,a)))}).next(function(){return rp.Ln(o)}).next(function(){return i})},t.prototype.In=function(t,e){return wg(t).hs(function(t,n){var r=Yp(n);e(r)})},t.prototype.qi=function(t){return _g(t).get(kp.key).next(function(t){return _l(null!==t),t})},t.prototype.Ui=function(t,e){return _g(t).put(kp.key,e)},t.prototype.Gi=function(t,e){return wg(t).put(Xp(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=xh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return wg(t).hs({range:r,index:jp.queryTargetsIndexName},function(t,n,r){var o=Yp(n);Ah(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=Og(t);return e.forEach(function(e){var s=vp(e.path);i.push(o.put(new Np(n,s))),i.push(r.Ti.nr(t,n,e))}),rp.Ln(i)},t.prototype.sr=function(t,e,n){var r=this,i=Og(t);return rp.forEach(e,function(e){var o=vp(e.path);return rp.Ln([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=Og(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Og(t),i=ad();return r.hs({range:n,us:!0},function(t,e,n){var r=wp(t[1]),o=new Gl(r);i=i.add(o)}).next(function(){return i})},t.prototype.Oi=function(t,e){var n=vp(e.path),r=IDBKeyRange.bound([n],[Tl(n)],!1,!0),i=0;return Og(t).hs({index:Np.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return wg(t).get(e).next(function(t){return t?Yp(t):null})},t}();function wg(t){return Up(t,jp.store)}function _g(t){return Up(t,kp.store)}function Og(t){return Up(t,Np.store)}function Eg(t,e){var n=t[1],r=e[1],i=Cl(t[0],e[0]);return 0===i?Cl(n,r):i}var Ig=function(){function t(t){this.cr=t,this.buffer=new Zf(Eg),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Eg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Cg=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;yl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(hl.b)(e,void 0,void 0,function(){var e;return Object(hl.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return ap(e=n.sent())?(yl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ag(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),Sg=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return rp.resolve(Ml.q);var r=new Ig(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(yl("LruGarbageCollector","Garbage collection skipped; disabled"),rp.resolve(sg)):this.pr(t).next(function(r){return r<n.params.zs?(yl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),sg):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(yl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.gr(t,n)}).next(function(t){return a=Date.now(),gl()<=as.a.DEBUG&&yl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),rp.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),Tg=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Sg(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return xg(t,n)},t.prototype.ir=function(t,e,n){return xg(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return xg(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return vg(t).ls(function(r){return pg(t,r,e).next(function(t){return t&&(n=!0),rp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.Fr().Nr(),i=[],o=0;return this.Dr(t,function(s,u){if(u<=e){var a=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),Og(t).delete([0,vp(s.path)])})});i.push(a)}}).next(function(){return rp.Ln(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Mt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Or=function(t,e){return xg(t,e)},t.prototype.Dr=function(t,e){var n,r=Og(t),i=Ml.q;return r.hs({index:Np.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Ml.q&&e(new Gl(wp(n)),i),i=s,n=o):i=Ml.q}).next(function(){i!==Ml.q&&e(new Gl(wp(n)),i)})},t.prototype.pr=function(t){return this.db.Fr().kr(t)},t}();function xg(t,e){return Og(t).put(function(t,e){return new Np(0,vp(t.path),e)}(e,t.bs))}var Ag=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return kg(t).put(Rg(e),n)},t.prototype.li=function(t,e){var n=kg(t),r=Rg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Mr(t,r)})},t.prototype._i=function(t,e){var n=this;return kg(t).get(Rg(e)).next(function(t){return n.Lr(t)})},t.prototype.$r=function(t,e){var n=this;return kg(t).get(Rg(e)).next(function(t){var e=n.Lr(t);return e?{hi:e,size:fg(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=nd();return this.Br(t,e,function(t,e){var i=n.Lr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=nd(),i=new Kf(Gl.H);return this.Br(t,e,function(t,e){var o=n.Lr(e);o?(r=r.zt(t,o),i=i.zt(t,fg(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return rp.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return kg(t).hs({range:r},function(t,e,r){for(var s=Gl.Et(t);o&&Gl.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=id(),o=e.path.length+1,s={};if(n.isEqual(Fl.min())){var u=e.path.it();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.it(),c=Gp(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=xp.collectionReadTimeIndex}return kg(t).hs(s,function(t,n,s){if(t.length===o){var u=zp(r.Qt,n);e.path.nt(u.key.path)?u instanceof Eh&&uf(e,u)&&(i=i.zt(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new jg(this,!!t&&t.Wr)},t.prototype.kr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Ng(t).get(Ap.key).next(function(t){return _l(!!t),t})},t.prototype.Mr=function(t,e){return Ng(t).put(Ap.key,e)},t.prototype.Lr=function(t){if(t){var e=zp(this.Qt,t);return e instanceof Ih&&e.version.isEqual(Fl.min())?null:e}return null},t}(),jg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new cg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(hl.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new Zf(function(t,e){return Cl(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var u=e.Gr.get(o);if(s.hi){var a=Bp(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=fg(a);r+=c-u,n.push(e.jr.ai(t,o,a))}else if(r-=u,e.Wr){var l=Bp(e.jr.Qt,new Ih(o,Fl.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),rp.Ln(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.$r(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(lg);function Ng(t){return Up(t,Ap.store)}function kg(t){return Up(t,xp.store)}function Rg(t){return t.path.it()}var Dg=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;_l(n<r&&n>=0&&r<=11);var o=new ip("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Op.store)}(t),function(t){t.createObjectStore(Ep.store,{keyPath:Ep.keyPath}),t.createObjectStore(Ip.store,{keyPath:Ip.keyPath,autoIncrement:!0}).createIndex(Ip.userMutationsIndex,Ip.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Cp.store)}(t),Pg(t),function(t){t.createObjectStore(xp.store)}(t));var s=rp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Np.store),t.deleteObjectStore(jp.store),t.deleteObjectStore(kp.store)}(t),Pg(t)),s=s.next(function(){return function(t){var e=t.store(kp.store),n=new kp(0,0,Fl.min().j(),0);return e.put(kp.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Ip.store).rs().next(function(n){t.deleteObjectStore(Ip.store),t.createObjectStore(Ip.store,{keyPath:Ip.keyPath,autoIncrement:!0}).createIndex(Ip.userMutationsIndex,Ip.userMutationsKeyPath,{unique:!0});var r=e.store(Ip.store),i=n.map(function(t){return r.put(t)});return rp.Ln(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Dp.store,{keyPath:Dp.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Ap.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(xp.store);e.createIndex(xp.readTimeIndex,xp.readTimeIndexPath,{unique:!1}),e.createIndex(xp.collectionReadTimeIndex,xp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Pp.store,{keyPath:Pp.keyPath})}(t),function(t){t.createObjectStore(Vp.store,{keyPath:Vp.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(xp.store).hs(function(t,n){e+=fg(n)}).next(function(){var n=new Ap(e);return t.store(Ap.store).put(Ap.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(Ep.store),r=t.store(Ip.store);return n.rs().next(function(n){return rp.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(Ip.userMutationsIndex,i).next(function(r){return rp.forEach(r,function(r){_l(r.userId===n.userId);var i=Kp(e.Qt,r);return hg(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(Np.store),n=t.store(xp.store);return t.store(kp.store).get(kp.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new Hl(n),s=function(t){return[0,vp(t)]}(o);r.push(e.get(s).next(function(n){return n?rp.resolve():function(n){return e.put(new Np(0,vp(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return rp.Ln(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(Rp.store,{keyPath:Rp.keyPath});var n=e.store(Rp.store),r=new rg,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:vp(i)})}};return e.store(xp.store).hs({us:!0},function(t,e){var n=new Hl(t);return i(n.X())}).next(function(){return e.store(Cp.store).hs({us:!0},function(t,e){var n=wp(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(jp.store);return n.hs(function(t,r){var i=Yp(r),o=Xp(e.Qt,i);return n.put(o)})},t}();function Pg(t){t.createObjectStore(Np.store,{keyPath:Np.keyPath}).createIndex(Np.documentTargetsIndex,Np.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(jp.store,{keyPath:jp.keyPath}).createIndex(jp.queryTargetsIndexName,jp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(kp.store)}var Vg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Lg=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=u,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new jl(Al.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Tg(this,i),this.ho=n+"main",this.Qt=new Hp(a),this.lo=new op(this.ho,11,new Dg(this.Qt)),this._o=new bg(this.Ti,this.Qt),this.Ei=new ig,this.fo=function(t,e){return new Ag(t,e)}(this.Qt,this.Ei),this.wo=new Jp,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&vl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new jl(Al.FAILED_PRECONDITION,Vg);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new Ml(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(hl.b)(e,void 0,void 0,function(){return Object(hl.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(hl.b)(e,void 0,void 0,function(){return Object(hl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(hl.b)(e,void 0,void 0,function(){return Object(hl.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Ug(e).put(new Dp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(ap(e))return yl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return yl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return Mg(t).get(Op.key).next(function(t){return rp.resolve(e.Do(t))})},t.prototype.Co=function(t){return Ug(t).delete(this.clientId)},t.prototype.xo=function(){return Object(hl.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(hl.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Up(t,Dp.store);return e.rs().next(function(t){var n=r.Fo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return rp.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Oo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?rp.resolve(!0):Mg(t).get(Op.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.ko(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new jl(Al.FAILED_PRECONDITION,Vg);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ug(t).rs().next(function(t){return void 0===e.Fo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&yl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Mo=function(){return Object(hl.b)(this,void 0,void 0,function(){var t=this;return Object(hl.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Lo(),this.co&&(this.co.cancel(),this.co=null),this.$o(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Op.store,Dp.store],function(e){var n=new Mp(e,Ml.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.Fo=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.ko(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Ug(e).rs().next(function(e){return t.Fo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return dg.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return yl("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Lp,function(o){return r=new Mp(o,i.so?i.so.next():Ml.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw vl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new jl(Al.FAILED_PRECONDITION,gp);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return Mg(t).get(Op.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.ko(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new jl(Al.FAILED_PRECONDITION,Vg)})},t.prototype.So=function(t){var e=new Op(this.clientId,this.allowTabSynchronization,Date.now());return Mg(t).put(Op.key,e)},t.Kn=function(){return op.Kn()},t.prototype.vo=function(t){var e=this,n=Mg(t);return n.get(Op.key).next(function(t){return e.Do(t)?(yl("IndexedDbPersistence","Releasing primary lease."),n.delete(Op.key)):rp.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(vl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.$o=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Lo(),e.Zr.Ps(function(){return e.Mo()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.ko=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Oo(t)));return yl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return vl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Lo=function(){if(this.Eo)try{this.Eo.setItem(this.Oo(this.clientId),String(Date.now()))}catch(t){vl("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Oo(this.clientId))}catch(t){}},t.prototype.Oo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Mg(t){return Up(t,Op.store)}function Ug(t){return Up(t,Dp.store)}function Fg(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var qg=function(t,e){this.progress=t,this.Go=e},Hg=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=nd();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=ed();return i.forEach(function(t,e){e||(e=new Ih(t,Fl.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return Gl.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):Jh(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new Gl(e)).next(function(t){var e=id();return t instanceof Eh&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=id();return this.Ei.Us(t,i).next(function(s){return rp.forEach(s,function(s){var u=function(t,e){return new $h(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,u,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=kf(a,r.get(c),o.vs);r=l instanceof Eh?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){uf(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=ad(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof Lf&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Eh&&(c=c.zt(t,e))}),c})},t}(),zg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=ad(),i=ad(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Bg=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(Fl.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(Kh(e)||Yh(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(gl()<=as.a.DEBUG&&yl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),sf(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new Zf(af(t));return e.forEach(function(e,r){r instanceof Eh&&uf(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return gl()<=as.a.DEBUG&&yl("QueryEngine","Using full collection scan to execute query:",sf(e)),this.ac.Kr(t,e,Fl.min())},t}(),Gg=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new Kf(Cl),this.dc=new cg(function(t){return xh(t)},Ah),this.wc=Fl.min(),this.zo=t.Qo(n),this.Ec=t.Fr(),this._o=t.Sr(),this.Tc=new Hg(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function $g(t,e,n,r){return new Gg(t,e,n,r)}function Wg(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(hl.d)(this,function(s){switch(s.label){case 0:return n=Ol(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new Hg(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=ad(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,y=p.mutations;g<y.length;g++)s=s.add(y[g].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function Qg(t,e){var n=Ol(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=rp.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.Fs.get(t);_l(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.Fi(t)}).next(function(){return n.Tc.Xo(t,r)})})}function Kg(t){var e=Ol(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function Yg(t,e){var n=Ol(t),r=e.kt,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.Fe.forEach(function(e,o){var u=i.get(o);if(u){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var a=e.resumeToken;if(a.l()>0){var c=u.Lt(a,r).Mt(t.bs);i=i.zt(o,c),function(t,e,n){return _l(e.resumeToken.l()>0),0===t.resumeToken.l()||e.kt.W()-t.kt.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(u,c,e)&&s.push(n._o.Hi(t,c))}}});var u=ed();if(e.ke.forEach(function(r,i){e.Me.has(r)&&s.push(n.persistence.Ti.Or(t,r))}),s.push(Xg(t,o,e.ke,r,void 0).next(function(t){u=t})),!r.isEqual(Fl.min())){var a=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(a)}return rp.Ln(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,u)})}).then(function(t){return n.fc=i,t})}function Xg(t,e,n,r,i){var o=ad();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=ed();return n.forEach(function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof Ih&&s.version.isEqual(Fl.min())?(e.li(n,a),o=o.zt(n,s)):null==u||s.version._(u.version)>0||0===s.version._(u.version)&&u.hasPendingWrites?(e.ai(s,a),o=o.zt(n,s)):yl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),o})}function Zg(t,e){var n=Ol(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function Jg(t,e){var n=Ol(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?rp.resolve(r=i):n._o.Bi(t).next(function(i){return r=new lf(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.kt._(r.kt)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function ty(t,e,n){return Object(hl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(hl.d)(this,function(u){switch(u.label){case 0:r=Ol(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!ap(s=u.sent()))throw s;return yl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function ey(t,e,n){var r=Ol(t),i=Fl.min(),o=ad();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Ol(t),i=r.dc.get(n);return void 0!==i?rp.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,ef(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:Fl.min(),n?o:ad())}).next(function(t){return{documents:t,Rc:o}})})}function ny(t,e){var n=Ol(t),r=Ol(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function ry(t){var e=Ol(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Ol(t),i=ed(),o=Gp(n),s=kg(e),u=IDBKeyRange.lowerBound(o,!0);return s.hs({index:xp.readTimeIndex,range:u},function(t,e){var n=zp(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:$p(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function iy(t){return Object(hl.b)(this,void 0,void 0,function(){var e;return Object(hl.d)(this,function(n){return[2,(e=Ol(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=kg(t),n=Fl.min();return e.hs({index:xp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=$p(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function oy(t,e,n,r){return Object(hl.b)(this,void 0,void 0,function(){var i,o,s,u,a,c,l,h,f,d;return Object(hl.d)(this,function(p){switch(p.label){case 0:for(i=Ol(t),o=ad(),s=ed(),u=sd(),a=0,c=n;a<c.length;a++)h=e.Pc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),u=u.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,Jg(i,function(t){return ef(Qh(Hl.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Xg(t,f,s,Fl.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function sy(t,e,n){return void 0===n&&(n=ad()),Object(hl.b)(this,void 0,void 0,function(){var r,i;return Object(hl.d)(this,function(o){switch(o.label){case 0:return[4,Jg(t,ef(Zp(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ol(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Ad(e.readTime);if(r.kt._(o)>=0)return i.wo.$s(t,e);var s=r.Lt(xl.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.$s(t,e)})})]}})})}var uy=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.ks=function(t,e){return rp.resolve(this.Vc.get(e))},t.prototype.Ms=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Ad(n.createTime)}),rp.resolve()},t.prototype.Ls=function(t,e){return rp.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:Zp(t.bundledQuery),readTime:Ad(t.readTime)}}(e)),rp.resolve()},t}(),ay=function(){function t(){this.vc=new Zf(cy.Sc),this.Dc=new Zf(cy.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new cy(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new cy(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Oc=function(t){var e=this,n=new Gl(new Hl([])),r=new cy(n,t),i=new cy(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.kc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.Mc=function(t){var e=new Gl(new Hl([])),n=new cy(e,t),r=new cy(e,t+1),i=ad();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Oi=function(t){var e=new cy(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),cy=function(){function t(t,e){this.key=t,this.Lc=e}return t.Sc=function(t,e){return Gl.H(t.key,e.key)||Cl(t.Lc,e.Lc)},t.Cc=function(t,e){return Cl(t.Lc,e.Lc)||Gl.H(t.key,e.key)},t}(),ly=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.$c=1,this.Bc=new Zf(cy.Sc)}return t.prototype.Ai=function(t){return rp.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.$c;this.$c++;var o=new Fp(i,e,n,r);this.zo.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.Bc=this.Bc.add(new cy(a.key,i)),this.Ei.qs(t,a.key.path.X())}return rp.resolve(o)},t.prototype.Pi=function(t,e){return rp.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return rp.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return rp.resolve(0===this.zo.length?-1:this.$c-1)},t.prototype.pi=function(t){return rp.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new cy(e,0),i=new cy(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Lc);o.push(e)}),rp.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new Zf(Cl);return e.forEach(function(t){var e=new cy(t,0),i=new cy(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Lc)})}),rp.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;Gl.wt(i)||(i=i.child(""));var o=new cy(new Gl(i),0),s=new Zf(Cl);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Lc)),!0)},o),rp.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;_l(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return rp.forEach(e.mutations,function(i){var o=new cy(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Oi=function(t,e){var n=new cy(e,0),r=this.Bc.Re(n);return rp.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return rp.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),hy=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new Kf(Gl.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return rp.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=nd();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),rp.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=id(),i=new Gl(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),u=s.value,a=u.hi,c=u.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||a instanceof Eh&&uf(e,a)&&(r=r.zt(a.key,a))}return rp.resolve(r)},t.prototype.jc=function(t,e){return rp.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new fy(this)},t.prototype.kr=function(t){return rp.resolve(this.size)},t}(),fy=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(hl.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),rp.Ln(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(lg),dy=function(){function t(t){this.persistence=t,this.Gc=new cg(function(t){return xh(t)},Ah),this.lastRemoteSnapshotVersion=Fl.min(),this.highestTargetId=0,this.zc=0,this.Hc=new ay,this.targetCount=0,this.Jc=mg.Li()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),rp.resolve()},t.prototype.Qi=function(t){return rp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return rp.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),rp.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),rp.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new mg(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,rp.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),rp.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Oc(e.targetId),this.targetCount-=1,rp.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,u.targetId)),i++)}),rp.Ln(o).next(function(){return i})},t.prototype.Zi=function(t){return rp.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return rp.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),rp.resolve()},t.prototype.sr=function(t,e,n){this.Hc.Fc(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),rp.Ln(i)},t.prototype.Yi=function(t,e){return this.Hc.Oc(e),rp.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.Mc(e);return rp.resolve(n)},t.prototype.Oi=function(t,e){return rp.resolve(this.Hc.Oi(e))},t}(),py=function(){function t(t,e){var n=this;this.Yc={},this.so=new Ml(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new dy(this),this.Ei=new ng,this.fo=function(t,e){return new hy(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new Hp(e),this.wo=new uy(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Mo=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new ly(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;yl("MemoryPersistence","Starting transaction:",t);var i=new gy(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).kn().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return rp.$n(Object.values(this.Yc).map(function(n){return function(){return n.Oi(t,e)}}))},t}(),gy=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(hl.c)(e,t),e}(yp),yy=function(){function t(t){this.persistence=t,this.na=new ay,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw wl()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),rp.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),rp.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),rp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Oc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.Fr().Nr();return rp.forEach(this.ra,function(r){var i=Gl._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Or=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return rp.$n([function(){return rp.resolve(n.na.Oi(e))},function(){return n.persistence.Sr().Oi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function vy(t,e){return"firestore_clients_"+t+"_"+e}function my(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function by(t,e){return"firestore_targets_"+t+"_"+e}var wy=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new jl(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(vl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),_y=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new jl(r.error.code,r.error.message)),i?new t(e,r.state,o):(vl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Oy=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ld(),s=0;i&&s<r.activeTargetIds.length;++s)i=oh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(vl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ey=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(vl("SharedClientState","Failed to parse online state: "+e),null)},t}(),Iy=function(){function t(){this.activeTargetIds=ld()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Cy=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.M=null,this.da=this.wa.bind(this),this.Ea=new Kf(Cl),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=vy(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Iy),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(hl.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(hl.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(vy(this.persistenceKey,r)))&&(o=Oy.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(u=this.pa(s))&&this.ba(u),a=0,c=this.Ta;a<c.length;a++)this.wa(c[a]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.Mo()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.Fa(t)},t.prototype.Oa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(by(this.persistenceKey,t));if(n){var r=_y.ca(t,n);r&&(e=r.state)}}return this.ka.ua(t),this.Va(),e},t.prototype.Ma=function(t){this.ka.ha(t),this.Va()},t.prototype.La=function(t){return this.ka.activeTargetIds.has(t)},t.prototype.$a=function(t){this.removeItem(by(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.Fa(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.Mo=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return yl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){yl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){yl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(yl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void vl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(hl.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(hl.d)(this,function(u){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=Ml.q;if(null!=t)try{var n=JSON.parse(t);_l("number"==typeof n),e=n}catch(t){vl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ml.q&&this.M(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ka",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.ka.aa())},t.prototype.xa=function(t,e,n){var r=new wy(this.currentUser,t,e,n),i=my(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.Fa=function(t){var e=my(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=by(this.persistenceKey,t),i=new _y(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Oy.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return wy.ca(new kl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return _y.ca(r,e)},t.prototype.pa=function(t){return Ey.ca(t)},t.prototype.Ya=function(t){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(yl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this._a.su(s,u).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=ld();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),Sy=function(){function t(){this.iu=new Iy,this.ru={},this.fa=null,this.M=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Oa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.Ma=function(t){this.iu.ha(t)},t.prototype.La=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.$a=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new Iy,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.Mo=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Ty=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.Mo=function(){},t}(),xy=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.Mo=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){yl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){yl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ay={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jy=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Ny=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(hl.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new ll;s.listenOnce(ul.COMPLETE,function(){try{switch(s.getLastErrorCode()){case sl.NO_ERROR:var e=s.getResponseJson();yl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case sl.TIMEOUT:yl("Connection",'RPC "'+t+'" timed out'),o(new jl(Al.DEADLINE_EXCEEDED,"Request time out"));break;case sl.HTTP_ERROR:var n=s.getStatus();if(yl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Al).indexOf(e)>=0?e:Al.UNKNOWN}(r.status);o(new jl(u,r.message))}else o(new jl(Al.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new jl(Al.UNAVAILABLE,"Connection failed."));break;default:wl()}}finally{yl("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new el,i=ia(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(cs.l)()||Object(cs.n)()||Object(cs.j)()||Object(cs.k)()||Object(cs.o)()||Object(cs.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");yl("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new jy({fu:function(t){c?yl("Connection","Not sending because WebChannel is closed:",t):(a||(yl("Connection","Opening WebChannel transport."),u.open(),a=!0),yl("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u,cl.EventType.OPEN,function(){c||yl("Connection","WebChannel transport opened.")}),h(u,cl.EventType.CLOSE,function(){c||(c=!0,yl("Connection","WebChannel transport closed"),l.Ru())}),h(u,cl.EventType.ERROR,function(t){c||(c=!0,ml("Connection","WebChannel transport errored:",t),l.Ru(new jl(Al.UNAVAILABLE,"The operation could not be completed")))}),h(u,cl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];_l(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){yl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Hf[t];if(void 0!==e)return Qf(e)}(i),s=r.message;void 0===o&&(o=Al.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new jl(o,s)),u.close()}else yl("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,al.STAT_EVENT,function(t){10===t.stat?yl("Connection","Detected buffering proxy"):11===t.stat&&yl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);yl("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return yl("RestConnection","Received: ",t),t},function(e){throw ml("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.6",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+Ay[t]},t}());function ky(){return"undefined"!=typeof window?window:null}function Ry(){return"undefined"!=typeof document?document:null}function Dy(t){return new Cd(t,!0)}var Py=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.Fu=i,this.Ou=0,this.ku=null,this.Mu=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ou=0},t.prototype.Lu=function(){this.Ou=this.Fu},t.prototype.$u=function(t){var e=this;this.cancel();var n=Math.floor(this.Ou+this.Bu()),r=Math.max(0,Date.now()-this.Mu),i=Math.max(0,n-r);i>0&&yl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ou+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ku=this.Zr.Tr(this.fs,i,function(){return e.Mu=Date.now(),t()}),this.Ou*=this.Nu,this.Ou<this.xu&&(this.Ou=this.xu),this.Ou>this.Fu&&(this.Ou=this.Fu)},t.prototype.qu=function(){null!==this.ku&&(this.ku.Rs(),this.ku=null)},t.prototype.cancel=function(){null!==this.ku&&(this.ku.cancel(),this.ku=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Ou},t}(),Vy=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Py(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Al.RESOURCE_EXHAUSTED?(vl(e.toString()),vl("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Lu()):e&&e.code===Al.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new jl(Al.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.$u(function(){return Object(hl.b)(t,void 0,void 0,function(){return Object(hl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return yl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(yl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ly=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(hl.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:wl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(_l(void 0===e||"string"==typeof e),xl.fromBase64String(e||"")):(_l(void 0===e||e instanceof Uint8Array),xl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Al.UNKNOWN:Qf(t.code);return new jl(e,t.message||"")}(u);n=new md(r,i,o,s||null)}else if("documentChange"in e){i=Rd(t,(r=e.documentChange).document.name),o=Ad(r.document.updateTime);var u=new bh({mapValue:{fields:r.document.fields}}),a=(s=new Eh(i,o,u,{}),r.targetIds||[]);n=new yd(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Rd(t,(r=e.documentDelete).document),o=r.readTime?Ad(r.readTime):Fl.min(),u=new Ih(i,o),n=new yd([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=Rd(t,(r=e.documentRemove).document),n=new yd([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return wl();var c=e.filter;i=new $f(r=c.count||0),n=new vd(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return Fl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Fl.min():e.readTime?Ad(e.readTime):Fl.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Vd(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=jh(r)?{documents:Hd(t,r)}:{query:zd(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Td(t,e.resumeToken):e.kt._(Fl.min())>0&&(n.readTime=Sd(t,e.kt.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wl()}}(0,e.Ot);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Vd(this.Qt),e.removeTarget=t,this.th(e)},e}(Vy),My=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(hl.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(_l(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(_l(void 0!==e),t.map(function(t){return function(t,e){var n=Ad(t.updateTime?t.updateTime:e);n.isEqual(Fl.min())&&(n=Ad(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Tf(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Ad(t.commitTime);return this.listener.dh(n,e)}return _l(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Vd(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Fd(e.Qt,t)})};this.th(n)},e}(Vy),Uy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(hl.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new jl(Al.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===Al.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===Al.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),Fy=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(vl(e),this.Rh=!1):yl("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),qy=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.Fh=[],this.Oh=i,this.Oh.ou(function(t){n.Ps(function(){return Object(hl.b)(o,void 0,void 0,function(){return Object(hl.d)(this,function(t){switch(t.label){case 0:return Yy(this)?(yl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(hl.b)(this,void 0,void 0,function(){var e;return Object(hl.d)(this,function(n){switch(n.label){case 0:return(e=Ol(t)).Nh.add(4),[4,zy(e)];case 1:return n.sent(),e.kh.set("Unknown"),e.Nh.delete(4),[4,Hy(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.kh=new Fy(n,r)};function Hy(t){return Object(hl.b)(this,void 0,void 0,function(){var e,n;return Object(hl.d)(this,function(r){switch(r.label){case 0:if(!Yy(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function zy(t){return Object(hl.b)(this,void 0,void 0,function(){var e,n;return Object(hl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function By(t,e){var n=Ol(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),Ky(n)?Qy(n):hv(n).Hu()&&$y(n,e))}function Gy(t,e){var n=Ol(t),r=hv(n);n.xh.delete(e),r.Hu()&&Wy(n,e),0===n.xh.size&&(r.Hu()?r.Xu():Yy(n)&&n.kh.set("Unknown"))}function $y(t,e){t.Mh.on(e.targetId),hv(t).uh(e)}function Wy(t,e){t.Mh.on(e),hv(t).hh(e)}function Qy(t){t.Mh=new wd({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),hv(t).start(),t.kh.Ph()}function Ky(t){return Yy(t)&&!hv(t).zu()&&t.xh.size>0}function Yy(t){return 0===Ol(t).Nh.size}function Xy(t){t.Mh=void 0}function Zy(t){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(e){return t.xh.forEach(function(e,n){$y(t,e)}),[2]})})}function Jy(t,e){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(n){return Xy(t),Ky(t)?(t.kh.Vh(e),Qy(t)):t.kh.set("Unknown"),[2]})})}function tv(t,e,n){return Object(hl.b)(this,void 0,void 0,function(){var r,i,o;return Object(hl.d)(this,function(s){switch(s.label){case 0:if(t.kh.set("Online"),!(e instanceof md&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(hl.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Lh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.Mh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),yl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ev(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof yd?t.Mh.dn(e):e instanceof vd?t.Mh.Pn(e):t.Mh.Tn(e),n.isEqual(Fl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Kg(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.Mh.Vn(e);return n.Fe.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Lt(n.resumeToken,e))}}),n.Oe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Lt(xl.T,n.kt)),Wy(t,e);var r=new lf(n.target,e,1,n.sequenceNumber);$y(t,r)}}),t.Dh.$h(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return yl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ev(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function ev(t,e,n){return Object(hl.b)(this,void 0,void 0,function(){var r=this;return Object(hl.d)(this,function(i){switch(i.label){case 0:if(!ap(e))throw e;return t.Nh.add(1),[4,zy(t)];case 1:return i.sent(),t.kh.set("Offline"),n||(n=function(){return Kg(t.bh)}),t._s.po(function(){return Object(hl.b)(r,void 0,void 0,function(){return Object(hl.d)(this,function(e){switch(e.label){case 0:return yl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,Hy(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function nv(t,e){return e().catch(function(n){return ev(t,n,e)})}function rv(t){return Object(hl.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(hl.d)(this,function(s){switch(s.label){case 0:e=Ol(t),n=fv(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Yy(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Zg(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=fv(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,ev(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return iv(e)&&ov(e),[2]}})})}function iv(t){return Yy(t)&&!fv(t).zu()&&t.Ch.length>0}function ov(t){fv(t).start()}function sv(t){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(e){return fv(t).Eh(),[2]})})}function uv(t){return Object(hl.b)(this,void 0,void 0,function(){var e,n,r;return Object(hl.d)(this,function(i){for(e=fv(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function av(t,e,n){return Object(hl.b)(this,void 0,void 0,function(){var r,i;return Object(hl.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=qp.from(r,e,n),[4,nv(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,rv(t)];case 2:return o.sent(),[2]}})})}function cv(t,e){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(n){switch(n.label){case 0:return e&&fv(t)._h?[4,function(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r;return Object(hl.d)(this,function(i){switch(i.label){case 0:return Wf(r=e.code)&&r!==Al.ABORTED?(n=t.Ch.shift(),fv(t).Yu(),[4,nv(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,rv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return iv(t)&&ov(t),[2]}})})}function lv(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n;return Object(hl.d)(this,function(r){switch(r.label){case 0:return n=Ol(t),e?(n.Nh.delete(2),[4,Hy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,zy(n)]);case 3:r.sent(),n.kh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function hv(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Ol(t);return r.Ih(),new Ly(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Zy.bind(null,t),Tu:Jy.bind(null,t),ah:tv.bind(null,t)}),t.Fh.push(function(n){return Object(hl.b)(e,void 0,void 0,function(){return Object(hl.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),Ky(t)?Qy(t):t.kh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),Xy(t),e.label=3;case 3:return[2]}})})})),t.Uh}function fv(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Ol(t);return r.Ih(),new My(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:sv.bind(null,t),Tu:cv.bind(null,t),wh:uv.bind(null,t),dh:av.bind(null,t)}),t.Fh.push(function(n){return Object(hl.b)(e,void 0,void 0,function(){return Object(hl.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,rv(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(yl("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var dv=function(){this.Kh=void 0,this.listeners=[]},pv=function(){this.queries=new cg(function(t){return of(t)},rf),this.onlineState="Unknown",this.Wh=new Set};function gv(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(hl.d)(this,function(c){switch(c.label){case 0:if(n=Ol(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new dv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return u=c.sent(),a=pp(u,"Initialization of query '"+sf(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&bv(n),[2]}})})}function yv(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(hl.d)(this,function(u){return n=Ol(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function vv(t,e){for(var n=Ol(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].zh(s)&&(r=!0);u.Kh=s}}r&&bv(n)}function mv(t,e,n){var r=Ol(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function bv(t){t.Wh.forEach(function(t){t.next()})}var wv=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new dd(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=dd.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),_v=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Ov=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Rd(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?Ud(this.Qt,t.document,!1):new Ih(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Ad(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Ov(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||ad()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(hl.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(hl.d)(this,function(o){switch(o.label){case 0:return[4,oy(this.bh,new Ov(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,sy(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new qg(Object.assign({},this.progress),t))]}})})}}();var Ev=function(t){this.key=t},Iv=function(t){this.key=t},Cv=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=ad(),this.De=ad(),this.hl=af(t),this.ll=new hd(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new fd,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,u=!1,a=Kh(this.query)&&i.size===this.query.limit?i.last():null,c=Yh(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof Eh?e:null;h&&(h=uf(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.hl(h,a)>0||c&&n.hl(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Kh(this.query)||Yh(this.query))for(;s.size>this.query.limit;){var l=Kh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:u,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wl()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],u=0===this.ul.size&&this.Be?1:0,a=u!==this.al;return this.al=u,0!==o.length||a?{snapshot:new dd(this.query,t.ll,i,o,t.De,0===u,a,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new fd,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=ad(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new Iv(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new Ev(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=ad();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return dd.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Sv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Tv=function(t){this.key=t,this.Pl=!1},xv=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new cg(function(t){return of(t)},rf),this.Sl=new Map,this.Dl=[],this.Cl=new Kf(Gl.H),this.xl=new Map,this.Nl=new ay,this.Fl={},this.Ol=new Map,this.kl=mg.$i(),this.onlineState="Unknown",this.Ml=void 0}return Object.defineProperty(t.prototype,"Ll",{get:function(){return!0===this.Ml},enumerable:!1,configurable:!0}),t}();function Av(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(hl.d)(this,function(u){switch(u.label){case 0:return n=im(t),(i=n.vl.get(e))?(n.Vl.Oa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,Jg(n.bh,ef(e))];case 2:return o=u.sent(),s=n.Vl.Oa(o.targetId),[4,jv(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.Ll&&By(n.yl,o),u.label=4;case 4:return[2,r]}})})}function jv(t,e,n,r){return Object(hl.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(hl.d)(this,function(l){switch(l.label){case 0:return t.$l=function(e,n,r){return function(t,e,n,r){return Object(hl.b)(this,void 0,void 0,function(){var i,o,s;return Object(hl.d)(this,function(u){switch(u.label){case 0:return(i=e.view.fl(n)).lc?[4,ey(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.wi(i,t.Ll,o),[2,(zv(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,ey(t.bh,e,!0)];case 1:return i=l.sent(),o=new Cv(e,i.Rc),s=o.fl(i.documents),u=gd.$e(n,r&&"Offline"!==t.onlineState),a=o.wi(s,t.Ll,u),zv(t,n,a.Il),c=new Sv(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),a.snapshot)]}})})}function Nv(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i;return Object(hl.d)(this,function(o){switch(o.label){case 0:return n=Ol(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!rf(t,e)})),void n.vl.delete(e))]:n.Ll?(n.Vl.Ma(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,ty(n.bh,r.targetId,!1).then(function(){n.Vl.$a(r.targetId),Gy(n.yl,r.targetId),qv(n,r.targetId)}).catch(ag)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return qv(n,r.targetId),[4,ty(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function kv(t,e,n){return Object(hl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(hl.d)(this,function(u){switch(u.label){case 0:r=om(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ol(t),i=Ul.now(),o=e.reduce(function(t,e){return t.add(e.key)},ad());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=Rf(c,n.get(c.key));null!=l&&s.push(new Lf(c.key,l,_h(l.proto.mapValue),xf.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=u.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.A()];r||(r=new Kf(Cl)),r=r.zt(e,n),t.Fl[t.currentUser.A()]=r}(r,i.batchId,n),[4,$v(r,i.ri)];case 3:return u.sent(),[4,rv(r.yl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=pp(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Rv(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r;return Object(hl.d)(this,function(i){switch(i.label){case 0:n=Ol(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Yg(n.bh,e)];case 2:return r=i.sent(),e.Fe.forEach(function(t,e){var r=n.xl.get(e);r&&(_l(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?_l(r.Pl):t.Qe.size>0&&(_l(r.Pl),r.Pl=!1))}),[4,$v(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ag(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Dv(t,e,n){var r=Ol(t);if(r.Ll&&0===n||!r.Ll&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Ol(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&bv(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ll&&r.Vl.Qa(e)}}function Pv(t,e,n){return Object(hl.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(hl.d)(this,function(c){switch(c.label){case 0:return(r=Ol(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new Kf(Gl.H)).zt(o,new Ih(o,Fl.min())),u=ad().add(o),a=new pd(Fl.min(),new Map,new Zf(Cl),s,u),[4,Rv(r,a)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),Gv(r),[3,4];case 2:return[4,ty(r.bh,e,!1).then(function(){return qv(r,e,n)}).catch(ag)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Vv(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i;return Object(hl.d)(this,function(o){switch(o.label){case 0:n=Ol(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Qg(n.bh,e)];case 2:return i=o.sent(),Fv(n,r,null),Uv(n,r),n.Vl.Na(r,"acknowledged"),[4,$v(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ag(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Lv(t,e,n){return Object(hl.b)(this,void 0,void 0,function(){var r,i;return Object(hl.d)(this,function(o){switch(o.label){case 0:r=Ol(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Ol(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return _l(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.Fi(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),Fv(r,e,n),Uv(r,e),r.Vl.Na(e,"rejected",n),[4,$v(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ag(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Mv(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(hl.d)(this,function(u){switch(u.label){case 0:Yy((n=Ol(t)).yl)||yl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=Ol(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Ol.get(r)||[]).push(e),n.Ol.set(r,i),[3,4]);case 3:return o=u.sent(),s=pp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Uv(t,e){(t.Ol.get(e)||[]).forEach(function(t){t.resolve()}),t.Ol.delete(e)}function Fv(t,e,n){var r=Ol(t),i=r.Fl[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.A()]=i}}function qv(t,e,n){void 0===n&&(n=null),t.Vl.Ma(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ll&&t.Nl.Oc(e).forEach(function(e){t.Nl.Oi(e)||Hv(t,e)})}function Hv(t,e){var n=t.Cl.get(e);null!==n&&(Gy(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Gv(t))}function zv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Ev?(t.Nl.nr(o.key,e),Bv(t,o)):o instanceof Iv?(yl("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Oi(o.key)||Hv(t,o.key)):wl()}}function Bv(t,e){var n=e.key;t.Cl.get(n)||(yl("SyncEngine","New document in limbo: "+n),t.Dl.push(n),Gv(t))}function Gv(t){for(;t.Dl.length>0&&t.Cl.size<t.pl;){var e=t.Dl.shift(),n=t.kl.next();t.xl.set(n,new Tv(e)),t.Cl=t.Cl.zt(e,n),By(t.yl,new lf(ef(Qh(e.path)),n,2,Ml.q))}}function $v(t,e,n){return Object(hl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(hl.d)(this,function(u){switch(u.label){case 0:return r=Ol(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,u){s.push(r.$l(u,e,n).then(function(t){if(t){r.Ll&&r.Vl.Ba(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=zg.oc(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.bl.ah(i),[4,function(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(hl.d)(this,function(l){switch(l.label){case 0:n=Ol(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return rp.forEach(e,function(e){return rp.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return rp.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!ap(r=l.sent()))throw r;return yl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.fc.get(u),c=a.$t(a.kt),n.fc=n.fc.zt(u,c));return[2]}})})}(r.bh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Wv(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r;return Object(hl.d)(this,function(i){switch(i.label){case 0:return(n=Ol(t)).currentUser.isEqual(e)?[3,3]:(yl("SyncEngine","User change. New user:",e.A()),[4,Wg(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Ol.forEach(function(t){t.forEach(function(t){t.reject(new jl(Al.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Ol.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,$v(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Qv(t,e){var n=Ol(t),r=n.xl.get(e);if(r&&r.Pl)return ad().add(r.key);var i=ad(),o=n.Sl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.vl.get(u[s]);i=i.Pe(a.view._l)}return i}function Kv(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i;return Object(hl.d)(this,function(o){switch(o.label){case 0:return[4,ey((n=Ol(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ll&&zv(n,e.targetId,i.Il),i)]}})})}function Yv(t){return Object(hl.b)(this,void 0,void 0,function(){var e;return Object(hl.d)(this,function(n){return[2,ry((e=Ol(t)).bh).then(function(t){return $v(e,t)})]})})}function Xv(t,e,n,r){return Object(hl.b)(this,void 0,void 0,function(){var i,o;return Object(hl.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Ol(t),r=Ol(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):rp.resolve(null)})})}((i=Ol(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,rv(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Fv(i,e,r||null),Uv(i,e),function(t,e){Ol(Ol(t).zo).xi(e)}(i.bh,e)):wl(),s.label=4;case 4:return[4,$v(i,o)];case 5:return s.sent(),[3,7];case 6:yl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Zv(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(hl.d)(this,function(c){switch(c.label){case 0:return im(n=Ol(t)),om(n),!0!==e||!0===n.Ml?[3,3]:(r=n.Vl.va(),[4,Jv(n,r.it())]);case 1:return i=c.sent(),n.Ml=!0,[4,lv(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)By(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ml?[3,7]:(u=[],a=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.La(e)?u.push(e):a=a.then(function(){return qv(n,e),ty(n.bh,e,!0)}),Gy(n.yl,e)}),[4,a]);case 4:return c.sent(),[4,Jv(n,u)];case 5:return c.sent(),function(t){var e=Ol(t);e.xl.forEach(function(t,n){Gy(e.yl,n)}),e.Nl.kc(),e.xl=new Map,e.Cl=new Kf(Gl.H)}(n),n.Ml=!1,[4,lv(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Jv(t,e,n){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(hl.d)(this,function(g){switch(g.label){case 0:n=Ol(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=void 0,(c=n.Sl.get(u=s[o]))&&0!==c.length?[4,Jg(n.bh,ef(c[0]))]:[3,7]):[3,13];case 2:a=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,Kv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ny(n.bh,u)];case 8:return p=g.sent(),[4,Jg(n.bh,p)];case 9:return a=g.sent(),[4,jv(n,tm(p),u,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function tm(t){return Wh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function em(t){var e=Ol(t);return Ol(Ol(e.bh).persistence).Uo()}function nm(t,e,n,r){return Object(hl.b)(this,void 0,void 0,function(){var i,o,s;return Object(hl.d)(this,function(u){switch(u.label){case 0:return(i=Ol(t)).Ml?(yl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ry(i.bh)];case 3:return o=u.sent(),s=pd.Le(e,"current"===n),[4,$v(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,ty(i.bh,e,!0)];case 6:return u.sent(),qv(i,e,r),[3,8];case 7:wl(),u.label=8;case 8:return[2]}})})}function rm(t,e,n){return Object(hl.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,h;return Object(hl.d)(this,function(f){switch(f.label){case 0:if(!(r=im(t)).Ml)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(yl("SyncEngine","Adding an already active target "+s),[3,5]):[4,ny(r.bh,s)]:[3,6];case 2:return u=f.sent(),[4,Jg(r.bh,u)];case 3:return a=f.sent(),[4,jv(r,tm(u),a.targetId,!1)];case 4:f.sent(),By(r.yl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(hl.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,ty(r.bh,t,!1).then(function(){Gy(r.yl,t),qv(r,t)}).catch(ag)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function im(t){var e=Ol(t);return e.yl.Dh.$h=Rv.bind(null,e),e.yl.Dh.vn=Qv.bind(null,e),e.yl.Dh.Lh=Pv.bind(null,e),e.bl.ah=vv.bind(null,e.gl),e.bl.Bl=mv.bind(null,e.gl),e}function om(t){var e=Ol(t);return e.yl.Dh.Bh=Vv.bind(null,e),e.yl.Dh.qh=Lv.bind(null,e),e}var sm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(e){switch(e.label){case 0:return this.Qt=Dy(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return $g(this.persistence,new Bg,t.Jl,this.Qt)},t.prototype.jl=function(t){return new py(yy.ia,this.Qt)},t.prototype.Wl=function(t){return new Sy},t.prototype.terminate=function(){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.Mo()];case 1:return t.sent(),[4,this.persistence.Mo()];case 2:return t.sent(),[2]}})})},t}(),um=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(hl.c)(e,t),e.prototype.initialize=function(e){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,iy(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,om(this.Yl._a)];case 4:return n.sent(),[4,rv(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return $g(this.persistence,new Bg,t.Jl,this.Qt)},e.prototype.zl=function(t){return new Cg(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=Fg(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?ug.Ys(this.cacheSizeBytes):ug.ti;return new Lg(this.synchronizeTabs,e,t.clientId,n,t._s,ky(),Ry(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Sy},e}(sm),am=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(hl.c)(e,t),e.prototype.initialize=function(e){return Object(hl.b)(this,void 0,void 0,function(){var n,r=this;return Object(hl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Cy?(this.Vl._a={eu:Xv.bind(null,n),nu:nm.bind(null,n),su:rm.bind(null,n),Uo:em.bind(null,n),tu:Yv.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(hl.b)(r,void 0,void 0,function(){return Object(hl.d)(this,function(e){switch(e.label){case 0:return[4,Zv(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=ky();if(!Cy.Kn(e))throw new jl(Al.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Fg(t.yu.t,t.yu.persistenceKey);return new Cy(e,t._s,n,t.clientId,t.Jl)},e}(um),cm=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n=this;return Object(hl.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Dv(n._a,t,1)},this.yl.Dh.n_=Wv.bind(null,this._a),[4,lv(this.yl,this._a.Ll)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new pv},t.prototype.Xl=function(t){var e=Dy(t.yu.t),n=new Ny(t.yu);return function(t,e,n){return new Uy(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Dv(s._a,t,0)},o=xy.Kn()?new xy:new Ty,new qy(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var u=new xv(t,e,n,r,i,o);return s&&(u.Ml=!0),u}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(hl.b)(this,void 0,void 0,function(){var e;return Object(hl.d)(this,function(n){switch(n.label){case 0:return e=Ol(t),yl("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,zy(e)];case 1:return n.sent(),e.Oh.Mo(),e.kh.set("Unknown"),[2]}})})}(this.yl)},t}(),lm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),hm=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new np,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(hl.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(hl.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new _v(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(hl.b)(this,void 0,void 0,function(){var t,e;return Object(hl.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(hl.b)(this,void 0,void 0,function(){var e;return Object(hl.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(hl.b)(this,void 0,void 0,function(){var t,e;return Object(hl.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new jl(Al.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Bl(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),fm=function(t){this._methodName=t},dm=function(t){this.d_=t};function pm(t,e,n){if(!n)throw new jl(Al.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function gm(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new jl(Al.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ym(t,e,n,r){if(!0===e&&!0===r)throw new jl(Al.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function vm(t){if(!Gl.wt(t))throw new jl(Al.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function mm(t){if(Gl.wt(t))throw new jl(Al.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function bm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":wl()}function wm(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new jl(Al.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=bm(t);throw new jl(Al.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function _m(t,e){if(e<=0)throw new jl(Al.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Om=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new jl(Al.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jl(Al.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ym("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Em=new Map,Im=function(){function t(t,e){this.w_="(lite)",this.E_=new Om({}),this.T_=!1,t instanceof dl?(this.I_=t,this.m_=new Dl):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new jl(Al.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dl(t.options.projectId)}(t),this.m_=new Pl(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new jl(Al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new jl(Al.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Om(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Dl;switch(t.type){case"gapi":var e=t.client;return _l(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ll(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new jl(Al.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Em.get(this))&&(yl("ComponentProvider","Removing Datastore"),Em.delete(this),t.terminate()),Promise.resolve();var t},t}(),Cm=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Tm(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Sm=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Tm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Qh(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(hl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Cm(this.firestore,null,new Gl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Sm);function xm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof dm&&(t=t.d_),pm("collection","path",e),t instanceof Im)return mm(n=Hl.ot.apply(Hl,Object(hl.g)([e],r))),new Tm(t,null,n);if(!(t instanceof Cm||t instanceof Tm))throw new jl(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return mm(n=Hl.ot.apply(Hl,Object(hl.g)([t.path],r)).child(Hl.ot(e))),new Tm(t.firestore,null,n)}function Am(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof dm&&(t=t.d_),1===arguments.length&&(e=Il.u()),pm("doc","path",e),t instanceof Im)return vm(n=Hl.ot.apply(Hl,Object(hl.g)([e],r))),new Cm(t,null,new Gl(n));if(!(t instanceof Cm||t instanceof Tm))throw new jl(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vm(n=t.D_.child(Hl.ot.apply(Hl,Object(hl.g)([e],r)))),new Cm(t.firestore,t instanceof Tm?t.v_:null,new Gl(n))}function jm(t,e){return t instanceof dm&&(t=t.d_),e instanceof dm&&(e=e.d_),(t instanceof Cm||t instanceof Tm)&&(e instanceof Cm||e instanceof Tm)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Nm(t,e){return t instanceof dm&&(t=t.d_),e instanceof dm&&(e=e.d_),t instanceof Sm&&e instanceof Sm&&t.firestore===e.firestore&&rf(t.C_,e.C_)&&t.v_===e.v_}var km=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new jl(Al.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new jl(Al.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Cl(this.x_,t.x_)||Cl(this.N_,t.N_)},t}(),Rm=/^__.*__$/,Dm=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new Lf(t,this.data,this.Gt,e,this.fieldTransforms):new Vf(t,this.data,e,this.fieldTransforms)},t}(),Pm=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Lf(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function Vm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wl()}}var Lm=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return rb(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Vm(this.k_)&&Rm.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Mm=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Dy(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Lm({k_:t,methodName:e,j_:n,path:Bl.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function Um(t){var e=t.p_(),n=Dy(t.I_);return new Mm(t.I_,!!e.ignoreUndefinedProperties,n)}function Fm(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Jm("Data must be an object, but it was:",s,r);var u,a,c=Xm(r,s);if(o.merge)u=new Kl(s.Gt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=tb(e,f[h],n);if(!s.contains(d))throw new jl(Al.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");ib(l,d)||l.push(d)}u=new Kl(l),a=s.fieldTransforms.filter(function(t){return u.Tt(t.field)})}else u=null,a=s.fieldTransforms;return new Dm(new bh(c),u,a)}var qm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hl.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(fm);function Hm(t,e,n){return new Lm({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var zm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hl.c)(e,t),e.prototype.z_=function(t){return new Sf(t.path,new mf)},e.prototype.isEqual=function(t){return t instanceof e},e}(fm),Bm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(hl.c)(e,t),e.prototype.z_=function(t){var e=Hm(this,t,!0),n=this.H_.map(function(t){return Ym(t,e)}),r=new bf(n);return new Sf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(fm),Gm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(hl.c)(e,t),e.prototype.z_=function(t){var e=Hm(this,t,!0),n=this.H_.map(function(t){return Ym(t,e)}),r=new _f(n);return new Sf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(fm),$m=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(hl.c)(e,t),e.prototype.z_=function(t){var e=new Ef(t.Qt,df(t.Qt,this.J_));return new Sf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(fm);function Wm(t,e,n,r){var i=t.G_(1,e,n);Jm("Data must be an object, but it was:",i,r);var o=[],s=new wh;Wl(r,function(t,r){var u=nb(e,t,n);r instanceof dm&&(r=r.d_);var a=i.U_(u);if(r instanceof qm)o.push(u);else{var c=Ym(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new Kl(o);return new Pm(s.Pt(),u,i.fieldTransforms)}function Qm(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[tb(e,r,n)],a=[i];if(o.length%2!=0)throw new jl(Al.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(tb(e,o[c])),a.push(o[c+1]);for(var l=[],h=new wh,f=u.length-1;f>=0;--f)if(!ib(l,u[f])){var d=u[f],p=a[f];p instanceof dm&&(p=p.d_);var g=s.U_(d);if(p instanceof qm)l.push(d);else{var y=Ym(p,g);null!=y&&(l.push(d),h.set(d,y))}}var v=new Kl(l);return new Pm(h.Pt(),v,s.fieldTransforms)}function Km(t,e,n,r){return void 0===r&&(r=!1),Ym(n,t.G_(r?4:3,e))}function Ym(t,e){if(t instanceof dm&&(t=t.d_),Zm(t))return Jm("Unsupported field value:",e,t),Xm(t,e);if(t instanceof fm)return function(t,e){if(!Vm(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Ym(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof dm&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return df(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ul.fromDate(t);return{timestampValue:Sd(e.Qt,n)}}if(t instanceof Ul)return n=new Ul(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Sd(e.Qt,n)};if(t instanceof km)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nl)return{bytesValue:Td(e.Qt,t.I)};if(t instanceof Cm){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:jd(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+bm(t))}(t,e)}function Xm(t,e){var n={};return Ql(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):Wl(t,function(t,r){var i=Ym(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Zm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ul||t instanceof km||t instanceof Nl||t instanceof Cm||t instanceof fm)}function Jm(t,e,n){if(!Zm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=bm(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function tb(t,e,n){if(e instanceof dm&&(e=e.d_),e instanceof hm)return e.f_;if("string"==typeof e)return nb(t,e);throw rb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var eb=new RegExp("[~\\*/\\[\\]]");function nb(t,e,n){if(e.search(eb)>=0)throw rb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(hm.bind.apply(hm,Object(hl.g)([void 0],e.split("."))))).f_}catch(r){throw rb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function rb(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new jl(Al.INVALID_ARGUMENT,(u+=". ")+t+a)}function ib(t,e){return t.some(function(t){return t.isEqual(e)})}var ob=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(hl.b)(this,void 0,void 0,function(){var e,n=this;return Object(hl.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new jl(Al.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(hl.d)(this,function(a){switch(a.label){case 0:return n=Ol(t),r=Vd(n.Qt)+"/documents",i={documents:e.map(function(t){return kd(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){_l(!!e.found);var n=Rd(t,e.found.name),r=Ad(e.found.updateTime),i=new bh({mapValue:{fields:e.found.fields}});return new Eh(n,r,i,{})}(t,e):"missing"in e?function(t,e){_l(!!e.missing),_l(!!e.readTime);var n=Rd(t,e.missing),r=Ad(e.readTime);return new Ih(n,r)}(t,e):wl()}(n.Qt,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());_l(!!e),u.push(e)}),u)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Ih||t instanceof Eh?n.sf(t):wl()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Bf(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(hl.b)(this,void 0,void 0,function(){var t,e=this;return Object(hl.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Gl._t(n);e.mutations.push(new Gf(r,e.jt(r)))}),[4,function(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i;return Object(hl.d)(this,function(o){switch(o.label){case 0:return n=Ol(t),r=Vd(n.Qt)+"/documents",i={writes:e.map(function(t){return Fd(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Eh)e=t.version;else{if(!(t instanceof Ih))throw wl();e=Fl.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new jl(Al.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?xf.updateTime(e):xf.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Fl.min()))throw new jl(Al.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xf.updateTime(e)}return xf.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),sb=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new Py(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.$u(function(){return Object(hl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(hl.d)(this,function(r){return t=new ob(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!rh(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Wf(e)}return!1},t}(),ub=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=kl.UNAUTHENTICATED,this.clientId=Il.u(),this._f=function(){},this.C=new np,this.credentials.v(function(t){yl("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new jl(Al.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new np;return this._s.Tf(function(){return Object(hl.b)(t,void 0,void 0,function(){var t,n;return Object(hl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=pp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function ab(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(hl.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),yl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(hl.b)(i,void 0,void 0,function(){return Object(hl.d)(this,function(t){switch(t.label){case 0:return[4,Wg(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function cb(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r;return Object(hl.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,lb(t)];case 1:return n=i.sent(),yl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(hl.b)(this,void 0,void 0,function(){var n,r;return Object(hl.d)(this,function(i){switch(i.label){case 0:return(n=Ol(t))._s.Af(),yl("RemoteStore","RemoteStore received new credentials"),r=Yy(n),n.Nh.add(3),[4,zy(n)];case 1:return i.sent(),r&&n.kh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,Hy(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function lb(t){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(yl("FirestoreClient","Using default OfflineComponentProvider"),[4,ab(t,new sm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function hb(t){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(yl("FirestoreClient","Using default OnlineComponentProvider"),[4,cb(t,new cm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function fb(t){return lb(t).then(function(t){return t.persistence})}function db(t){return lb(t).then(function(t){return t.bh})}function pb(t){return hb(t).then(function(t){return t.yl})}function gb(t){return hb(t).then(function(t){return t._a})}function yb(t){return Object(hl.b)(this,void 0,void 0,function(){var e,n;return Object(hl.d)(this,function(r){switch(r.label){case 0:return[4,hb(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Av.bind(null,e._a),n.Hh=Nv.bind(null,e._a),n)]}})})}function vb(t,e,n){var r=this;void 0===n&&(n={});var i=new np;return t._s.Ps(function(){return Object(hl.b)(r,void 0,void 0,function(){var r;return Object(hl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new lm({next:function(o){e.Ps(function(){return yv(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new jl(Al.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new jl(Al.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new wv(Qh(n.path),o,{includeMetadataChanges:!0,nl:!0});return gv(t,s)},[4,yb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function mb(t,e,n){var r=this;void 0===n&&(n={});var i=new np;return t._s.Ps(function(){return Object(hl.b)(r,void 0,void 0,function(){var r;return Object(hl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new lm({next:function(n){e.Ps(function(){return yv(t,s)}),n.fromCache&&"server"===r.source?i.reject(new jl(Al.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new wv(n,o,{includeMetadataChanges:!0,nl:!0});return gv(t,s)},[4,yb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var bb=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Py(this,"async_queue_retry"),this.vf=function(){var e=Ry();e&&yl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Ry();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Ry();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(hl.b)(this,void 0,void 0,function(){var t,e=this;return Object(hl.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!ap(t=n.sent()))throw t;return yl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.$u(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,vl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=dp.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&wl()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(hl.b)(this,void 0,void 0,function(){var t;return Object(hl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function wb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.Mf={},this.Lf=new np,this.$f={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Mf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Lf.promise.catch(t)},t.prototype.then=function(t,e){return this.Lf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.Mf.complete&&this.Mf.complete(),this.Lf.resolve(t)},t.prototype.Kl=function(t){this.$f.taskState="Error",this.Mf.next&&this.Mf.next(this.$f),this.Mf.error&&this.Mf.error(t),this.Lf.reject(t)},t.prototype.Ul=function(t){this.$f=t,this.Mf.next&&this.Mf.next(t)}}();var _b=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new bb,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(hl.c)(e,t),e.prototype.b_=function(){return this.qf||Eb(this),this.qf.terminate()},e}(Im);function Ob(t){return t.qf||Eb(t),t.qf.df(),t.qf}function Eb(t){var e=t.p_(),n=function(t,e,n){return new fl(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new ub(t.m_,t.Bf,n)}function Ib(t,e,n){var r=this,i=new np;return t._s.enqueue(function(){return Object(hl.b)(r,void 0,void 0,function(){var r;return Object(hl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ab(t,n)];case 1:return o.sent(),[4,cb(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Al.FAILED_PRECONDITION||t.code===Al.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Cb(t){if(t.R_||t.P_)throw new jl(Al.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Sb=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),sh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zl(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(Jl(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw wl()}},t.prototype.Hf=function(t,e){var n=this,r={};return Wl(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new km(Zl(t.latitude),Zl(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=eh(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(nh(t));default:return null}},t.prototype.Qf=function(t){var e=Xl(t);return new Ul(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=Hl.ot(t);_l(ep(n));var r=new dl(n.get(1),n.get(3)),i=new Gl(n.Y(5));return r.isEqual(e)||vl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Tb=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Cm(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new xb(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Ab("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),xb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Tb);function Ab(t,e){return"string"==typeof e?nb(t,e):e instanceof dm?e.d_.f_:e.f_}function jb(t){if(Yh(t)&&0===t.xt.length)throw new jl(Al.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nb=function(){};function kb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Rb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(hl.c)(e,t),e.prototype.td=function(t){var e=Um(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new jl(Al.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Fb(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(Ub(r,t,l[c]));u={arrayValue:{values:a}}}else u=Ub(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Fb(s,o),u=Km(n,"where",s,"in"===o||"not-in"===o);var h=Nh.create(i,o,u);return function(t,e){if(e.Ct()){var n=Zh(t);if(null!==n&&!n.isEqual(e.field))throw new jl(Al.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Xh(t);null!==r&&qb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new jl(Al.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new Sm(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new $h(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Nb),Db=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(hl.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new jl(Al.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new jl(Al.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Hh(e,n);return function(t,e){if(null===Xh(t)){var n=Zh(t);null!==n&&qb(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new Sm(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new $h(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Nb),Pb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(hl.c)(e,t),e.prototype.td=function(t){return new Sm(t.firestore,t.v_,nf(t.C_,this.od,this.ad))},e}(Nb),Vb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(hl.c)(e,t),e.prototype.td=function(t){var e=Mb(t,this.type,this.ud,this.hd);return new Sm(t.firestore,t.v_,function(t,e){return new $h(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Nb),Lb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(hl.c)(e,t),e.prototype.td=function(t){var e=Mb(t,this.type,this.ud,this.hd);return new Sm(t.firestore,t.v_,function(t,e){return new $h(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Nb);function Mb(t,e,n,r){if(n[0]instanceof dm&&(n[0]=n[0].d_),n[0]instanceof Tb)return function(t,e,n,r,i){if(!r)throw new jl(Al.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=tf(t);s<u.length;s++){var a=u[s];if(a.field.ut())o.push(dh(e,r.key));else{var c=r.field(a.field);if(th(c))throw new jl(Al.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.rt();throw new jl(Al.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Fh(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=Um(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new jl(Al.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ut()){if("string"!=typeof c)throw new jl(Al.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Jh(t)&&-1!==c.indexOf("/"))throw new jl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Hl.ot(c));if(!Gl.wt(l))throw new jl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Gl(l);u.push(dh(e,h))}else{var f=Km(n,r,c);u.push(f)}}return new Fh(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Ub(t,e,n){if(n instanceof dm&&(n=n.d_),"string"==typeof n){if(""===n)throw new jl(Al.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jh(e)&&-1!==n.indexOf("/"))throw new jl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Hl.ot(n));if(!Gl.wt(r))throw new jl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return dh(t,new Gl(r))}if(n instanceof Cm)return dh(t,n.S_);throw new jl(Al.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+bm(n)+".")}function Fb(t,e){if(!Array.isArray(t)||0===t.length)throw new jl(Al.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new jl(Al.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function qb(t,e,n){if(!n.isEqual(e))throw new jl(Al.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Hb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var zb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(hl.c)(e,t),e.prototype.Wf=function(t){return new Nl(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Cm(this.firestore,null,e)},e}(Sb),Bb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Gb=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).Yf=e,u.ld=e,u.metadata=o,u}return Object(hl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new $b(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Ab("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Tb),$b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Gb),Wb=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new Bb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new $b(n.Yf,n.Xf,r.key,r,new Bb(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new jl(Al.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new $b(t.Yf,t.Xf,e.doc.key,e.doc,new Bb(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new $b(t.Yf,t.Xf,e.doc.key,e.doc,new Bb(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Qb(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function Qb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wl()}}function Kb(t,e){return t instanceof Gb&&e instanceof Gb?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof Wb&&e instanceof Wb&&t.Yf===e.Yf&&Nm(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var Yb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(hl.c)(e,t),e.prototype.Wf=function(t){return new Nl(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Cm(this.firestore,null,e)},e}(Sb);function Xb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=wm(t,Cm);var o=wm(t.firestore,_b),s=Um(o);return e instanceof dm&&(e=e.d_),Jb(o,[("string"==typeof e||e instanceof hm?Qm(s,"updateDoc",t.S_,e,n,r):Wm(s,"updateDoc",t.S_,e)).F_(t.S_,xf.exists(!0))])}function Zb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof dm&&(t=t.d_);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||wb(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(wb(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Cm)c=wm(t.firestore,_b),l=Qh(t.S_.path),a={next:function(e){i[u]&&i[u](tw(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=wm(t,Sm);c=wm(d.firestore,_b),l=d.C_;var p=new Yb(c);a={next:function(t){i[u]&&i[u](new Wb(c,p,d,t))},error:i[u+1],complete:i[u+2]},jb(t.C_)}return function(t,e,n,r){var i=this,o=new lm(r),s=new wv(e,o,n);return t._s.Ps(function(){return Object(hl.b)(i,void 0,void 0,function(){var e;return Object(hl.d)(this,function(n){switch(n.label){case 0:return e=gv,[4,yb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(hl.b)(i,void 0,void 0,function(){var e;return Object(hl.d)(this,function(n){switch(n.label){case 0:return e=yv,[4,yb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Ob(c),l,h,a)}function Jb(t,e){return function(t,e){var n=this,r=new np;return t._s.Ps(function(){return Object(hl.b)(n,void 0,void 0,function(){var n;return Object(hl.d)(this,function(i){switch(i.label){case 0:return n=kv,[4,gb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Ob(t),e)}function tw(t,e,n){var r=n.docs.get(e.S_),i=new Yb(t);return new Gb(t,i,e.S_,r,new Bb(n.hasPendingWrites,n.fromCache),e.v_)}var ew=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=Um(t)}return t.prototype.set=function(t,e,n){this.md();var r=nw(t,this.Yf),i=Hb(r.v_,e,n),o=Fm(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,xf.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=nw(t,this.Yf);return e instanceof dm&&(e=e.d_),o="string"==typeof e||e instanceof hm?Qm(this.Id,"WriteBatch.update",s.S_,e,n,r):Wm(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,xf.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=nw(t,this.Yf);return this.Ed=this.Ed.concat(new Bf(e.S_,xf.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new jl(Al.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function nw(t,e){if(t instanceof dm&&(t=t.d_),t.firestore!==e)throw new jl(Al.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var rw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(hl.c)(e,t),e.prototype.get=function(e){var n=this,r=nw(e,this.Yf),i=new Yb(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new Gb(n.Yf,i,r.S_,t.Zf,new Bb(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=Um(t)}return t.prototype.get=function(t){var e=this,n=nw(t,this.Yf),r=new zb(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return wl();var i=t[0];if(i instanceof Ih)return new Tb(e.Yf,r,n.S_,null,n.v_);if(i instanceof Eh)return new Tb(e.Yf,r,i.key,i,n.v_);throw wl()})},t.prototype.set=function(t,e,n){var r=nw(t,this.Yf),i=Hb(r.v_,e,n),o=Fm(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=nw(t,this.Yf);return e instanceof dm&&(e=e.d_),o="string"==typeof e||e instanceof hm?Qm(this.Id,"Transaction.update",s.S_,e,n,r):Wm(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=nw(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function iw(){if("undefined"==typeof Uint8Array)throw new jl(Al.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ow(){if("undefined"==typeof atob)throw new jl(Al.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hl.c)(e,t),e.fromBase64String=function(t){return ow(),new e(Nl.fromBase64String(t))},e.fromUint8Array=function(t){return iw(),new e(Nl.fromUint8Array(t))},e.prototype.toBase64=function(){return ow(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return iw(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(dm),uw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Cb(t=wm(t,_b));var n=Ob(t),r=t.p_(),i=new cm;return Ib(n,i,new um(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Cb(t=wm(t,_b));var e=Ob(t),n=t.p_(),r=new cm;return Ib(e,r,new am(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new jl(Al.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new np;return t.Bf.Tf(function(){return Object(hl.b)(e,void 0,void 0,function(){var e;return Object(hl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(hl.b)(this,void 0,void 0,function(){return Object(hl.d)(this,function(e){switch(e.label){case 0:return op.Kn()?[4,op.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Fg(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),aw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof dl||(i.Pd=e),i}return Object(hl.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=wm(t,Im)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&ml("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(hl.b)(e,void 0,void 0,function(){var e,n;return Object(hl.d)(this,function(r){switch(r.label){case 0:return[4,fb(t)];case 1:return e=r.sent(),[4,pb(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Ol(t);return e.Nh.delete(0),Hy(e)}(n))]}})})})}(Ob(wm(this.d_,_b)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(hl.b)(e,void 0,void 0,function(){var e,n;return Object(hl.d)(this,function(r){switch(r.label){case 0:return[4,fb(t)];case 1:return e=r.sent(),[4,pb(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(hl.b)(this,void 0,void 0,function(){var e;return Object(hl.d)(this,function(n){switch(n.label){case 0:return(e=Ol(t)).Nh.add(0),[4,zy(e)];case 1:return n.sent(),e.kh.set("Offline"),[2]}})})}(n))]}})})})}(Ob(wm(this.d_,_b)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ym("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new np;return t._s.Ps(function(){return Object(hl.b)(e,void 0,void 0,function(){var e;return Object(hl.d)(this,function(r){switch(r.label){case 0:return e=Mv,[4,gb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Ob(wm(this.d_,_b)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new lm(e);return t._s.Ps(function(){return Object(hl.b)(n,void 0,void 0,function(){var e;return Object(hl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ol(t).Wh.add(e),e.next()},[4,yb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(hl.b)(n,void 0,void 0,function(){var e;return Object(hl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ol(t).Wh.delete(e)},[4,yb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Ob(t=wm(t,_b)),wb(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new jl(Al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ow(this,xm(this.d_,t))}catch(t){throw pw(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new dw(this,Am(this.d_,t))}catch(t){throw pw(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new bw(this,function(t,e){if(t=wm(t,Im),pm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new jl(Al.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Sm(t,null,function(t){return new $h(Hl.ct(),t)}(e))}(this.d_,t))}catch(t){throw pw(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new np;return t._s.Ps(function(){return Object(hl.b)(n,void 0,void 0,function(){var n;return Object(hl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return hb(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new sb(t._s,n,e,r).run(),[2]}})})}),r.promise}(Ob(t),function(n){return e(new rw(t,n))})}(this.d_,function(n){return t(new lw(e,n))})},e.prototype.batch=function(){var t=this;return Ob(this.d_),new hw(new ew(this.d_,function(e){return Jb(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new jl(Al.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new jl(Al.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(dm),cw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(hl.c)(e,t),e.prototype.Wf=function(t){return new sw(new Nl(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return dw.yd(e,this.firestore,null)},e}(Sb),lw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new cw(e),r}return Object(hl.c)(e,t),e.prototype.get=function(t){var e=this,n=Ew(t);return this.d_.get(n).then(function(t){return new vw(e.Yf,new Gb(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=Ew(t);return n?(gm("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Ew(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(hl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Ew(t);return this.d_.delete(e),this},e}(dm),hw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hl.c)(e,t),e.prototype.set=function(t,e,n){var r=Ew(t);return n?(gm("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Ew(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(hl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Ew(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(dm),fw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(hl.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new $b(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new mw(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new cw(t),n),i.set(n,o)),o},e}(dm);fw.Vd=new WeakMap;var dw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new cw(e),r}return Object(hl.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new jl(Al.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Cm(n.d_,r,new Gl(t)))},e.yd=function(t,n,r){return new e(n,new Cm(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ow(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ow(this.firestore,xm(this.d_,t))}catch(t){throw pw(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof dm&&(t=t.d_),t instanceof Cm&&jm(this.d_,t)},e.prototype.set=function(t,e){e=gm("DocumentReference.set",e);try{return function(t,e,n){t=wm(t,Cm);var r=wm(t.firestore,_b),i=Hb(t.v_,e,n);return Jb(r,[Fm(Um(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,xf.Kt())])}(this.d_,t,e)}catch(t){throw pw(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Xb(this.d_,t):Xb.apply(void 0,Object(hl.g)([this.d_,t,e],n))}catch(t){throw pw(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Jb(wm((t=this.d_).firestore,_b),[new Bf(t.S_,xf.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=gw(e),i=yw(e,function(e){return new vw(t.firestore,new Gb(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return Zb(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=wm(t,Cm);var e=wm(t.firestore,_b),n=Ob(e),r=new Yb(e);return function(t,e){var n=this,r=new np;return t._s.Ps(function(){return Object(hl.b)(n,void 0,void 0,function(){var n;return Object(hl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(hl.b)(this,void 0,void 0,function(){var r,i;return Object(hl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Ol(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Eh?n.resolve(i):i instanceof Ih?n.resolve(null):n.reject(new jl(Al.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=pp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,db(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Gb(e,r,t.S_,n,new Bb(n instanceof Eh&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=wm(t,Cm);var e=wm(t.firestore,_b);return vb(Ob(e),t.S_,{source:"server"}).then(function(n){return tw(e,t,n)})}(this.d_):function(t){t=wm(t,Cm);var e=wm(t.firestore,_b);return vb(Ob(e),t.S_).then(function(n){return tw(e,t,n)})}(this.d_)).then(function(t){return new vw(e.firestore,new Gb(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(fw.gd(this.firestore,t)))},e}(dm);function pw(t,e,n){return t.message=t.message.replace(e,n),t}function gw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!wb(r))return r}return{}}function yw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=wb(t[0])?t[0]:wb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var vw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(hl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new dw(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return Kb(this.d_,t.d_)},e}(dm),mw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hl.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(vw),bw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new cw(e),r}return Object(hl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,kb(this.d_,function(t,e,n){var r=e,i=Ab("where",t);return new Rb(i,r,n)}(t,n,r)))}catch(t){throw pw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,kb(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Ab("orderBy",t);return new Db(r,n)}(t,n)))}catch(t){throw pw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,kb(this.d_,function(t){return _m("limit",t),new Pb("limit",t,"F")}(t)))}catch(t){throw pw(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,kb(this.d_,function(t){return _m("limitToLast",t),new Pb("limitToLast",t,"L")}(t)))}catch(t){throw pw(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,kb(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vb("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw pw(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,kb(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vb("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw pw(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,kb(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lb("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw pw(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,kb(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lb("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw pw(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Nm(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=wm(t,Sm);var e=wm(t.firestore,_b),n=Ob(e),r=new Yb(e);return function(t,e){var n=this,r=new np;return t._s.Ps(function(){return Object(hl.b)(n,void 0,void 0,function(){var n;return Object(hl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(hl.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(hl.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,ey(t,e,!0)];case 1:return u=a.sent(),r=new Cv(e,u.Rc),i=r.fl(u.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=pp(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,db(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Wb(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=wm(t,Sm);var e=wm(t.firestore,_b),n=Ob(e),r=new Yb(e);return mb(n,t.C_,{source:"server"}).then(function(n){return new Wb(e,r,t,n)})}(this.d_):function(t){t=wm(t,Sm);var e=wm(t.firestore,_b),n=Ob(e),r=new Yb(e);return jb(t.C_),mb(n,t.C_).then(function(n){return new Wb(e,r,t,n)})}(this.d_)).then(function(t){return new _w(e.firestore,new Wb(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=gw(e),i=yw(e,function(e){return new _w(t.firestore,new Wb(t.firestore.d_,t.Xf,t.d_,e._d))});return Zb(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(fw.gd(this.firestore,t)))},e}(dm),ww=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(hl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new mw(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(dm),_w=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(hl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new bw(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new mw(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new ww(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new mw(n.Yf,r))})},e.prototype.isEqual=function(t){return Kb(this.d_,t.d_)},e}(dm),Ow=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(hl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new dw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new dw(this.firestore,void 0===t?Am(this.d_):Am(this.d_,t))}catch(t){throw pw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=wm(t.firestore,_b),r=Am(t),i=Hb(t.v_,e);return Jb(n,[Fm(Um(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,xf.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new dw(e.firestore,t)})},e.prototype.isEqual=function(t){return jm(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(fw.gd(this.firestore,t)))},e}(bw);function Ew(t){return t instanceof dm&&(t=t.d_),wm(t,Cm)}var Iw,Cw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(hm.bind.apply(hm,Object(hl.g)([void 0],e))))||this}return Object(hl.c)(e,t),e.documentId=function(){return new e(Bl.ht().rt())},e.prototype.isEqual=function(t){return t instanceof dm&&(t=t.d_),t instanceof hm&&this.d_.f_.isEqual(t.f_)},e}(dm),Sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(hl.c)(e,t),e.serverTimestamp=function(){var t=new zm("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new qm("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bm("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gm("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new $m("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(dm),Tw=n("/6Yf"),xw={Firestore:aw,GeoPoint:km,Timestamp:Ul,Blob:sw,Transaction:lw,WriteBatch:hw,DocumentReference:dw,DocumentSnapshot:vw,Query:bw,QueryDocumentSnapshot:mw,QuerySnapshot:_w,CollectionReference:Ow,FieldPath:Cw,FieldValue:Sw,setLogLevel:function(t){pl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Aw(t,e){return function(t,e=ts.a){return new Dt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function jw(t,e){return Aw(t,e).pipe(Object(gt.a)(t=>({payload:t,type:"query"})))}function Nw(t,e){return jw(t,e).pipe(Cn(void 0),es(),Object(gt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function kw(t,e,n){return Nw(t,n).pipe(Sn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Rw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Rw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Rw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new is(void 0,void 0)),Object(gt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Rw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Dw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new Tw.a("firestore",function(t){return function(t,e){return new aw(t,new _b(t,e),new uw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},xw)))})(Iw=us.a),Iw.registerVersion("@firebase/firestore","2.1.5");class Pw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Nw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(gt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Cn(void 0),es(),An(([t,e])=>e.length>0||!t),Object(gt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Sn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Dw(t);return kw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return jw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(gt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(dt.a)(this.query.get(t)).pipe(Object(pt.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Vw(this.ref.doc(t),this.afs)}}class Vw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Hw(n,e);return new Pw(r,i,this.afs)}snapshotChanges(){return Aw(this.ref,this.afs.schedulers.outsideAngular).pipe(Cn(void 0),es(),Object(gt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(gt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(dt.a)(this.ref.get(t)).pipe(Object(pt.b)(this.afs.schedulers.insideAngular))}}class Lw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Nw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(gt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),An(t=>t.length>0),this.afs.keepUnstableUntilFirst):Nw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Sn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Dw(t);return kw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return jw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(gt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(dt.a)(this.query.get(t)).pipe(Object(pt.b)(this.afs.schedulers.insideAngular))}}const Mw=new r.r("angularfire2.enableFirestorePersistence"),Uw=new r.r("angularfire2.firestore.persistenceSettings"),Fw=new r.r("angularfire2.firestore.settings"),qw=new r.r("angularfire2.firestore.use-emulator");function Hw(t,e=(t=>t)){return{query:e(t),ref:t}}let zw=(()=>{class t{constructor(t,e,n,r,i,o,s,u,a){this.schedulers=new ht.d(o),this.keepUnstableUntilFirst=Object(ht.h)(this.schedulers);const c=Object(ht.g)(t,o,e);!ss.a.auth&&a&&Object(ht.j)();const l=u;[this.firestore,this.persistenceEnabled$]=Object(ht.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!k(i)){const e=()=>{try{return Object(dt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Iw){return"undefined"!=typeof console&&console.warn(Iw),Object(ft.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(ft.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Hw(n,e),o=this.schedulers.ngZone.run(()=>r);return new Pw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Lw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Vw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ht.c),r.Rb(ht.b,8),r.Rb(Mw,8),r.Rb(Fw,8),r.Rb(r.C),r.Rb(r.A),r.Rb(Uw,8),r.Rb(qw,8),r.Rb(Wo,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(ht.c),Object(r.Rb)(ht.b,8),Object(r.Rb)(Mw,8),Object(r.Rb)(Fw,8),Object(r.Rb)(r.C),Object(r.Rb)(r.A),Object(r.Rb)(Uw,8),Object(r.Rb)(qw,8),Object(r.Rb)(Wo,8))},token:t,providedIn:"any"}),t})();function Bw(t,e){1&t&&(r.Nb(0,"div"),r.Nb(1,"p"),r.fc(2,"Redirigiendo..."),r.Mb(),r.Lb(3,"div",9),r.Mb())}function Gw(t,e){1&t&&(r.Nb(0,"div",15),r.fc(1," Campo requerido. "),r.Mb())}function $w(t,e){1&t&&(r.Nb(0,"div",15),r.fc(1," Correo electr\xf3nico inv\xe1lido. "),r.Mb())}function Ww(t,e){if(1&t&&(r.Nb(0,"div"),r.dc(1,Gw,2,0,"div",14),r.dc(2,$w,2,0,"div",14),r.Mb()),2&t){const t=r.Wb(3);r.Ab(1),r.Xb("ngIf",t.email.errors.required),r.Ab(1),r.Xb("ngIf",t.email.errors.email)}}function Qw(t,e){if(1&t){const t=r.Ob();r.Nb(0,"form",10),r.Nb(1,"div"),r.Nb(2,"label"),r.fc(3,"Correo:"),r.Mb(),r.Lb(4,"input",11),r.dc(5,Ww,3,2,"div",0),r.Mb(),r.Lb(6,"br"),r.Nb(7,"div"),r.Nb(8,"label"),r.fc(9,"Contrase\xf1a:"),r.Mb(),r.Lb(10,"input",12),r.Mb(),r.Lb(11,"br"),r.Nb(12,"button",13),r.Ub("click",function(){return r.ac(t),r.Wb(2).login()}),r.fc(13,"Iniciar sesi\xf3n"),r.Mb(),r.Mb()}if(2&t){const t=r.Wb(2);r.Xb("formGroup",t.loginForm),r.Ab(5),r.Xb("ngIf",t.email.invalid&&(t.email.dirty||t.email.touched))}}function Kw(t,e){if(1&t&&(r.Nb(0,"div"),r.Nb(1,"body"),r.Nb(2,"div",1),r.Nb(3,"div",2),r.Nb(4,"header",3),r.Lb(5,"div",4),r.Mb(),r.Nb(6,"div",5),r.Nb(7,"h1",6),r.fc(8," Porfavor inicie sesi\xf3n en Dili para configurar su cuenta de vendedor "),r.Mb(),r.Mb(),r.dc(9,Bw,4,0,"div",7),r.dc(10,Qw,14,2,"ng-template",null,8,r.ec),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Zb(11),e=r.Wb();r.Ab(9),r.Xb("ngIf",e.loadingLink)("ngIfElse",t)}}const Yw=[{path:"",component:(()=>{class t{constructor(t,e,n,r,i){this.auth=t,this.fns=e,this.fb=n,this.afs=r,this.router=i,this.loadingLink=!1,this.loadingUser=!0,this.loginForm=this.fb.group({email:["",Kt.compose([Kt.required,Kt.email])],password:["",Kt.compose([Kt.required,Kt.minLength(6)])]})}ngOnInit(){this.auth.user.pipe(On(1)).subscribe(t=>zo(this,void 0,void 0,function*(){t&&(yield this.auth.signOut(),(yield this.isAccountActive(t.uid))&&this.router.navigate(["success"])),this.loadingUser=!1}))}login(){return zo(this,void 0,void 0,function*(){if(!this.loginForm.valid)return;const t=this.loginForm.value.email,e=this.loginForm.value.password;try{const n=yield this.auth.signInWithEmailAndPassword(t,e);if(yield this.isAccountActive(n.user.uid))return this.auth.signOut(),void this.router.navigate(["success"])}catch(r){return void alert("Error iniciando sesi\xf3n, verifique sus credenciales")}this.loadingLink=!0;const n=yield this.fns.httpsCallable("stripeOnboardAccount")(null).toPromise();window.location.href=n})}logout(){this.auth.signOut()}isAccountActive(t){return zo(this,void 0,void 0,function*(){const e=(yield this.afs.collection("Owners").doc(t).ref.get()).data();return!!e&&!!e.accountId&&e.isAccountActive})}get email(){return this.loginForm.get("email")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Jo),r.Kb(kt),r.Kb(tn),r.Kb(zw),r.Kb(Eo))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-login"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"sr-root"],[1,"sr-main"],[1,"sr-header"],[1,"sr-header__logo"],[1,"sr-payment-summary","payment-view"],[1,"order-amount"],[4,"ngIf","ngIfElse"],["showLogin",""],[1,"loader"],[3,"formGroup"],["type","text","formControlName","email","required",""],["type","password","formControlName","password","required",""],["formaction","",3,"click"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(t,e){1&t&&r.dc(0,Kw,12,2,"div",0),2&t&&r.Xb("ngIf",!e.loadingUser)},directives:[x,Ge,fe,Qe,zt,he,Ye,Ze],styles:[".invalid-feedback[_ngcontent-%COMP%]{display:block;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}"]}),t})()},{path:"success",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-success"]],decls:8,vars:0,consts:[[1,"sr-root"],[1,"sr-main"],[1,"sr-header"],[1,"sr-header__logo"],[1,"sr-payment-summary","payment-view"],[1,"order-amount"]],template:function(t,e){1&t&&(r.Nb(0,"body"),r.Nb(1,"div",0),r.Nb(2,"div",1),r.Nb(3,"header",2),r.Lb(4,"div",3),r.Mb(),r.Nb(5,"div",4),r.Nb(6,"h1",5),r.fc(7,"\xa1Su registro ha sido exitoso!"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb())},styles:[""]}),t})()}];let Xw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Do.forRoot(Yw)],Do]}),t})(),Zw=(()=>{class t{constructor(){this.title="dili-stripe-connect"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:[Io],styles:[""]}),t})(),Jw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[Zw]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[ht.a.initializeApp(rn),Rt,Xw,lt,N,en,nn]]}),t})();Object(r.T)(),at().bootstrapModule(Jw).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class u extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);